{"/home/travis/build/npmtest/node-npmtest-vs-mda-remote/test.js":"/* istanbul instrument in package npmtest_vs_mda_remote */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - init-before\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        switch (local.modeJs) {\n        // re-init local from window.local\n        case 'browser':\n            local = local.global.utility2.objectSetDefault(\n                local.global.utility2_rollup || local.global.local,\n                local.global.utility2\n            );\n            break;\n        // re-init local from example.js\n        case 'node':\n            local = (local.global.utility2_rollup || require('utility2'))\n                .requireReadme();\n            break;\n        }\n        // export local\n        local.global.local = local;\n    }());\n\n\n\n    // run shared js-env code - function\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - function\n    case 'browser':\n        break;\n\n\n\n    // run node js-env code - function\n    case 'node':\n        break;\n    }\n\n\n\n    // run shared js-env code - init-after\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - init-after\n    case 'browser':\n        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test browsers's null-case handling-behavior-behavior\n         */\n            onError(null, options);\n        };\n\n        // run tests\n        local.nop(local.modeTest &&\n            document.querySelector('#testRunButton1') &&\n            document.querySelector('#testRunButton1').click());\n        break;\n\n\n\n    // run node js-env code - init-after\n    /* istanbul ignore next */\n    case 'node':\n        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApidoc's default handling-behavior-behavior\n         */\n            options = { modulePathList: module.paths };\n            local.buildApidoc(options, onError);\n        };\n\n        local.testCase_buildApp_default = local.testCase_buildApp_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApp's default handling-behavior-behavior\n         */\n            local.testCase_buildReadme_default(options, local.onErrorThrow);\n            local.testCase_buildLib_default(options, local.onErrorThrow);\n            local.testCase_buildTest_default(options, local.onErrorThrow);\n            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);\n            options = [];\n            local.buildApp(options, onError);\n        };\n\n        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||\n            function (options, onError) {\n            /*\n             * this function will test buildCustomOrg's default handling-behavior\n             */\n                options = {};\n                local.buildCustomOrg(options, onError);\n            };\n\n        local.testCase_buildLib_default = local.testCase_buildLib_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildLib's default handling-behavior\n         */\n            options = {};\n            local.buildLib(options, onError);\n        };\n\n        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildReadme's default handling-behavior-behavior\n         */\n            options = {};\n            local.buildReadme(options, onError);\n        };\n\n        local.testCase_buildTest_default = local.testCase_buildTest_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildTest's default handling-behavior\n         */\n            options = {};\n            local.buildTest(options, onError);\n        };\n\n        local.testCase_webpage_default = local.testCase_webpage_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test webpage's default handling-behavior\n         */\n            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };\n            local.browserTest(options, onError);\n        };\n\n        // run test-server\n        local.testRunServer(local);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/lib.npmtest_vs_mda_remote.js":"/* istanbul instrument in package npmtest_vs_mda_remote */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - init-before\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || local;\n        // init lib\n        local.local = local.npmtest_vs_mda_remote = local;\n        // init exports\n        if (local.modeJs === 'browser') {\n            local.global.utility2_npmtest_vs_mda_remote = local;\n        } else {\n            module.exports = local;\n            module.exports.__dirname = __dirname;\n            module.exports.module = module;\n        }\n    }());\n}());\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/example.js":"/*\nexample.js\n\nquickstart example\n\ninstruction\n    1. save this script as example.js\n    2. run the shell command:\n        $ npm install npmtest-vs-mda-remote && PORT=8081 node example.js\n    3. play with the browser-demo on http://127.0.0.1:8081\n*/\n\n\n\n/* istanbul instrument in package npmtest_vs_mda_remote */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - init-before\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || (local.modeJs === 'browser'\n            ? local.global.utility2_npmtest_vs_mda_remote\n            : global.utility2_moduleExports);\n        // export local\n        local.global.local = local;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // init-after\n    // run browser js-env code - init-after\n    /* istanbul ignore next */\n    case 'browser':\n        local.testRunBrowser = function (event) {\n            if (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('onreset'))) {\n                // reset output\n                Array.from(\n                    document.querySelectorAll('body > .resettable')\n                ).forEach(function (element) {\n                    switch (element.tagName) {\n                    case 'INPUT':\n                    case 'TEXTAREA':\n                        element.value = '';\n                        break;\n                    default:\n                        element.textContent = '';\n                    }\n                });\n            }\n            switch (event && event.currentTarget && event.currentTarget.id) {\n            case 'testRunButton1':\n                // show tests\n                if (document.querySelector('#testReportDiv1').style.display === 'none') {\n                    document.querySelector('#testReportDiv1').style.display = 'block';\n                    document.querySelector('#testRunButton1').textContent =\n                        'hide internal test';\n                    local.modeTest = true;\n                    local.testRunDefault(local);\n                // hide tests\n                } else {\n                    document.querySelector('#testReportDiv1').style.display = 'none';\n                    document.querySelector('#testRunButton1').textContent = 'run internal test';\n                }\n                break;\n            // custom-case\n            default:\n                break;\n            }\n            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('oneval')))) {\n                // try to eval input-code\n                try {\n                    /*jslint evil: true*/\n                    eval(document.querySelector('#inputTextareaEval1').value);\n                } catch (errorCaught) {\n                    console.error(errorCaught);\n                }\n            }\n        };\n        // log stderr and stdout to #outputTextareaStdout1\n        ['error', 'log'].forEach(function (key) {\n            console[key + '_original'] = console[key];\n            console[key] = function () {\n                var element;\n                console[key + '_original'].apply(console, arguments);\n                element = document.querySelector('#outputTextareaStdout1');\n                if (!element) {\n                    return;\n                }\n                // append text to #outputTextareaStdout1\n                element.value += Array.from(arguments).map(function (arg) {\n                    return typeof arg === 'string'\n                        ? arg\n                        : JSON.stringify(arg, null, 4);\n                }).join(' ') + '\\n';\n                // scroll textarea to bottom\n                element.scrollTop = element.scrollHeight;\n            };\n        });\n        // init event-handling\n        ['change', 'click', 'keyup'].forEach(function (event) {\n            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {\n                element.addEventListener(event, local.testRunBrowser);\n            });\n        });\n        // run tests\n        local.testRunBrowser();\n        break;\n\n\n\n    // run node js-env code - init-after\n    /* istanbul ignore next */\n    case 'node':\n        // export local\n        module.exports = local;\n        // require modules\n        local.fs = require('fs');\n        local.http = require('http');\n        local.url = require('url');\n        // init assets\n        local.assetsDict = local.assetsDict || {};\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.index.template.html'] = '\\\n<!doctype html>\\n\\\n<html lang=\"en\">\\n\\\n<head>\\n\\\n<meta charset=\"UTF-8\">\\n\\\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\\n<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n    box-sizing: false,\\n\\\n    universal-selector: false\\n\\\n*/\\n\\\n* {\\n\\\n    box-sizing: border-box;\\n\\\n}\\n\\\nbody {\\n\\\n    background: #dde;\\n\\\n    font-family: Arial, Helvetica, sans-serif;\\n\\\n    margin: 2rem;\\n\\\n}\\n\\\nbody > * {\\n\\\n    margin-bottom: 1rem;\\n\\\n}\\n\\\n.utility2FooterDiv {\\n\\\n    margin-top: 20px;\\n\\\n    text-align: center;\\n\\\n}\\n\\\n</style>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n*/\\n\\\ntextarea {\\n\\\n    font-family: monospace;\\n\\\n    height: 10rem;\\n\\\n    width: 100%;\\n\\\n}\\n\\\ntextarea[readonly] {\\n\\\n    background: #ddd;\\n\\\n}\\n\\\n</style>\\n\\\n</head>\\n\\\n<body>\\n\\\n<!-- utility2-comment\\n\\\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\\nutility2-comment -->\\n\\\n<h1>\\n\\\n<!-- utility2-comment\\n\\\n    <a\\n\\\n        {{#if env.npm_package_homepage}}\\n\\\n        href=\"{{env.npm_package_homepage}}\"\\n\\\n        {{/if env.npm_package_homepage}}\\n\\\n        target=\"_blank\"\\n\\\n    >\\n\\\nutility2-comment -->\\n\\\n        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\\n<!-- utility2-comment\\n\\\n    </a>\\n\\\nutility2-comment -->\\n\\\n</h1>\\n\\\n<h3>{{env.npm_package_description}}</h3>\\n\\\n<!-- utility2-comment\\n\\\n<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\\n<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\\n<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\\nutility2-comment -->\\n\\\n\\n\\\n\\n\\\n\\n\\\n<label>stderr and stdout</label>\\n\\\n<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\\n<!-- utility2-comment\\n\\\n{{#if isRollup}}\\n\\\n<script src=\"assets.app.js\"></script>\\n\\\n{{#unless isRollup}}\\n\\\nutility2-comment -->\\n\\\n<script src=\"assets.utility2.rollup.js\"></script>\\n\\\n<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\\n<script src=\"assets.npmtest_vs_mda_remote.rollup.js\"></script>\\n\\\n<script src=\"assets.example.js\"></script>\\n\\\n<script src=\"assets.test.js\"></script>\\n\\\n<!-- utility2-comment\\n\\\n{{/if isRollup}}\\n\\\nutility2-comment -->\\n\\\n<div class=\"utility2FooterDiv\">\\n\\\n    [ this app was created with\\n\\\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\\n    ]\\n\\\n</div>\\n\\\n</body>\\n\\\n</html>\\n\\\n';\n        /* jslint-ignore-end */\n        if (local.templateRender) {\n            local.assetsDict['/'] = local.templateRender(\n                local.assetsDict['/assets.index.template.html'],\n                {\n                    env: local.objectSetDefault(local.env, {\n                        npm_package_description: 'the greatest app in the world!',\n                        npm_package_name: 'my-app',\n                        npm_package_nameAlias: 'my_app',\n                        npm_package_version: '0.0.1'\n                    })\n                }\n            );\n        } else {\n            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']\n                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {\n                    // jslint-hack\n                    String(match0);\n                    switch (match1) {\n                    case 'npm_package_description':\n                        return 'the greatest app in the world!';\n                    case 'npm_package_name':\n                        return 'my-app';\n                    case 'npm_package_nameAlias':\n                        return 'my_app';\n                    case 'npm_package_version':\n                        return '0.0.1';\n                    }\n                });\n        }\n        // run the cli\n        if (local.global.utility2_rollup || module !== require.main) {\n            break;\n        }\n        local.assetsDict['/assets.example.js'] =\n            local.assetsDict['/assets.example.js'] ||\n            local.fs.readFileSync(__filename, 'utf8');\n        // bug-workaround - long $npm_package_buildCustomOrg\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.npmtest_vs_mda_remote.rollup.js'] =\n            local.assetsDict['/assets.npmtest_vs_mda_remote.rollup.js'] ||\n            local.fs.readFileSync(\n                local.npmtest_vs_mda_remote.__dirname + '/lib.npmtest_vs_mda_remote.js',\n                'utf8'\n            ).replace((/^#!/), '//');\n        /* jslint-ignore-end */\n        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';\n        // if $npm_config_timeout_exit exists,\n        // then exit this process after $npm_config_timeout_exit ms\n        if (Number(process.env.npm_config_timeout_exit)) {\n            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));\n        }\n        // start server\n        if (local.global.utility2_serverHttp1) {\n            break;\n        }\n        process.env.PORT = process.env.PORT || '8081';\n        console.error('server starting on port ' + process.env.PORT);\n        local.http.createServer(function (request, response) {\n            request.urlParsed = local.url.parse(request.url);\n            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {\n                response.end(local.assetsDict[request.urlParsed.pathname]);\n                return;\n            }\n            response.statusCode = 404;\n            response.end();\n        }).listen(process.env.PORT);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/node_modules/vs-mda-remote/lib/server.js":"/********************************************************\r\n*                                                       *\r\n*   Copyright (C) Microsoft. All rights reserved.       *\r\n*                                                       *\r\n********************************************************/\r\n\"use strict\";\r\n\r\nvar express = require('express'),\r\n    http = require('http'),\r\n    https = require('https'),\r\n    path = require('path'),\r\n    fs = require('fs'),\r\n    os = require('os'),\r\n    Q = require('q'),\r\n    rimraf = require('rimraf'),\r\n    buildmgr = require('./buildManager'),\r\n    resources = require('./resources'),\r\n    certs = require('./certs'),\r\n    util = require('./util'),\r\n    runner = require('./appRunner');\r\n\r\nvar server = exports = module.exports = {};\r\nvar serverInstance;\r\nvar serverConf;\r\n\r\nserver.start = function(conf) {\r\n\r\n    if (process.getuid() === 0) {\r\n        console.warn(resources.getString(conf.get('lang'),\"NotRunAsRoot\"));\r\n        process.exit(1);\r\n    }\r\n\r\n    var app = express();\r\n    app.set('port', conf.get('port'));\r\n    app.set('serverDir', conf.get('serverDir'));\r\n    app.use(express.logger('dev'));\r\n    app.use(express.errorHandler());\r\n\r\n    // Initialize the build manager (after our app settings are all setup)\r\n    buildmgr.init(conf);\r\n\r\n    var onlyAuthorizedClientRequest = function(req, res, next) {\r\n        if (!req.client.authorized) {\r\n            res.send(401, resources.getString(req, 'UnauthorizedClientRequest'));\r\n        } else {\r\n            next();\r\n        }\r\n    };\r\n\r\n    app.get('/', function(req, res) {\r\n        res.send(200, resources.getString(req, 'IndexPageContent', app.get('port')));\r\n    });\r\n\r\n    // These routes are fully secured through client cert verification:\r\n    if (util.argToBool(conf.get('secure')) === true) {\r\n        app.all('/build/*', onlyAuthorizedClientRequest);\r\n        app.all('/files', onlyAuthorizedClientRequest);\r\n    }\r\n    app.post('/build/tasks', submitNewBuild);\r\n    app.get('/build/tasks/:id', getBuildStatus);\r\n    app.get('/build/tasks/:id/log', getBuildLog);\r\n    app.get('/build/tasks', getAllBuildStatus);\r\n    app.get('/build/:id', getBuild);\r\n    app.get('/build/:id/download', downloadBuild);\r\n    app.get('/build/:id/emulate', emulateBuild);\r\n    app.get('/build/:id/deploy', deployBuild);\r\n    app.get('/build/:id/run', runBuild);\r\n    app.get('/build/:id/debug', debugBuild);\r\n    app.get('/debugPort', getDebugPort);\r\n\r\n    app.get('/certs/:pin', downloadClientCerts);\r\n    app.get('/resources/:lang', getResources);\r\n\r\n    app.use('/files', express.directory(buildmgr.getBaseBuildDir()));\r\n    app.use('/files', express.static(buildmgr.getBaseBuildDir()));\r\n\r\n    return startupServer(conf, app).\r\n            then(registerShutdownHooks).\r\n            fail(function(err) {\r\n                console.error(resources.getString(conf.get(\"lang\"),\"ServerStartFailed\"), err);\r\n                if (err.stack) {\r\n                    console.error(err.stack);\r\n                }\r\n                throw err;\r\n            });\r\n};\r\n\r\nserver.stop = function(callback) {\r\n    serverInstance.close(callback);\r\n};\r\n\r\nserver.resetServerCert = function(conf) {\r\n    return certs.resetServerCert(conf);\r\n};\r\n\r\nserver.generateClientCert = function(conf) {\r\n    return certs.generateClientCert(conf);\r\n};\r\n\r\nfunction startupServer(conf, app) {\r\n    var isSsl = util.argToBool(conf.get('secure'));\r\n    return (isSsl === true) ? startupHttpsServer(conf, app) : startupPlainHttpServer(conf, app);\r\n}\r\n\r\nfunction startupPlainHttpServer(conf, app) {\r\n    return Q(http.createServer(app)).\r\n            then(function(svr) {\r\n                var deferred = Q.defer();\r\n                svr.on('error', function (err) {\r\n                    deferred.reject(friendlyServerListenError(err, conf));\r\n                });\r\n                svr.listen(app.get('port'), function() {\r\n                    serverInstance = svr;\r\n                    serverConf = conf;\r\n                    console.log(resources.getString(conf.get(\"lang\"),\"InsecureServerStarted\"), app.get('port'));\r\n                    writePid();\r\n                    deferred.resolve(svr);\r\n                });\r\n                return deferred.promise;\r\n            });\r\n}\r\n\r\nfunction friendlyServerListenError(err, conf) {\r\n    if (err.code == 'EADDRINUSE') {\r\n        return resources.getString(conf.get(\"lang\"),\"ServerPortInUse\", conf.get('port'));\r\n    } else {\r\n        return err;\r\n    }\r\n}\r\n\r\nfunction writePid() {\r\n    if (util.argToBool(serverConf.get('writePidToFile')) === true) {\r\n        fs.writeFile(path.join(serverConf.get('serverDir'), \"running_process_id\"), process.pid);\r\n    }\r\n}\r\n\r\nfunction startupHttpsServer(conf, app) {\r\n    var generatedNewCerts = false;\r\n    var generatedClientPin;\r\n    return certs.initializeServerCerts(conf).\r\n            then(function(certPaths) {\r\n                if (certPaths.newCerts === true) {\r\n                    generatedNewCerts = true;\r\n                    conf.suppressVisualStudioMessage = true;\r\n                    return certs.generateClientCert(conf).\r\n                            then(function(pin) {\r\n                                generatedClientPin = pin;\r\n                                return certPaths;\r\n                            });\r\n                }\r\n                return certPaths;\r\n            }).\r\n            then(function(certPaths) {\r\n                var sslSettings = {\r\n                    key: fs.readFileSync(certPaths.serverKeyPath),\r\n                    cert: fs.readFileSync(certPaths.serverCertPath),\r\n                    ca: fs.readFileSync(certPaths.caCertPath),\r\n                    requestCert: true,\r\n                    rejectUnauthorized: false\r\n                };\r\n                return https.createServer(sslSettings, app);\r\n            }).\r\n            then(function(svr) {\r\n                var deferred = Q.defer();\r\n                svr.on('error', function (err) {\r\n                    if (generatedNewCerts === true) {\r\n                        certs.removeAllCertsSync(conf);\r\n                    }\r\n                    deferred.reject(friendlyServerListenError(err, conf));\r\n                });\r\n                svr.listen(app.get('port'), function() {\r\n                    serverInstance = svr;\r\n                    serverConf = conf;\r\n                    console.log(resources.getString(conf.get(\"lang\"), \"SecureServerStarted\"), app.get('port'));\r\n                    writePid();\r\n                    deferred.resolve(svr);\r\n                });\r\n                return deferred.promise;\r\n            });\r\n}\r\nfunction registerShutdownHooks() {\r\n    // We should have serverConf defined at this point, but just in case fall back to english\r\n    var lang = serverConf && serverConf.get('lang') || 'en';\r\n    // It is strongly recommended in a NodeJs server to kill the process off on uncaughtException.\r\n    process.on('uncaughtException', function (err) {\r\n      console.error(resources.getString(lang, \"UncaughtErrorShutdown\") + err);\r\n      console.error(err.stack);\r\n      console.info(resources.getString(lang,\"ServerShutdown\"));\r\n      buildmgr.shutdown();\r\n      runner.shutdown();\r\n      process.exit(1)\r\n    });\r\n\r\n    // Opportunity to clean up builds on exit\r\n    var shutdown = function() {\r\n        console.info(resources.getString(lang, \"ServerShutdown\"));\r\n        buildmgr.shutdown();\r\n        serverInstance.close();\r\n        process.exit(0);\r\n    };\r\n    process.on('SIGTERM', shutdown);\r\n    process.on('SIGINT', shutdown);\r\n}\r\n\r\n// Submits a new build task\r\nfunction submitNewBuild(req, res) {\r\n    buildmgr.submitNewBuild(req, function(err, buildInfo) {\r\n        if (err) {\r\n            res.set({'Content-Type': 'application/json'});\r\n            res.send(400, {status: resources.getString(req, 'InvalidBuildRequest'), errors: err});\r\n        } else {\r\n            var contentLocation = ((util.argToBool(serverConf.get('secure')) === true) ? 'https://' : 'http://')  + \r\n                                    req.headers.host + '/build/tasks/' + buildInfo.buildNumber;\r\n            res.set({\r\n                'Content-Type': 'application/json',\r\n                'Content-Location': contentLocation\r\n            });\r\n            res.json(202, buildInfo.localize(req));\r\n        }\r\n    });\r\n}\r\n\r\n// Queries on the status of all build tasks\r\nfunction getAllBuildStatus(req, res) {\r\n    var allBuildInfo = buildmgr.getAllBuildInfo();\r\n    res.json(200, allBuildInfo);\r\n}\r\n\r\n// Queries on the status of a build task, used by a client to poll\r\nfunction getBuildStatus(req, res) {\r\n    var buildInfo = buildmgr.getBuildInfo(req.params.id);\r\n    if (buildInfo !== null) {\r\n        res.json(200, buildInfo.localize(req));\r\n    } else {\r\n        res.send(404, resources.getString(req, 'BuildNotFound', req.params.id));\r\n    }\r\n}\r\n\r\n// Retrieves log file for a build task, can be used by a client when build failed\r\nfunction getBuildLog(req, res) {\r\n    var buildInfo = buildmgr.getBuildInfo(req.params.id);\r\n    if (buildInfo !== null) {\r\n        res.set('Content-Type', 'text/plain');\r\n        buildmgr.downloadBuildLog(req.params.id, res);\r\n    } else {\r\n        res.send(404, resources.getString(req, 'BuildNotFound', req.params.id));\r\n    }\r\n}\r\n\r\n// Gets a build.\r\nfunction getBuild(req, res) {\r\n    var buildInfo = buildmgr.getBuildInfo(req.params.id);\r\n    if (buildInfo === null) {\r\n        res.send(404, resources.getString(req, 'BuildNotFound', req.params.id));\r\n        return;\r\n    }\r\n    res.json(200, buildInfo.localize(req));\r\n}\r\n\r\n// Emulates a build.\r\nfunction emulateBuild(req, res) {\r\n    var buildInfo = buildmgr.getBuildInfo(req.params.id);\r\n    if (buildInfo !== null) {\r\n        buildmgr.emulateBuild(req.params.id, req.query.target, function(err, result) {\r\n                if (err) {\r\n                    res.send(404, err);\r\n                } else {\r\n                    res.json(200, buildInfo.localize(req));\r\n                }\r\n            });\r\n    } else {\r\n        res.send(404, resources.getString(req, 'BuildNotFound', req.params.id));\r\n    }\r\n}\r\n\r\n// installs a build on a device\r\nfunction deployBuild(req, res) {\r\n    var buildInfo = buildmgr.getBuildInfo(req.params.id);\r\n    if (buildInfo !== null) {\r\n        buildmgr.installBuild(req.params.id, function (err, result) {\r\n            if (err) {\r\n\t\t\t\tif (err.reason) {\r\n\t\t\t\t\tres.send(404, resources.getString(req, err.reason));\r\n\t\t\t\t} else if (err.message) {\r\n\t\t\t\t\tres.send(404, err.message);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tres.send(404, err);\r\n\t\t\t\t}\r\n            } else {\r\n                res.json(200, buildInfo.localize(req));\r\n            }\r\n        });\r\n    } else {\r\n        res.send(404, resources.getString(req, 'BuildNotFound', req.params.id));\r\n    }\r\n}\r\n\r\n// runs a build on a device\r\nfunction runBuild(req, res) {\r\n    var buildInfo = buildmgr.getBuildInfo(req.params.id);\r\n    if (buildInfo !== null) {\r\n        buildmgr.runBuild(req.params.id, function (err, result) {\r\n            if (err) {\r\n                res.send(404, err);\r\n            } else {\r\n                res.json(200, buildInfo.localize(req));\r\n            }\r\n        });\r\n    } else {\r\n        res.send(404, resources.getString(req, 'BuildNotFound', req.params.id));\r\n    }\r\n}\r\n\r\n// debugs a build on a device\r\nfunction debugBuild(req, res) {\r\n    var buildInfo = buildmgr.getBuildInfo(req.params.id);\r\n    if (buildInfo !== null) {\r\n        buildmgr.debugBuild(req.params.id, function (err, result) {\r\n            if (err) {\r\n                res.send(404, resources.getString(req, err));\r\n            } else {\r\n                res.json(200, buildInfo.localize(req));\r\n            }\r\n        });\r\n    } else {\r\n        res.send(404, resources.getString(req, 'BuildNotFound', req.params.id));\r\n    }\r\n}\r\n\r\n// debugs a build on a device\r\nfunction getDebugPort(req, res) {\r\n    res.json(200, [{ 'webDebugPort' : buildmgr.getDebugPort() }]);\r\n    \r\n}\r\n\r\n// Downloads a build as a zip file with .ipa and .plist file\r\nfunction downloadBuild(req, res) {\r\n    var buildInfo = buildmgr.getBuildInfo(req.params.id);\r\n    if (buildInfo === null) {\r\n        res.send(404, resources.getString(req, 'BuildNotFound', req.params.id));\r\n        return;\r\n    }\r\n    buildmgr.downloadBuild(req.params.id, res, function(err, updatedBuildInfo) {\r\n        if (err) {\r\n            res.send(404, err);\r\n        }\r\n    });\r\n}\r\n\r\n// Returns the resources for the requested language\r\nfunction getResources(req, res) {\r\n    var lang = req.params.lang;\r\n    var langResources = resources.getResources(lang);\r\n    if (langResources === null) {\r\n        res.send(404, resources.getString('NoResourcesForLanguage', lang));\r\n    } else {\r\n        res.send(200, langResources);\r\n    }\r\n}\r\n\r\n// Downloads client SSL certs (pfx format) for pin specified in request\r\nfunction downloadClientCerts(req, res) {\r\n    certs.purgeExpiredPinBasedClientCertsSync(serverConf);\r\n    var clientCertsDir = path.join(serverConf.get('serverDir'), 'certs', 'client');\r\n\r\n    var pin = parseInt(req.params.pin);\r\n    if (isNaN(pin)) {\r\n        res.send(400, resources.getString('InvalidPIN'));\r\n        return;\r\n    }\r\n\r\n    var pinDir = path.join(clientCertsDir, ''+pin);\r\n    var pfx = path.join(pinDir, 'client.pfx');\r\n    if (!fs.existsSync(pfx)) {\r\n        res.send(404, resources.getString('ClientCertNotFoundForPIN'));\r\n        return;\r\n    }\r\n\r\n    res.sendfile(pfx);\r\n    rimraf(pinDir, function() {});\r\n}\r\n\r\n// SIG // Begin signature block\r\n// SIG // MIIaowYJKoZIhvcNAQcCoIIalDCCGpACAQExCzAJBgUr\r\n// SIG // DgMCGgUAMGcGCisGAQQBgjcCAQSgWTBXMDIGCisGAQQB\r\n// SIG // gjcCAR4wJAIBAQQQEODJBs441BGiowAQS9NQkAIBAAIB\r\n// SIG // AAIBAAIBAAIBADAhMAkGBSsOAwIaBQAEFExLLRPbiA1A\r\n// SIG // 80vkSZN8IHxu21wMoIIVgjCCBMMwggOroAMCAQICEzMA\r\n// SIG // AABvZS1YbQcRRigAAAAAAG8wDQYJKoZIhvcNAQEFBQAw\r\n// SIG // dzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWlj\r\n// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBMB4XDTE1MDMyMDE3\r\n// SIG // MzIwMloXDTE2MDYyMDE3MzIwMlowgbMxCzAJBgNVBAYT\r\n// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH\r\n// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y\r\n// SIG // cG9yYXRpb24xDTALBgNVBAsTBE1PUFIxJzAlBgNVBAsT\r\n// SIG // Hm5DaXBoZXIgRFNFIEVTTjpDMEY0LTMwODYtREVGODEl\r\n// SIG // MCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAgU2Vy\r\n// SIG // dmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\r\n// SIG // ggEBAM/mbc3BKs2uqF7YlU8tA0NHczu4QtLQV5rd9lM2\r\n// SIG // d9WIRSRqyKvQZumLxaoPnvKDRrYqydg2xvSg/xFvZvBe\r\n// SIG // FBmysWf48V6UhqqOJa/4NRP9gi/HOF5TwHYcxdN5O7Bj\r\n// SIG // 60+TmgXwohdx3MYMltMABS5MbVizf7QsJHB7lmksbIp4\r\n// SIG // CW1JmY46PmaVj09/eBtge1fJUfRLbVHDNLf4OgrWEd/D\r\n// SIG // OqUeoDjc662q+EPEg5qNlzQDNAQa761UNqTUGiz9w27w\r\n// SIG // eOcp8blEwHG0L8QQiwz3NmJ5/QdXfeoFfEyfTjA/J1A4\r\n// SIG // Zga7Xag+xZDb3zx2Vq2VIDRTcu1pWW7wVB9A1TkCAwEA\r\n// SIG // AaOCAQkwggEFMB0GA1UdDgQWBBTypkkpeHxXcFJiz+2s\r\n// SIG // t3sgNEfc/TAfBgNVHSMEGDAWgBQjNPjZUkZwCu1A+3b7\r\n// SIG // syuwwzWzDzBUBgNVHR8ETTBLMEmgR6BFhkNodHRwOi8v\r\n// SIG // Y3JsLm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0\r\n// SIG // cy9NaWNyb3NvZnRUaW1lU3RhbXBQQ0EuY3JsMFgGCCsG\r\n// SIG // AQUFBwEBBEwwSjBIBggrBgEFBQcwAoY8aHR0cDovL3d3\r\n// SIG // dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3Nv\r\n// SIG // ZnRUaW1lU3RhbXBQQ0EuY3J0MBMGA1UdJQQMMAoGCCsG\r\n// SIG // AQUFBwMIMA0GCSqGSIb3DQEBBQUAA4IBAQCNs0y22OwN\r\n// SIG // h4YZXuQA55e41c9MCjy991XT9PCgr1VynCOXuYIqxxYK\r\n// SIG // xScTWdDaMCuIQrpSA+ZeySVoJyeNZKdt+beaaqs+rELQ\r\n// SIG // HiQmzFSv9pCBax6tQ58bexBXajI2MaJEaAGYWisStIkx\r\n// SIG // 9kwMrhU8tyQkXbv/fFNMhMQNzUZ3finKn7JGYoK0NMf1\r\n// SIG // EmlcrXnNMe7pR474/FPz5AKQUWvO+p3jhb9ZgFkQ1Wej\r\n// SIG // TKby5KC02ME6oWpIpojOcPapnN7zU5M9cHEA/77rfPz/\r\n// SIG // CGMPS1FZqxUZkHQe/7u9qjWbPZ7zEBTVevYf1uJ185J0\r\n// SIG // Da0W2RLPoZut0hLqADsjFQzPMIIE7DCCA9SgAwIBAgIT\r\n// SIG // MwAAAMps1TISNcThVQABAAAAyjANBgkqhkiG9w0BAQUF\r\n// SIG // ADB5MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu\r\n// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV\r\n// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSMwIQYDVQQDExpN\r\n// SIG // aWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQTAeFw0xNDA0\r\n// SIG // MjIxNzM5MDBaFw0xNTA3MjIxNzM5MDBaMIGDMQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMQ0wCwYDVQQLEwRNT1BSMR4wHAYD\r\n// SIG // VQQDExVNaWNyb3NvZnQgQ29ycG9yYXRpb24wggEiMA0G\r\n// SIG // CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCWcV3tBkb6\r\n// SIG // hMudW7dGx7DhtBE5A62xFXNgnOuntm4aPD//ZeM08aal\r\n// SIG // IV5WmWxY5JKhClzC09xSLwxlmiBhQFMxnGyPIX26+f4T\r\n// SIG // UFJglTpbuVildGFBqZTgrSZOTKGXcEknXnxnyk8ecYRG\r\n// SIG // vB1LtuIPxcYnyQfmegqlFwAZTHBFOC2BtFCqxWfR+nm8\r\n// SIG // xcyhcpv0JTSY+FTfEjk4Ei+ka6Wafsdi0dzP7T00+Lnf\r\n// SIG // NTC67HkyqeGprFVNTH9MVsMTC3bxB/nMR6z7iNVSpR4o\r\n// SIG // +j0tz8+EmIZxZRHPhckJRIbhb+ex/KxARKWpiyM/gkmd\r\n// SIG // 1ZZZUBNZGHP/QwytK9R/MEBnAgMBAAGjggFgMIIBXDAT\r\n// SIG // BgNVHSUEDDAKBggrBgEFBQcDAzAdBgNVHQ4EFgQUH17i\r\n// SIG // XVCNVoa+SjzPBOinh7XLv4MwUQYDVR0RBEowSKRGMEQx\r\n// SIG // DTALBgNVBAsTBE1PUFIxMzAxBgNVBAUTKjMxNTk1K2I0\r\n// SIG // MjE4ZjEzLTZmY2EtNDkwZi05YzQ3LTNmYzU1N2RmYzQ0\r\n// SIG // MDAfBgNVHSMEGDAWgBTLEejK0rQWWAHJNy4zFha5TJoK\r\n// SIG // HzBWBgNVHR8ETzBNMEugSaBHhkVodHRwOi8vY3JsLm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0cy9NaWND\r\n// SIG // b2RTaWdQQ0FfMDgtMzEtMjAxMC5jcmwwWgYIKwYBBQUH\r\n// SIG // AQEETjBMMEoGCCsGAQUFBzAChj5odHRwOi8vd3d3Lm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NlcnRzL01pY0NvZFNpZ1BD\r\n// SIG // QV8wOC0zMS0yMDEwLmNydDANBgkqhkiG9w0BAQUFAAOC\r\n// SIG // AQEAd1zr15E9zb17g9mFqbBDnXN8F8kP7Tbbx7UsG177\r\n// SIG // VAU6g3FAgQmit3EmXtZ9tmw7yapfXQMYKh0nfgfpxWUf\r\n// SIG // tc8Nt1THKDhaiOd7wRm2VjK64szLk9uvbg9dRPXUsO8b\r\n// SIG // 1U7Brw7vIJvy4f4nXejF/2H2GdIoCiKd381wgp4Yctgj\r\n// SIG // zHosQ+7/6sDg5h2qnpczAFJvB7jTiGzepAY1p8JThmUR\r\n// SIG // dwmPNVm52IaoAP74MX0s9IwFncDB1XdybOlNWSaD8cKy\r\n// SIG // iFeTNQB8UCu8Wfz+HCk4gtPeUpdFKRhOlludul8bo/En\r\n// SIG // UOoHlehtNA04V9w3KDWVOjic1O1qhV0OIhFeezCCBbww\r\n// SIG // ggOkoAMCAQICCmEzJhoAAAAAADEwDQYJKoZIhvcNAQEF\r\n// SIG // BQAwXzETMBEGCgmSJomT8ixkARkWA2NvbTEZMBcGCgmS\r\n// SIG // JomT8ixkARkWCW1pY3Jvc29mdDEtMCsGA1UEAxMkTWlj\r\n// SIG // cm9zb2Z0IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5\r\n// SIG // MB4XDTEwMDgzMTIyMTkzMloXDTIwMDgzMTIyMjkzMlow\r\n// SIG // eTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEjMCEGA1UEAxMaTWlj\r\n// SIG // cm9zb2Z0IENvZGUgU2lnbmluZyBQQ0EwggEiMA0GCSqG\r\n// SIG // SIb3DQEBAQUAA4IBDwAwggEKAoIBAQCycllcGTBkvx2a\r\n// SIG // YCAgQpl2U2w+G9ZvzMvx6mv+lxYQ4N86dIMaty+gMuz/\r\n// SIG // 3sJCTiPVcgDbNVcKicquIEn08GisTUuNpb15S3GbRwfa\r\n// SIG // /SXfnXWIz6pzRH/XgdvzvfI2pMlcRdyvrT3gKGiXGqel\r\n// SIG // cnNW8ReU5P01lHKg1nZfHndFg4U4FtBzWwW6Z1KNpbJp\r\n// SIG // L9oZC/6SdCnidi9U3RQwWfjSjWL9y8lfRjFQuScT5EAw\r\n// SIG // z3IpECgixzdOPaAyPZDNoTgGhVxOVoIoKgUyt0vXT2Pn\r\n// SIG // 0i1i8UU956wIAPZGoZ7RW4wmU+h6qkryRs83PDietHdc\r\n// SIG // pReejcsRj1Y8wawJXwPTAgMBAAGjggFeMIIBWjAPBgNV\r\n// SIG // HRMBAf8EBTADAQH/MB0GA1UdDgQWBBTLEejK0rQWWAHJ\r\n// SIG // Ny4zFha5TJoKHzALBgNVHQ8EBAMCAYYwEgYJKwYBBAGC\r\n// SIG // NxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU/dExTtMm\r\n// SIG // ipXhmGA7qDFvpjy82C0wGQYJKwYBBAGCNxQCBAweCgBT\r\n// SIG // AHUAYgBDAEEwHwYDVR0jBBgwFoAUDqyCYEBWJ5flJRP8\r\n// SIG // KuEKU5VZ5KQwUAYDVR0fBEkwRzBFoEOgQYY/aHR0cDov\r\n// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj\r\n// SIG // dHMvbWljcm9zb2Z0cm9vdGNlcnQuY3JsMFQGCCsGAQUF\r\n// SIG // BwEBBEgwRjBEBggrBgEFBQcwAoY4aHR0cDovL3d3dy5t\r\n// SIG // aWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3NvZnRS\r\n// SIG // b290Q2VydC5jcnQwDQYJKoZIhvcNAQEFBQADggIBAFk5\r\n// SIG // Pn8mRq/rb0CxMrVq6w4vbqhJ9+tfde1MOy3XQ60L/svp\r\n// SIG // LTGjI8x8UJiAIV2sPS9MuqKoVpzjcLu4tPh5tUly9z7q\r\n// SIG // QX/K4QwXaculnCAt+gtQxFbNLeNK0rxw56gNogOlVuC4\r\n// SIG // iktX8pVCnPHz7+7jhh80PLhWmvBTI4UqpIIck+KUBx3y\r\n// SIG // 4k74jKHK6BOlkU7IG9KPcpUqcW2bGvgc8FPWZ8wi/1wd\r\n// SIG // zaKMvSeyeWNWRKJRzfnpo1hW3ZsCRUQvX/TartSCMm78\r\n// SIG // pJUT5Otp56miLL7IKxAOZY6Z2/Wi+hImCWU4lPF6H0q7\r\n// SIG // 0eFW6NB4lhhcyTUWX92THUmOLb6tNEQc7hAVGgBd3TVb\r\n// SIG // Ic6YxwnuhQ6MT20OE049fClInHLR82zKwexwo1eSV32U\r\n// SIG // jaAbSANa98+jZwp0pTbtLS8XyOZyNxL0b7E8Z4L5UrKN\r\n// SIG // MxZlHg6K3RDeZPRvzkbU0xfpecQEtNP7LN8fip6sCvsT\r\n// SIG // J0Ct5PnhqX9GuwdgR2VgQE6wQuxO7bN2edgKNAltHIAx\r\n// SIG // H+IOVN3lofvlRxCtZJj/UBYufL8FIXrilUEnacOTj5XJ\r\n// SIG // jdibIa4NXJzwoq6GaIMMai27dmsAHZat8hZ79haDJLmI\r\n// SIG // z2qoRzEvmtzjcT3XAH5iR9HOiMm4GPoOco3Boz2vAkBq\r\n// SIG // /2mbluIQqBC0N1AI1sM9MIIGBzCCA++gAwIBAgIKYRZo\r\n// SIG // NAAAAAAAHDANBgkqhkiG9w0BAQUFADBfMRMwEQYKCZIm\r\n// SIG // iZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJbWlj\r\n// SIG // cm9zb2Z0MS0wKwYDVQQDEyRNaWNyb3NvZnQgUm9vdCBD\r\n// SIG // ZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMDcwNDAzMTI1\r\n// SIG // MzA5WhcNMjEwNDAzMTMwMzA5WjB3MQswCQYDVQQGEwJV\r\n// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH\r\n// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv\r\n// SIG // cmF0aW9uMSEwHwYDVQQDExhNaWNyb3NvZnQgVGltZS1T\r\n// SIG // dGFtcCBQQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\r\n// SIG // ggEKAoIBAQCfoWyx39tIkip8ay4Z4b3i48WZUSNQrc7d\r\n// SIG // GE4kD+7Rp9FMrXQwIBHrB9VUlRVJlBtCkq6YXDAm2gBr\r\n// SIG // 6Hu97IkHD/cOBJjwicwfyzMkh53y9GccLPx754gd6udO\r\n// SIG // o6HBI1PKjfpFzwnQXq/QsEIEovmmbJNn1yjcRlOwhtDl\r\n// SIG // KEYuJ6yGT1VSDOQDLPtqkJAwbofzWTCd+n7Wl7PoIZd+\r\n// SIG // +NIT8wi3U21StEWQn0gASkdmEScpZqiX5NMGgUqi+YSn\r\n// SIG // EUcUCYKfhO1VeP4Bmh1QCIUAEDBG7bfeI0a7xC1Un68e\r\n// SIG // eEExd8yb3zuDk6FhArUdDbH895uyAc4iS1T/+QXDwiAL\r\n// SIG // AgMBAAGjggGrMIIBpzAPBgNVHRMBAf8EBTADAQH/MB0G\r\n// SIG // A1UdDgQWBBQjNPjZUkZwCu1A+3b7syuwwzWzDzALBgNV\r\n// SIG // HQ8EBAMCAYYwEAYJKwYBBAGCNxUBBAMCAQAwgZgGA1Ud\r\n// SIG // IwSBkDCBjYAUDqyCYEBWJ5flJRP8KuEKU5VZ5KShY6Rh\r\n// SIG // MF8xEzARBgoJkiaJk/IsZAEZFgNjb20xGTAXBgoJkiaJ\r\n// SIG // k/IsZAEZFgltaWNyb3NvZnQxLTArBgNVBAMTJE1pY3Jv\r\n// SIG // c29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eYIQ\r\n// SIG // ea0WoUqgpa1Mc1j0BxMuZTBQBgNVHR8ESTBHMEWgQ6BB\r\n// SIG // hj9odHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpL2Ny\r\n// SIG // bC9wcm9kdWN0cy9taWNyb3NvZnRyb290Y2VydC5jcmww\r\n// SIG // VAYIKwYBBQUHAQEESDBGMEQGCCsGAQUFBzAChjhodHRw\r\n// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL2NlcnRzL01p\r\n// SIG // Y3Jvc29mdFJvb3RDZXJ0LmNydDATBgNVHSUEDDAKBggr\r\n// SIG // BgEFBQcDCDANBgkqhkiG9w0BAQUFAAOCAgEAEJeKw1wD\r\n// SIG // RDbd6bStd9vOeVFNAbEudHFbbQwTq86+e4+4LtQSooxt\r\n// SIG // YrhXAstOIBNQmd16QOJXu69YmhzhHQGGrLt48ovQ7DsB\r\n// SIG // 7uK+jwoFyI1I4vBTFd1Pq5Lk541q1YDB5pTyBi+FA+mR\r\n// SIG // KiQicPv2/OR4mS4N9wficLwYTp2OawpylbihOZxnLcVR\r\n// SIG // DupiXD8WmIsgP+IHGjL5zDFKdjE9K3ILyOpwPf+FChPf\r\n// SIG // wgphjvDXuBfrTot/xTUrXqO/67x9C0J71FNyIe4wyrt4\r\n// SIG // ZVxbARcKFA7S2hSY9Ty5ZlizLS/n+YWGzFFW6J1wlGys\r\n// SIG // OUzU9nm/qhh6YinvopspNAZ3GmLJPR5tH4LwC8csu89D\r\n// SIG // s+X57H2146SodDW4TsVxIxImdgs8UoxxWkZDFLyzs7BN\r\n// SIG // Z8ifQv+AeSGAnhUwZuhCEl4ayJ4iIdBD6Svpu/RIzCzU\r\n// SIG // 2DKATCYqSCRfWupW76bemZ3KOm+9gSd0BhHudiG/m4LB\r\n// SIG // J1S2sWo9iaF2YbRuoROmv6pH8BJv/YoybLL+31HIjCPJ\r\n// SIG // Zr2dHYcSZAI9La9Zj7jkIeW1sMpjtHhUBdRBLlCslLCl\r\n// SIG // eKuzoJZ1GtmShxN1Ii8yqAhuoFuMJb+g74TKIdbrHk/J\r\n// SIG // mu5J4PcBZW+JC33Iacjmbuqnl84xKf8OxVtc2E0bodj6\r\n// SIG // L54/LlUWa8kTo/0xggSNMIIEiQIBATCBkDB5MQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMSMwIQYDVQQDExpNaWNyb3NvZnQg\r\n// SIG // Q29kZSBTaWduaW5nIFBDQQITMwAAAMps1TISNcThVQAB\r\n// SIG // AAAAyjAJBgUrDgMCGgUAoIGmMBkGCSqGSIb3DQEJAzEM\r\n// SIG // BgorBgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAMBgor\r\n// SIG // BgEEAYI3AgEVMCMGCSqGSIb3DQEJBDEWBBRuG9TY4Cdf\r\n// SIG // wkSLYsDEqbqBpLOB8DBGBgorBgEEAYI3AgEMMTgwNqAU\r\n// SIG // gBIAcwBlAHIAdgBlAHIALgBqAHOhHoAcaHR0cDovL2V4\r\n// SIG // cHJlc3Npb24vc2VydmVyLmpzIDANBgkqhkiG9w0BAQEF\r\n// SIG // AASCAQAK75WJen8hKAtSKPt3oKhAnWSSXZh0CuEoinl2\r\n// SIG // /B391Olt/UiKGajP9Jv5t1PbezLANTsWFDrbfbwhgwNo\r\n// SIG // URVySZr0SBiAcjADbo5g9K05rLhZxGffgHkHu3NzN2Af\r\n// SIG // HFHfveotiviVGu0850+jbi8TeQJk0iKxk6UHLJ5ScvkF\r\n// SIG // OoYydKYmOFStD3Gw7RGkipFcOZ++iCMGV5Ev0lcvAmAh\r\n// SIG // ofVV0nihxX9hsjqOnwmtPtNgm1/TBlkGFeIaAoeVstQW\r\n// SIG // 3h4PiUBGDRFEYbBolMfpe+sMWWr75nUm6GlcQh6XE0ah\r\n// SIG // ITlkD+WPxaWIUr6ct29KoYEgoHh2BSQWNvtTlFXeoYIC\r\n// SIG // KDCCAiQGCSqGSIb3DQEJBjGCAhUwggIRAgEBMIGOMHcx\r\n// SIG // CzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9u\r\n// SIG // MRAwDgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNy\r\n// SIG // b3NvZnQgQ29ycG9yYXRpb24xITAfBgNVBAMTGE1pY3Jv\r\n// SIG // c29mdCBUaW1lLVN0YW1wIFBDQQITMwAAAG9lLVhtBxFG\r\n// SIG // KAAAAAAAbzAJBgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkD\r\n// SIG // MQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTUw\r\n// SIG // NDIzMDIxMjQ5WjAjBgkqhkiG9w0BCQQxFgQUa2TttmrU\r\n// SIG // cNMVmBtGfUibEWmaxTMwDQYJKoZIhvcNAQEFBQAEggEA\r\n// SIG // cdBRV+zz47aGpOJaZ6SPOxDpsM+yQPMziOZqFFlVQnvR\r\n// SIG // AYFxY7WBEkTMWhZvXy9YMmW/BgJEGqJVe2j4soPqTtlI\r\n// SIG // Qgz32ycjNU0zbdqmAed3SiBlyZGQZyHpDYnbqwt9FFFd\r\n// SIG // 1aYvDZWXJf0oqk4Ep6eeCSZd8Acb7yZ91AqJ9WTMy5Xi\r\n// SIG // MEdRg2gQiJJAMW72bwtVe5YGgA0d0PJmJ+jHyFBwhY87\r\n// SIG // NnjUueOv68j5a4CUeHpPQBMCEb9Q3dEtLOLXaVgmDQur\r\n// SIG // b1W8SFNhfHWBkngeZfYYXvd2nn29YhgvykVfbWNemzXW\r\n// SIG // 8ak+nV+/QgieuB5v3DDb578SRh7di4UEHQ==\r\n// SIG // End signature block\r\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/node_modules/vs-mda-remote/bin/vs-mda-remote":"#!/usr/bin/env node\n\nif (process.argv.length > 2 && process.argv[2] === 'test') {\n    // if issued with test command, runs a selftest\n    var selftest = require('./../test/selftest');\n    selftest();\n} else {\n    // Main usage - starts the server\n    var cli = require('./../lib/cli');\n    cli();\n}","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/node_modules/vs-mda-remote/lib/cli.js":"﻿/********************************************************\r\n*                                                       *\r\n*   Copyright (C) Microsoft. All rights reserved.       *\r\n*                                                       *\r\n********************************************************/\r\n\"use strict\";\r\n\r\nvar path = require('path'),\r\n    nconf = require('nconf'),\r\n    server = require('./server'),\r\n    fs = require(\"fs\"),\r\n    readlineSync = require(\"readline-sync\"),\r\n    child_process = require('child_process'),\r\n    Q = require(\"q\"),\r\n    resources = require(\"./resources\");\r\n\r\nmodule.exports = function() {\r\n\r\n    console.info('vs-mda-remote');\r\n    console.info('Copyright (C) 2014 Microsoft Corporation. All rights reserved.');\r\n    console.info(require('../package').version);\r\n    console.info('');\r\n\r\n    // Configuration preference: command line, then anything in a config file if specified by the --config arg, then some defaults for options not yet set\r\n    nconf.argv();\r\n    if (nconf.get('v') || nconf.get('version')) {\r\n        process.exit(0);\r\n    }\r\n    if (nconf.get('config')) {\r\n        nconf.file({ file: nconf.get('config') });\r\n    };\r\n    nconf.defaults({\r\n        'serverDir': path.join(process.env.HOME, 'remote-builds'),\r\n        'port': 3000,\r\n        'maxBuildsInQueue': 10,\r\n        'maxBuildsToKeep': 20,\r\n        'deleteBuildsOnShutdown': true,\r\n        'allowsEmulate': true,\r\n        'secure': true,\r\n        'pinTimeout': 10,\r\n        'nativeDebugProxyPort': 3001,\r\n        'webDebugProxyDevicePort': 9221,\r\n        'webDebugProxyRangeMin': 9222,\r\n        'webDebugProxyRangeMax': 9322,\r\n        'writePidToFile': false,\r\n        'lang': process.env.LANG &&  process.env.LANG.replace(/_.*/,\"\") || \"en\", // Convert \"en_US.UTF8\" to \"en\", similarly for other locales\r\n    });\r\n    // Initialize localization resources\r\n    resources.init();\r\n\r\n    if (nconf.get('help') || nconf.get('h') || nconf.get('?') || !nconf.get('serverDir')) {\r\n        printUsage(nconf);\r\n        process.exit(0);\r\n    }\r\n\r\n    var commands = nconf.get('_');\r\n    var cmd = commands && commands.length > 0 ? commands[0] : 'start';\r\n    if (cmd === 'resetServerCert') {\r\n        server.resetServerCert(nconf);\r\n    } else if (cmd === 'generateClientCert') {\r\n        nconf.set('port', '3000 <or specific port you’ve configured for the agent to use>');\r\n        nconf.set('pinTimeout', undefined);\r\n        server.generateClientCert(nconf);\r\n    } else if (cmd == 'start') {\r\n        // Check first-run/third party installation\r\n        var firstRunPath = path.join(process.env.HOME, \".vs-mda-remote\")\r\n        var isFirstRun = !fs.existsSync(firstRunPath);\r\n        var deferred = Q.defer();\r\n        if (isFirstRun) {\r\n            console.info(resources.getString(nconf.get(\"lang\"), \"FirstRunDependencyConfiguration\"));\r\n            var response = readlineSync.question(resources.getString(nconf.get(\"lang\"), \"HomebrewInstallationQuery\"));\r\n            var shouldInstall = response === \"\" || response.toLowerCase().indexOf(resources.getString(nconf.get(\"lang\"), \"HomebrewInstallationQueryResponse\")) === 0;\r\n            var deferred2 = Q.defer();\r\n\r\n            if (shouldInstall) {\r\n                var homebrewInstalled = Q.defer();\r\n                // We use spawn here rather than exec primarily so we can allow for user-interaction\r\n                var curlInstaller = child_process.spawn('curl', ['-fsSL', 'https://raw.githubusercontent.com/Homebrew/install/master/install']);\r\n                var installHomebrew = child_process.spawn('ruby', ['-']);\r\n                \r\n                curlInstaller.stdout.on('data', function (data) {\r\n                    installHomebrew.stdin.write(data);\r\n                });\r\n                curlInstaller.on('close', function (code) {\r\n                    installHomebrew.stdin.end();\r\n                });\r\n\r\n                installHomebrew.stdout.on('data', function (data) {\r\n                    console.info(\"\" + data);\r\n                });\r\n                installHomebrew.stderr.on('data', function (data) {\r\n                    console.error(\"\" + data);\r\n                });\r\n                installHomebrew.on('close', function (code) {\r\n                    homebrewInstalled.resolve();\r\n                });\r\n                installHomebrew.on('error', function (arg) {\r\n                    console.error(\"ERROR: \" + JSON.stringify(arg));\r\n                    process.exit(1);\r\n                });\r\n\r\n                homebrewInstalled.promise.then(function () {\r\n                    // Install these packages if they do not exist.\r\n                    // We need to check first since the install will fail if an older version is already installed.\r\n                    // ideviceinstaller and ios-webkit-debug-proxy will install libimobiledevice if required\r\n                    return Q.denodeify(child_process.exec)(\"(brew list ideviceinstaller | grep ideviceinstaller > /dev/null || brew install ideviceinstaller) && \\\r\n                                                            (brew list ios-webkit-debug-proxy | grep ios-webkit-debug-proxy > /dev/null || brew install ios-webkit-debug-proxy)\");\r\n                }).then(function (success) {\r\n                    // Verify that both of these can run.\r\n                    Q.denodeify(child_process.exec)(\"ideviceinstaller -h > /dev/null && ios_webkit_debug_proxy -h > /dev/null\")\r\n                    .then(function (success) {\r\n                        console.info(resources.getString(nconf.get('lang'), \"HomebrewInstallationSuccess\"));\r\n                        deferred2.resolve()\r\n                    }, function (error) {\r\n                        console.error(resources.getString(nconf.get('lang'), \"HomebrewPackageVerificationFailed\", error));\r\n                        process.exit(1);\r\n                    });\r\n                }, function (error) {\r\n                    console.error(resources.getString(nconf.get('lang'), \"HomebrewInstallationFailed\", error));\r\n                    process.exit(1);\r\n                });\r\n            } else {\r\n                console.info(resources.getString(nconf.get('lang'), \"HomebrewInstallationDeclined\"));\r\n                deferred2.resolve();\r\n            }\r\n            \r\n            deferred2.promise.then(function () {\r\n                // Write to the file. We don't read the contents, but it may help with user discoverability if they change their mind\r\n                fs.writeFileSync(firstRunPath, \"installHomebrew = \" + (shouldInstall? \"yes\" : \"no\") + \"\\n\");\r\n                deferred.resolve();\r\n            })\r\n        } else {\r\n            deferred.resolve();\r\n        }\r\n\r\n        deferred.promise.then(function () {\r\n            server.start(nconf);\r\n        });\r\n    } else {\r\n        console.info(resources.getString(nconf.get('lang'), 'UnknownCommand'), cmd);\r\n        printUsage(nconf);\r\n        process.exit(0);\r\n    }\r\n};\r\n\r\nfunction printUsage(conf) {\r\n    console.info(resources.getString(conf.get('lang'), \"UsageInformation\").join('\\n'));\r\n}\r\n// SIG // Begin signature block\r\n// SIG // MIIamQYJKoZIhvcNAQcCoIIaijCCGoYCAQExCzAJBgUr\r\n// SIG // DgMCGgUAMGcGCisGAQQBgjcCAQSgWTBXMDIGCisGAQQB\r\n// SIG // gjcCAR4wJAIBAQQQEODJBs441BGiowAQS9NQkAIBAAIB\r\n// SIG // AAIBAAIBAAIBADAhMAkGBSsOAwIaBQAEFA5FdJq0LHV0\r\n// SIG // llyWOjh4FyL7YU2LoIIVgjCCBMMwggOroAMCAQICEzMA\r\n// SIG // AABw9Bi/IyH8UJ0AAAAAAHAwDQYJKoZIhvcNAQEFBQAw\r\n// SIG // dzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWlj\r\n// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBMB4XDTE1MDMyMDE3\r\n// SIG // MzIwMloXDTE2MDYyMDE3MzIwMlowgbMxCzAJBgNVBAYT\r\n// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH\r\n// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y\r\n// SIG // cG9yYXRpb24xDTALBgNVBAsTBE1PUFIxJzAlBgNVBAsT\r\n// SIG // Hm5DaXBoZXIgRFNFIEVTTjpGNTI4LTM3NzctOEE3NjEl\r\n// SIG // MCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAgU2Vy\r\n// SIG // dmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\r\n// SIG // ggEBAKMU2e8coHkRvS2aBJ0jNIKlQh0rANHSGzEpyCor\r\n// SIG // 8y30bovd4hv4E/TAX3BTr+czD3RKBxRs3CgDuCoKeMRu\r\n// SIG // II4LgG9We5P0cU/C06vG7C2uldBjZ7BkpjQDDOOKrihS\r\n// SIG // Apk1+Txk2ysyd8I07lIeX5cGdAl/8KL31ZHq3GLbU4ZH\r\n// SIG // bowBW+Ile3j8PXKDIntZk6Kvk8kYLuf2ClQOmA1lBld3\r\n// SIG // k5GvlK+EvrhvrYT0+xXik+LYSDZ1WTIBDXF2AJVJaWzU\r\n// SIG // xjY6WjDQwMpzieaU9iMeEmBRAAjB3to/SITtta/U05o4\r\n// SIG // lam6o1i1eGhGvw+MY3G+OkNDWRDwSrp71uUGE90CAwEA\r\n// SIG // AaOCAQkwggEFMB0GA1UdDgQWBBRtz/O4hK73zHa9uHus\r\n// SIG // PZdhgXQrJzAfBgNVHSMEGDAWgBQjNPjZUkZwCu1A+3b7\r\n// SIG // syuwwzWzDzBUBgNVHR8ETTBLMEmgR6BFhkNodHRwOi8v\r\n// SIG // Y3JsLm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0\r\n// SIG // cy9NaWNyb3NvZnRUaW1lU3RhbXBQQ0EuY3JsMFgGCCsG\r\n// SIG // AQUFBwEBBEwwSjBIBggrBgEFBQcwAoY8aHR0cDovL3d3\r\n// SIG // dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3Nv\r\n// SIG // ZnRUaW1lU3RhbXBQQ0EuY3J0MBMGA1UdJQQMMAoGCCsG\r\n// SIG // AQUFBwMIMA0GCSqGSIb3DQEBBQUAA4IBAQBeOir1Z/QF\r\n// SIG // MCre4bnvZ/wq/25yKZ+efMcTw6PljjwE6SYVTffCZ4Jc\r\n// SIG // ClvFCu5V8KMtjqIdorMsLdAR4poqAdEwJmehpm6JMRxu\r\n// SIG // 3cRxVPAJot3B1jZzwAz/VQhr/KGU/V0sJyHs0SMG3AQs\r\n// SIG // 77kC2wO7R3MYCut9mc1fBuCI94qTxRIRG/NSlaNyoNJY\r\n// SIG // 2cMs4mt/d9RjU+qCuC9HZCiYx4M78WsoYfgKiIJFUpLp\r\n// SIG // gyZJXLfOPJp/r6BRk8W8usvRK7W7kBkKpqdqfvj9FX5G\r\n// SIG // RIelBtT8SnA4xui1SvTbri/sQ8mJoijFVdnBuluqYLul\r\n// SIG // u/nVAo4OD23CNXDAqOwNobK4MIIE7DCCA9SgAwIBAgIT\r\n// SIG // MwAAAMps1TISNcThVQABAAAAyjANBgkqhkiG9w0BAQUF\r\n// SIG // ADB5MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu\r\n// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV\r\n// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSMwIQYDVQQDExpN\r\n// SIG // aWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQTAeFw0xNDA0\r\n// SIG // MjIxNzM5MDBaFw0xNTA3MjIxNzM5MDBaMIGDMQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMQ0wCwYDVQQLEwRNT1BSMR4wHAYD\r\n// SIG // VQQDExVNaWNyb3NvZnQgQ29ycG9yYXRpb24wggEiMA0G\r\n// SIG // CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCWcV3tBkb6\r\n// SIG // hMudW7dGx7DhtBE5A62xFXNgnOuntm4aPD//ZeM08aal\r\n// SIG // IV5WmWxY5JKhClzC09xSLwxlmiBhQFMxnGyPIX26+f4T\r\n// SIG // UFJglTpbuVildGFBqZTgrSZOTKGXcEknXnxnyk8ecYRG\r\n// SIG // vB1LtuIPxcYnyQfmegqlFwAZTHBFOC2BtFCqxWfR+nm8\r\n// SIG // xcyhcpv0JTSY+FTfEjk4Ei+ka6Wafsdi0dzP7T00+Lnf\r\n// SIG // NTC67HkyqeGprFVNTH9MVsMTC3bxB/nMR6z7iNVSpR4o\r\n// SIG // +j0tz8+EmIZxZRHPhckJRIbhb+ex/KxARKWpiyM/gkmd\r\n// SIG // 1ZZZUBNZGHP/QwytK9R/MEBnAgMBAAGjggFgMIIBXDAT\r\n// SIG // BgNVHSUEDDAKBggrBgEFBQcDAzAdBgNVHQ4EFgQUH17i\r\n// SIG // XVCNVoa+SjzPBOinh7XLv4MwUQYDVR0RBEowSKRGMEQx\r\n// SIG // DTALBgNVBAsTBE1PUFIxMzAxBgNVBAUTKjMxNTk1K2I0\r\n// SIG // MjE4ZjEzLTZmY2EtNDkwZi05YzQ3LTNmYzU1N2RmYzQ0\r\n// SIG // MDAfBgNVHSMEGDAWgBTLEejK0rQWWAHJNy4zFha5TJoK\r\n// SIG // HzBWBgNVHR8ETzBNMEugSaBHhkVodHRwOi8vY3JsLm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0cy9NaWND\r\n// SIG // b2RTaWdQQ0FfMDgtMzEtMjAxMC5jcmwwWgYIKwYBBQUH\r\n// SIG // AQEETjBMMEoGCCsGAQUFBzAChj5odHRwOi8vd3d3Lm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NlcnRzL01pY0NvZFNpZ1BD\r\n// SIG // QV8wOC0zMS0yMDEwLmNydDANBgkqhkiG9w0BAQUFAAOC\r\n// SIG // AQEAd1zr15E9zb17g9mFqbBDnXN8F8kP7Tbbx7UsG177\r\n// SIG // VAU6g3FAgQmit3EmXtZ9tmw7yapfXQMYKh0nfgfpxWUf\r\n// SIG // tc8Nt1THKDhaiOd7wRm2VjK64szLk9uvbg9dRPXUsO8b\r\n// SIG // 1U7Brw7vIJvy4f4nXejF/2H2GdIoCiKd381wgp4Yctgj\r\n// SIG // zHosQ+7/6sDg5h2qnpczAFJvB7jTiGzepAY1p8JThmUR\r\n// SIG // dwmPNVm52IaoAP74MX0s9IwFncDB1XdybOlNWSaD8cKy\r\n// SIG // iFeTNQB8UCu8Wfz+HCk4gtPeUpdFKRhOlludul8bo/En\r\n// SIG // UOoHlehtNA04V9w3KDWVOjic1O1qhV0OIhFeezCCBbww\r\n// SIG // ggOkoAMCAQICCmEzJhoAAAAAADEwDQYJKoZIhvcNAQEF\r\n// SIG // BQAwXzETMBEGCgmSJomT8ixkARkWA2NvbTEZMBcGCgmS\r\n// SIG // JomT8ixkARkWCW1pY3Jvc29mdDEtMCsGA1UEAxMkTWlj\r\n// SIG // cm9zb2Z0IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5\r\n// SIG // MB4XDTEwMDgzMTIyMTkzMloXDTIwMDgzMTIyMjkzMlow\r\n// SIG // eTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEjMCEGA1UEAxMaTWlj\r\n// SIG // cm9zb2Z0IENvZGUgU2lnbmluZyBQQ0EwggEiMA0GCSqG\r\n// SIG // SIb3DQEBAQUAA4IBDwAwggEKAoIBAQCycllcGTBkvx2a\r\n// SIG // YCAgQpl2U2w+G9ZvzMvx6mv+lxYQ4N86dIMaty+gMuz/\r\n// SIG // 3sJCTiPVcgDbNVcKicquIEn08GisTUuNpb15S3GbRwfa\r\n// SIG // /SXfnXWIz6pzRH/XgdvzvfI2pMlcRdyvrT3gKGiXGqel\r\n// SIG // cnNW8ReU5P01lHKg1nZfHndFg4U4FtBzWwW6Z1KNpbJp\r\n// SIG // L9oZC/6SdCnidi9U3RQwWfjSjWL9y8lfRjFQuScT5EAw\r\n// SIG // z3IpECgixzdOPaAyPZDNoTgGhVxOVoIoKgUyt0vXT2Pn\r\n// SIG // 0i1i8UU956wIAPZGoZ7RW4wmU+h6qkryRs83PDietHdc\r\n// SIG // pReejcsRj1Y8wawJXwPTAgMBAAGjggFeMIIBWjAPBgNV\r\n// SIG // HRMBAf8EBTADAQH/MB0GA1UdDgQWBBTLEejK0rQWWAHJ\r\n// SIG // Ny4zFha5TJoKHzALBgNVHQ8EBAMCAYYwEgYJKwYBBAGC\r\n// SIG // NxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU/dExTtMm\r\n// SIG // ipXhmGA7qDFvpjy82C0wGQYJKwYBBAGCNxQCBAweCgBT\r\n// SIG // AHUAYgBDAEEwHwYDVR0jBBgwFoAUDqyCYEBWJ5flJRP8\r\n// SIG // KuEKU5VZ5KQwUAYDVR0fBEkwRzBFoEOgQYY/aHR0cDov\r\n// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj\r\n// SIG // dHMvbWljcm9zb2Z0cm9vdGNlcnQuY3JsMFQGCCsGAQUF\r\n// SIG // BwEBBEgwRjBEBggrBgEFBQcwAoY4aHR0cDovL3d3dy5t\r\n// SIG // aWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3NvZnRS\r\n// SIG // b290Q2VydC5jcnQwDQYJKoZIhvcNAQEFBQADggIBAFk5\r\n// SIG // Pn8mRq/rb0CxMrVq6w4vbqhJ9+tfde1MOy3XQ60L/svp\r\n// SIG // LTGjI8x8UJiAIV2sPS9MuqKoVpzjcLu4tPh5tUly9z7q\r\n// SIG // QX/K4QwXaculnCAt+gtQxFbNLeNK0rxw56gNogOlVuC4\r\n// SIG // iktX8pVCnPHz7+7jhh80PLhWmvBTI4UqpIIck+KUBx3y\r\n// SIG // 4k74jKHK6BOlkU7IG9KPcpUqcW2bGvgc8FPWZ8wi/1wd\r\n// SIG // zaKMvSeyeWNWRKJRzfnpo1hW3ZsCRUQvX/TartSCMm78\r\n// SIG // pJUT5Otp56miLL7IKxAOZY6Z2/Wi+hImCWU4lPF6H0q7\r\n// SIG // 0eFW6NB4lhhcyTUWX92THUmOLb6tNEQc7hAVGgBd3TVb\r\n// SIG // Ic6YxwnuhQ6MT20OE049fClInHLR82zKwexwo1eSV32U\r\n// SIG // jaAbSANa98+jZwp0pTbtLS8XyOZyNxL0b7E8Z4L5UrKN\r\n// SIG // MxZlHg6K3RDeZPRvzkbU0xfpecQEtNP7LN8fip6sCvsT\r\n// SIG // J0Ct5PnhqX9GuwdgR2VgQE6wQuxO7bN2edgKNAltHIAx\r\n// SIG // H+IOVN3lofvlRxCtZJj/UBYufL8FIXrilUEnacOTj5XJ\r\n// SIG // jdibIa4NXJzwoq6GaIMMai27dmsAHZat8hZ79haDJLmI\r\n// SIG // z2qoRzEvmtzjcT3XAH5iR9HOiMm4GPoOco3Boz2vAkBq\r\n// SIG // /2mbluIQqBC0N1AI1sM9MIIGBzCCA++gAwIBAgIKYRZo\r\n// SIG // NAAAAAAAHDANBgkqhkiG9w0BAQUFADBfMRMwEQYKCZIm\r\n// SIG // iZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJbWlj\r\n// SIG // cm9zb2Z0MS0wKwYDVQQDEyRNaWNyb3NvZnQgUm9vdCBD\r\n// SIG // ZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMDcwNDAzMTI1\r\n// SIG // MzA5WhcNMjEwNDAzMTMwMzA5WjB3MQswCQYDVQQGEwJV\r\n// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH\r\n// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv\r\n// SIG // cmF0aW9uMSEwHwYDVQQDExhNaWNyb3NvZnQgVGltZS1T\r\n// SIG // dGFtcCBQQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\r\n// SIG // ggEKAoIBAQCfoWyx39tIkip8ay4Z4b3i48WZUSNQrc7d\r\n// SIG // GE4kD+7Rp9FMrXQwIBHrB9VUlRVJlBtCkq6YXDAm2gBr\r\n// SIG // 6Hu97IkHD/cOBJjwicwfyzMkh53y9GccLPx754gd6udO\r\n// SIG // o6HBI1PKjfpFzwnQXq/QsEIEovmmbJNn1yjcRlOwhtDl\r\n// SIG // KEYuJ6yGT1VSDOQDLPtqkJAwbofzWTCd+n7Wl7PoIZd+\r\n// SIG // +NIT8wi3U21StEWQn0gASkdmEScpZqiX5NMGgUqi+YSn\r\n// SIG // EUcUCYKfhO1VeP4Bmh1QCIUAEDBG7bfeI0a7xC1Un68e\r\n// SIG // eEExd8yb3zuDk6FhArUdDbH895uyAc4iS1T/+QXDwiAL\r\n// SIG // AgMBAAGjggGrMIIBpzAPBgNVHRMBAf8EBTADAQH/MB0G\r\n// SIG // A1UdDgQWBBQjNPjZUkZwCu1A+3b7syuwwzWzDzALBgNV\r\n// SIG // HQ8EBAMCAYYwEAYJKwYBBAGCNxUBBAMCAQAwgZgGA1Ud\r\n// SIG // IwSBkDCBjYAUDqyCYEBWJ5flJRP8KuEKU5VZ5KShY6Rh\r\n// SIG // MF8xEzARBgoJkiaJk/IsZAEZFgNjb20xGTAXBgoJkiaJ\r\n// SIG // k/IsZAEZFgltaWNyb3NvZnQxLTArBgNVBAMTJE1pY3Jv\r\n// SIG // c29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eYIQ\r\n// SIG // ea0WoUqgpa1Mc1j0BxMuZTBQBgNVHR8ESTBHMEWgQ6BB\r\n// SIG // hj9odHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpL2Ny\r\n// SIG // bC9wcm9kdWN0cy9taWNyb3NvZnRyb290Y2VydC5jcmww\r\n// SIG // VAYIKwYBBQUHAQEESDBGMEQGCCsGAQUFBzAChjhodHRw\r\n// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL2NlcnRzL01p\r\n// SIG // Y3Jvc29mdFJvb3RDZXJ0LmNydDATBgNVHSUEDDAKBggr\r\n// SIG // BgEFBQcDCDANBgkqhkiG9w0BAQUFAAOCAgEAEJeKw1wD\r\n// SIG // RDbd6bStd9vOeVFNAbEudHFbbQwTq86+e4+4LtQSooxt\r\n// SIG // YrhXAstOIBNQmd16QOJXu69YmhzhHQGGrLt48ovQ7DsB\r\n// SIG // 7uK+jwoFyI1I4vBTFd1Pq5Lk541q1YDB5pTyBi+FA+mR\r\n// SIG // KiQicPv2/OR4mS4N9wficLwYTp2OawpylbihOZxnLcVR\r\n// SIG // DupiXD8WmIsgP+IHGjL5zDFKdjE9K3ILyOpwPf+FChPf\r\n// SIG // wgphjvDXuBfrTot/xTUrXqO/67x9C0J71FNyIe4wyrt4\r\n// SIG // ZVxbARcKFA7S2hSY9Ty5ZlizLS/n+YWGzFFW6J1wlGys\r\n// SIG // OUzU9nm/qhh6YinvopspNAZ3GmLJPR5tH4LwC8csu89D\r\n// SIG // s+X57H2146SodDW4TsVxIxImdgs8UoxxWkZDFLyzs7BN\r\n// SIG // Z8ifQv+AeSGAnhUwZuhCEl4ayJ4iIdBD6Svpu/RIzCzU\r\n// SIG // 2DKATCYqSCRfWupW76bemZ3KOm+9gSd0BhHudiG/m4LB\r\n// SIG // J1S2sWo9iaF2YbRuoROmv6pH8BJv/YoybLL+31HIjCPJ\r\n// SIG // Zr2dHYcSZAI9La9Zj7jkIeW1sMpjtHhUBdRBLlCslLCl\r\n// SIG // eKuzoJZ1GtmShxN1Ii8yqAhuoFuMJb+g74TKIdbrHk/J\r\n// SIG // mu5J4PcBZW+JC33Iacjmbuqnl84xKf8OxVtc2E0bodj6\r\n// SIG // L54/LlUWa8kTo/0xggSDMIIEfwIBATCBkDB5MQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMSMwIQYDVQQDExpNaWNyb3NvZnQg\r\n// SIG // Q29kZSBTaWduaW5nIFBDQQITMwAAAMps1TISNcThVQAB\r\n// SIG // AAAAyjAJBgUrDgMCGgUAoIGcMBkGCSqGSIb3DQEJAzEM\r\n// SIG // BgorBgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAMBgor\r\n// SIG // BgEEAYI3AgEVMCMGCSqGSIb3DQEJBDEWBBRKmaWNSDnl\r\n// SIG // EONgqJPUmD4vKbie4TA8BgorBgEEAYI3AgEMMS4wLKAO\r\n// SIG // gAwAYwBsAGkALgBqAHOhGoAYaHR0cDovL2V4cHJlc3Np\r\n// SIG // b24vY2xpLmpzMA0GCSqGSIb3DQEBAQUABIIBACIdeee/\r\n// SIG // T/y45qXCUQJIIEF2uJsjju6BVzzt4ExmGrtCnRoCYLY2\r\n// SIG // 2jCGuax3g5kY40qYDx9Sx9Q1Fga5opjV0Z0fnoY1Vb+g\r\n// SIG // zsnoTMP8CNs8HL9L0D7jCvmhTCMefOGhsk8ZkQZc0Kca\r\n// SIG // usVB7vNA5eygr9n6QjGm+WiWSkmU0eJyvqomd+3RWBfm\r\n// SIG // gN4N9+8p+wGComzQqlrV3pH4bHnfEes0AUeaq/66HbvY\r\n// SIG // EOUnuCSoyfNFkC0G1zVUhTpjErq2uodjI2ZqRtYYd+g3\r\n// SIG // 0LRldvPG4lT/mwQU0hky1wv7m9K1KXJajE8bgMRyYoib\r\n// SIG // I+9R1gwj2j1GvxPCRuOUpydPrsOhggIoMIICJAYJKoZI\r\n// SIG // hvcNAQkGMYICFTCCAhECAQEwgY4wdzELMAkGA1UEBhMC\r\n// SIG // VVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcT\r\n// SIG // B1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jw\r\n// SIG // b3JhdGlvbjEhMB8GA1UEAxMYTWljcm9zb2Z0IFRpbWUt\r\n// SIG // U3RhbXAgUENBAhMzAAAAcPQYvyMh/FCdAAAAAABwMAkG\r\n// SIG // BSsOAwIaBQCgXTAYBgkqhkiG9w0BCQMxCwYJKoZIhvcN\r\n// SIG // AQcBMBwGCSqGSIb3DQEJBTEPFw0xNTA0MjMwMTU4MDNa\r\n// SIG // MCMGCSqGSIb3DQEJBDEWBBQ1MvYZBT4QC1znP5UF97oz\r\n// SIG // V8OVITANBgkqhkiG9w0BAQUFAASCAQCGK3OWNHA16Swo\r\n// SIG // czA2UWCuYw9eR+q8IFjv2ciwE75z4811ZOK9WLE4Xtm4\r\n// SIG // I8br+7mDFjllfvu96PmYwZ5YDaMYjJ7cXC68JqKbc/3y\r\n// SIG // 4/7aPTMOE91NWpbnkRPExsoWcHxJc8TZPRU6V30u6BJb\r\n// SIG // HZ0IYCEGEuiexnaGzQLB6/gDKVdPzOnCO8VuaB+ICZRY\r\n// SIG // 22XccSLr/pzOOUc1h7q3mkAoJP4N1y8vt1NJXwe4FCKH\r\n// SIG // NAAwLyAp/77w9kf7lQF9XCHReC1/dJWw0mrTBau8G1Vd\r\n// SIG // MO676tuvBAVdzdVWmZ5tl6O3rNaut+DtVHIf9lF6ioq6\r\n// SIG // oaM8U0bZECR/KMDEbvkS\r\n// SIG // End signature block\r\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/node_modules/vs-mda-remote/lib/appInstaller.js":"/********************************************************\r\n*                                                       *\r\n*   Copyright (C) Microsoft. All rights reserved.       *\r\n*                                                       *\r\n********************************************************/\r\n\"use strict\";\r\n\r\nvar exec = require('child_process').exec\r\n  , Q = require('q')\r\n  , util = require('./util')\r\n  , res = require('./resources');\r\n\r\nvar installer = exports = module.exports = {};\r\n\r\ninstaller.install = function (ipaPath) {\r\n    var quoteSafeIpaPath = util.quotesAroundIfNecessary(ipaPath);\r\n    var deferred = Q.defer();\r\n    exec('ideviceinstaller -i ' + quoteSafeIpaPath, function (err, stdout, stderr) {\r\n\t\tif (stdout.indexOf(\"ApplicationVerificationFailed\") > -1) {\r\n\t\t\tdeferred.reject({ reason: 'ProvisioningFailed' });\r\n\t\t} else if (err) {\r\n\t\t\tif (err.message.indexOf(\"No iOS device found, is it plugged in?\") > -1) {\r\n\t\t\t\tdeferred.reject({ reason: 'InstallFailNoDevice' });\r\n\t\t\t} else {\r\n\t\t\t\tdeferred.reject(err);\r\n\t\t\t}\r\n        } else if (stderr.toLowerCase().indexOf(\"error\") > -1) {\r\n            deferred.reject(stderr);\r\n        } else {\r\n            deferred.resolve(stdout);\r\n        }\r\n    });\r\n    return deferred.promise;\r\n};\r\n// SIG // Begin signature block\r\n// SIG // MIIatQYJKoZIhvcNAQcCoIIapjCCGqICAQExCzAJBgUr\r\n// SIG // DgMCGgUAMGcGCisGAQQBgjcCAQSgWTBXMDIGCisGAQQB\r\n// SIG // gjcCAR4wJAIBAQQQEODJBs441BGiowAQS9NQkAIBAAIB\r\n// SIG // AAIBAAIBAAIBADAhMAkGBSsOAwIaBQAEFM/BwjRga/Qd\r\n// SIG // jBwIw2TBoGTMc1tKoIIVgjCCBMMwggOroAMCAQICEzMA\r\n// SIG // AABw9Bi/IyH8UJ0AAAAAAHAwDQYJKoZIhvcNAQEFBQAw\r\n// SIG // dzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWlj\r\n// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBMB4XDTE1MDMyMDE3\r\n// SIG // MzIwMloXDTE2MDYyMDE3MzIwMlowgbMxCzAJBgNVBAYT\r\n// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH\r\n// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y\r\n// SIG // cG9yYXRpb24xDTALBgNVBAsTBE1PUFIxJzAlBgNVBAsT\r\n// SIG // Hm5DaXBoZXIgRFNFIEVTTjpGNTI4LTM3NzctOEE3NjEl\r\n// SIG // MCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAgU2Vy\r\n// SIG // dmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\r\n// SIG // ggEBAKMU2e8coHkRvS2aBJ0jNIKlQh0rANHSGzEpyCor\r\n// SIG // 8y30bovd4hv4E/TAX3BTr+czD3RKBxRs3CgDuCoKeMRu\r\n// SIG // II4LgG9We5P0cU/C06vG7C2uldBjZ7BkpjQDDOOKrihS\r\n// SIG // Apk1+Txk2ysyd8I07lIeX5cGdAl/8KL31ZHq3GLbU4ZH\r\n// SIG // bowBW+Ile3j8PXKDIntZk6Kvk8kYLuf2ClQOmA1lBld3\r\n// SIG // k5GvlK+EvrhvrYT0+xXik+LYSDZ1WTIBDXF2AJVJaWzU\r\n// SIG // xjY6WjDQwMpzieaU9iMeEmBRAAjB3to/SITtta/U05o4\r\n// SIG // lam6o1i1eGhGvw+MY3G+OkNDWRDwSrp71uUGE90CAwEA\r\n// SIG // AaOCAQkwggEFMB0GA1UdDgQWBBRtz/O4hK73zHa9uHus\r\n// SIG // PZdhgXQrJzAfBgNVHSMEGDAWgBQjNPjZUkZwCu1A+3b7\r\n// SIG // syuwwzWzDzBUBgNVHR8ETTBLMEmgR6BFhkNodHRwOi8v\r\n// SIG // Y3JsLm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0\r\n// SIG // cy9NaWNyb3NvZnRUaW1lU3RhbXBQQ0EuY3JsMFgGCCsG\r\n// SIG // AQUFBwEBBEwwSjBIBggrBgEFBQcwAoY8aHR0cDovL3d3\r\n// SIG // dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3Nv\r\n// SIG // ZnRUaW1lU3RhbXBQQ0EuY3J0MBMGA1UdJQQMMAoGCCsG\r\n// SIG // AQUFBwMIMA0GCSqGSIb3DQEBBQUAA4IBAQBeOir1Z/QF\r\n// SIG // MCre4bnvZ/wq/25yKZ+efMcTw6PljjwE6SYVTffCZ4Jc\r\n// SIG // ClvFCu5V8KMtjqIdorMsLdAR4poqAdEwJmehpm6JMRxu\r\n// SIG // 3cRxVPAJot3B1jZzwAz/VQhr/KGU/V0sJyHs0SMG3AQs\r\n// SIG // 77kC2wO7R3MYCut9mc1fBuCI94qTxRIRG/NSlaNyoNJY\r\n// SIG // 2cMs4mt/d9RjU+qCuC9HZCiYx4M78WsoYfgKiIJFUpLp\r\n// SIG // gyZJXLfOPJp/r6BRk8W8usvRK7W7kBkKpqdqfvj9FX5G\r\n// SIG // RIelBtT8SnA4xui1SvTbri/sQ8mJoijFVdnBuluqYLul\r\n// SIG // u/nVAo4OD23CNXDAqOwNobK4MIIE7DCCA9SgAwIBAgIT\r\n// SIG // MwAAAMps1TISNcThVQABAAAAyjANBgkqhkiG9w0BAQUF\r\n// SIG // ADB5MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu\r\n// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV\r\n// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSMwIQYDVQQDExpN\r\n// SIG // aWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQTAeFw0xNDA0\r\n// SIG // MjIxNzM5MDBaFw0xNTA3MjIxNzM5MDBaMIGDMQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMQ0wCwYDVQQLEwRNT1BSMR4wHAYD\r\n// SIG // VQQDExVNaWNyb3NvZnQgQ29ycG9yYXRpb24wggEiMA0G\r\n// SIG // CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCWcV3tBkb6\r\n// SIG // hMudW7dGx7DhtBE5A62xFXNgnOuntm4aPD//ZeM08aal\r\n// SIG // IV5WmWxY5JKhClzC09xSLwxlmiBhQFMxnGyPIX26+f4T\r\n// SIG // UFJglTpbuVildGFBqZTgrSZOTKGXcEknXnxnyk8ecYRG\r\n// SIG // vB1LtuIPxcYnyQfmegqlFwAZTHBFOC2BtFCqxWfR+nm8\r\n// SIG // xcyhcpv0JTSY+FTfEjk4Ei+ka6Wafsdi0dzP7T00+Lnf\r\n// SIG // NTC67HkyqeGprFVNTH9MVsMTC3bxB/nMR6z7iNVSpR4o\r\n// SIG // +j0tz8+EmIZxZRHPhckJRIbhb+ex/KxARKWpiyM/gkmd\r\n// SIG // 1ZZZUBNZGHP/QwytK9R/MEBnAgMBAAGjggFgMIIBXDAT\r\n// SIG // BgNVHSUEDDAKBggrBgEFBQcDAzAdBgNVHQ4EFgQUH17i\r\n// SIG // XVCNVoa+SjzPBOinh7XLv4MwUQYDVR0RBEowSKRGMEQx\r\n// SIG // DTALBgNVBAsTBE1PUFIxMzAxBgNVBAUTKjMxNTk1K2I0\r\n// SIG // MjE4ZjEzLTZmY2EtNDkwZi05YzQ3LTNmYzU1N2RmYzQ0\r\n// SIG // MDAfBgNVHSMEGDAWgBTLEejK0rQWWAHJNy4zFha5TJoK\r\n// SIG // HzBWBgNVHR8ETzBNMEugSaBHhkVodHRwOi8vY3JsLm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0cy9NaWND\r\n// SIG // b2RTaWdQQ0FfMDgtMzEtMjAxMC5jcmwwWgYIKwYBBQUH\r\n// SIG // AQEETjBMMEoGCCsGAQUFBzAChj5odHRwOi8vd3d3Lm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NlcnRzL01pY0NvZFNpZ1BD\r\n// SIG // QV8wOC0zMS0yMDEwLmNydDANBgkqhkiG9w0BAQUFAAOC\r\n// SIG // AQEAd1zr15E9zb17g9mFqbBDnXN8F8kP7Tbbx7UsG177\r\n// SIG // VAU6g3FAgQmit3EmXtZ9tmw7yapfXQMYKh0nfgfpxWUf\r\n// SIG // tc8Nt1THKDhaiOd7wRm2VjK64szLk9uvbg9dRPXUsO8b\r\n// SIG // 1U7Brw7vIJvy4f4nXejF/2H2GdIoCiKd381wgp4Yctgj\r\n// SIG // zHosQ+7/6sDg5h2qnpczAFJvB7jTiGzepAY1p8JThmUR\r\n// SIG // dwmPNVm52IaoAP74MX0s9IwFncDB1XdybOlNWSaD8cKy\r\n// SIG // iFeTNQB8UCu8Wfz+HCk4gtPeUpdFKRhOlludul8bo/En\r\n// SIG // UOoHlehtNA04V9w3KDWVOjic1O1qhV0OIhFeezCCBbww\r\n// SIG // ggOkoAMCAQICCmEzJhoAAAAAADEwDQYJKoZIhvcNAQEF\r\n// SIG // BQAwXzETMBEGCgmSJomT8ixkARkWA2NvbTEZMBcGCgmS\r\n// SIG // JomT8ixkARkWCW1pY3Jvc29mdDEtMCsGA1UEAxMkTWlj\r\n// SIG // cm9zb2Z0IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5\r\n// SIG // MB4XDTEwMDgzMTIyMTkzMloXDTIwMDgzMTIyMjkzMlow\r\n// SIG // eTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEjMCEGA1UEAxMaTWlj\r\n// SIG // cm9zb2Z0IENvZGUgU2lnbmluZyBQQ0EwggEiMA0GCSqG\r\n// SIG // SIb3DQEBAQUAA4IBDwAwggEKAoIBAQCycllcGTBkvx2a\r\n// SIG // YCAgQpl2U2w+G9ZvzMvx6mv+lxYQ4N86dIMaty+gMuz/\r\n// SIG // 3sJCTiPVcgDbNVcKicquIEn08GisTUuNpb15S3GbRwfa\r\n// SIG // /SXfnXWIz6pzRH/XgdvzvfI2pMlcRdyvrT3gKGiXGqel\r\n// SIG // cnNW8ReU5P01lHKg1nZfHndFg4U4FtBzWwW6Z1KNpbJp\r\n// SIG // L9oZC/6SdCnidi9U3RQwWfjSjWL9y8lfRjFQuScT5EAw\r\n// SIG // z3IpECgixzdOPaAyPZDNoTgGhVxOVoIoKgUyt0vXT2Pn\r\n// SIG // 0i1i8UU956wIAPZGoZ7RW4wmU+h6qkryRs83PDietHdc\r\n// SIG // pReejcsRj1Y8wawJXwPTAgMBAAGjggFeMIIBWjAPBgNV\r\n// SIG // HRMBAf8EBTADAQH/MB0GA1UdDgQWBBTLEejK0rQWWAHJ\r\n// SIG // Ny4zFha5TJoKHzALBgNVHQ8EBAMCAYYwEgYJKwYBBAGC\r\n// SIG // NxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU/dExTtMm\r\n// SIG // ipXhmGA7qDFvpjy82C0wGQYJKwYBBAGCNxQCBAweCgBT\r\n// SIG // AHUAYgBDAEEwHwYDVR0jBBgwFoAUDqyCYEBWJ5flJRP8\r\n// SIG // KuEKU5VZ5KQwUAYDVR0fBEkwRzBFoEOgQYY/aHR0cDov\r\n// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj\r\n// SIG // dHMvbWljcm9zb2Z0cm9vdGNlcnQuY3JsMFQGCCsGAQUF\r\n// SIG // BwEBBEgwRjBEBggrBgEFBQcwAoY4aHR0cDovL3d3dy5t\r\n// SIG // aWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3NvZnRS\r\n// SIG // b290Q2VydC5jcnQwDQYJKoZIhvcNAQEFBQADggIBAFk5\r\n// SIG // Pn8mRq/rb0CxMrVq6w4vbqhJ9+tfde1MOy3XQ60L/svp\r\n// SIG // LTGjI8x8UJiAIV2sPS9MuqKoVpzjcLu4tPh5tUly9z7q\r\n// SIG // QX/K4QwXaculnCAt+gtQxFbNLeNK0rxw56gNogOlVuC4\r\n// SIG // iktX8pVCnPHz7+7jhh80PLhWmvBTI4UqpIIck+KUBx3y\r\n// SIG // 4k74jKHK6BOlkU7IG9KPcpUqcW2bGvgc8FPWZ8wi/1wd\r\n// SIG // zaKMvSeyeWNWRKJRzfnpo1hW3ZsCRUQvX/TartSCMm78\r\n// SIG // pJUT5Otp56miLL7IKxAOZY6Z2/Wi+hImCWU4lPF6H0q7\r\n// SIG // 0eFW6NB4lhhcyTUWX92THUmOLb6tNEQc7hAVGgBd3TVb\r\n// SIG // Ic6YxwnuhQ6MT20OE049fClInHLR82zKwexwo1eSV32U\r\n// SIG // jaAbSANa98+jZwp0pTbtLS8XyOZyNxL0b7E8Z4L5UrKN\r\n// SIG // MxZlHg6K3RDeZPRvzkbU0xfpecQEtNP7LN8fip6sCvsT\r\n// SIG // J0Ct5PnhqX9GuwdgR2VgQE6wQuxO7bN2edgKNAltHIAx\r\n// SIG // H+IOVN3lofvlRxCtZJj/UBYufL8FIXrilUEnacOTj5XJ\r\n// SIG // jdibIa4NXJzwoq6GaIMMai27dmsAHZat8hZ79haDJLmI\r\n// SIG // z2qoRzEvmtzjcT3XAH5iR9HOiMm4GPoOco3Boz2vAkBq\r\n// SIG // /2mbluIQqBC0N1AI1sM9MIIGBzCCA++gAwIBAgIKYRZo\r\n// SIG // NAAAAAAAHDANBgkqhkiG9w0BAQUFADBfMRMwEQYKCZIm\r\n// SIG // iZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJbWlj\r\n// SIG // cm9zb2Z0MS0wKwYDVQQDEyRNaWNyb3NvZnQgUm9vdCBD\r\n// SIG // ZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMDcwNDAzMTI1\r\n// SIG // MzA5WhcNMjEwNDAzMTMwMzA5WjB3MQswCQYDVQQGEwJV\r\n// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH\r\n// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv\r\n// SIG // cmF0aW9uMSEwHwYDVQQDExhNaWNyb3NvZnQgVGltZS1T\r\n// SIG // dGFtcCBQQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\r\n// SIG // ggEKAoIBAQCfoWyx39tIkip8ay4Z4b3i48WZUSNQrc7d\r\n// SIG // GE4kD+7Rp9FMrXQwIBHrB9VUlRVJlBtCkq6YXDAm2gBr\r\n// SIG // 6Hu97IkHD/cOBJjwicwfyzMkh53y9GccLPx754gd6udO\r\n// SIG // o6HBI1PKjfpFzwnQXq/QsEIEovmmbJNn1yjcRlOwhtDl\r\n// SIG // KEYuJ6yGT1VSDOQDLPtqkJAwbofzWTCd+n7Wl7PoIZd+\r\n// SIG // +NIT8wi3U21StEWQn0gASkdmEScpZqiX5NMGgUqi+YSn\r\n// SIG // EUcUCYKfhO1VeP4Bmh1QCIUAEDBG7bfeI0a7xC1Un68e\r\n// SIG // eEExd8yb3zuDk6FhArUdDbH895uyAc4iS1T/+QXDwiAL\r\n// SIG // AgMBAAGjggGrMIIBpzAPBgNVHRMBAf8EBTADAQH/MB0G\r\n// SIG // A1UdDgQWBBQjNPjZUkZwCu1A+3b7syuwwzWzDzALBgNV\r\n// SIG // HQ8EBAMCAYYwEAYJKwYBBAGCNxUBBAMCAQAwgZgGA1Ud\r\n// SIG // IwSBkDCBjYAUDqyCYEBWJ5flJRP8KuEKU5VZ5KShY6Rh\r\n// SIG // MF8xEzARBgoJkiaJk/IsZAEZFgNjb20xGTAXBgoJkiaJ\r\n// SIG // k/IsZAEZFgltaWNyb3NvZnQxLTArBgNVBAMTJE1pY3Jv\r\n// SIG // c29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eYIQ\r\n// SIG // ea0WoUqgpa1Mc1j0BxMuZTBQBgNVHR8ESTBHMEWgQ6BB\r\n// SIG // hj9odHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpL2Ny\r\n// SIG // bC9wcm9kdWN0cy9taWNyb3NvZnRyb290Y2VydC5jcmww\r\n// SIG // VAYIKwYBBQUHAQEESDBGMEQGCCsGAQUFBzAChjhodHRw\r\n// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL2NlcnRzL01p\r\n// SIG // Y3Jvc29mdFJvb3RDZXJ0LmNydDATBgNVHSUEDDAKBggr\r\n// SIG // BgEFBQcDCDANBgkqhkiG9w0BAQUFAAOCAgEAEJeKw1wD\r\n// SIG // RDbd6bStd9vOeVFNAbEudHFbbQwTq86+e4+4LtQSooxt\r\n// SIG // YrhXAstOIBNQmd16QOJXu69YmhzhHQGGrLt48ovQ7DsB\r\n// SIG // 7uK+jwoFyI1I4vBTFd1Pq5Lk541q1YDB5pTyBi+FA+mR\r\n// SIG // KiQicPv2/OR4mS4N9wficLwYTp2OawpylbihOZxnLcVR\r\n// SIG // DupiXD8WmIsgP+IHGjL5zDFKdjE9K3ILyOpwPf+FChPf\r\n// SIG // wgphjvDXuBfrTot/xTUrXqO/67x9C0J71FNyIe4wyrt4\r\n// SIG // ZVxbARcKFA7S2hSY9Ty5ZlizLS/n+YWGzFFW6J1wlGys\r\n// SIG // OUzU9nm/qhh6YinvopspNAZ3GmLJPR5tH4LwC8csu89D\r\n// SIG // s+X57H2146SodDW4TsVxIxImdgs8UoxxWkZDFLyzs7BN\r\n// SIG // Z8ifQv+AeSGAnhUwZuhCEl4ayJ4iIdBD6Svpu/RIzCzU\r\n// SIG // 2DKATCYqSCRfWupW76bemZ3KOm+9gSd0BhHudiG/m4LB\r\n// SIG // J1S2sWo9iaF2YbRuoROmv6pH8BJv/YoybLL+31HIjCPJ\r\n// SIG // Zr2dHYcSZAI9La9Zj7jkIeW1sMpjtHhUBdRBLlCslLCl\r\n// SIG // eKuzoJZ1GtmShxN1Ii8yqAhuoFuMJb+g74TKIdbrHk/J\r\n// SIG // mu5J4PcBZW+JC33Iacjmbuqnl84xKf8OxVtc2E0bodj6\r\n// SIG // L54/LlUWa8kTo/0xggSfMIIEmwIBATCBkDB5MQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMSMwIQYDVQQDExpNaWNyb3NvZnQg\r\n// SIG // Q29kZSBTaWduaW5nIFBDQQITMwAAAMps1TISNcThVQAB\r\n// SIG // AAAAyjAJBgUrDgMCGgUAoIG4MBkGCSqGSIb3DQEJAzEM\r\n// SIG // BgorBgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAMBgor\r\n// SIG // BgEEAYI3AgEVMCMGCSqGSIb3DQEJBDEWBBRQUXYJ6uOM\r\n// SIG // pJ9E6nFL40RjwKLi6jBYBgorBgEEAYI3AgEMMUowSKAg\r\n// SIG // gB4AYQBwAHAASQBuAHMAdABhAGwAbABlAHIALgBqAHOh\r\n// SIG // JIAiaHR0cDovL2V4cHJlc3Npb24vYXBwaW5zdGFsbGVy\r\n// SIG // LmpzIDANBgkqhkiG9w0BAQEFAASCAQAO5h9Ps1CpPwAa\r\n// SIG // LE1ldIF06kqkUzMEulEc8WRJpAs7tapaxji5xbVey+MN\r\n// SIG // k0OzVxVzgUaG0Y6OqOKAkfVpexB517odK33vbh3xJ4ux\r\n// SIG // NOWvXre7hCPXpBoUyt4OrcaQcA734657dV5K1TmTBgMM\r\n// SIG // +83rmHmmjI+bnJKm4CfaPvp1dBqGkbrZbLLSstdGfG2n\r\n// SIG // WUW3LA31kdqxY0Xp60IivUwtVi2O6Ihtmu3hfPedUGCT\r\n// SIG // FVw+iPUYwGv6mvkB4I68OgOw1k9y0+Hx8XQ3SgKyVppu\r\n// SIG // /9pEoeAeaYqg5/SoZyEVxW5KMik0GumNdPHTIQmgUCGd\r\n// SIG // TAcC7OPOVZ8BMgWNTVT8oYICKDCCAiQGCSqGSIb3DQEJ\r\n// SIG // BjGCAhUwggIRAgEBMIGOMHcxCzAJBgNVBAYTAlVTMRMw\r\n// SIG // EQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRt\r\n// SIG // b25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRp\r\n// SIG // b24xITAfBgNVBAMTGE1pY3Jvc29mdCBUaW1lLVN0YW1w\r\n// SIG // IFBDQQITMwAAAHD0GL8jIfxQnQAAAAAAcDAJBgUrDgMC\r\n// SIG // GgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAc\r\n// SIG // BgkqhkiG9w0BCQUxDxcNMTUwNDIzMDE1MTAwWjAjBgkq\r\n// SIG // hkiG9w0BCQQxFgQUmwkxq5omAM7rsQ5NWOBNk/8xplAw\r\n// SIG // DQYJKoZIhvcNAQEFBQAEggEANjQjlPNjYHzr6h/22aFj\r\n// SIG // Sl3TsxWGp662hoIrMZzh4tyBa4124mtlMpxLj83VO7xx\r\n// SIG // mI60LRAutL0g2W18MSlMhr/0iVLSdDdIUAJANL0SZxmH\r\n// SIG // OTQ5U5wv+1zA12+7Dbf2KQ9XGGW0YB5R7g/K5CfVh+6y\r\n// SIG // nhloxASeRRla6kTs4ZIT0l7EalXL0m3M++EgzflkQMeK\r\n// SIG // kJR+81uNKiNXFqDgre0QxQls2YZME284igbWH84lmHHA\r\n// SIG // rhEZO+bzxoiWj5q8x68sZ50Pb440UR43QJ81iuMKYsvf\r\n// SIG // zLsoRROaDCcoPl7NvxrGNyT2bBKraAPeGmkKWszlN9H0\r\n// SIG // 9WG81GSLQ8PO5A==\r\n// SIG // End signature block\r\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/node_modules/vs-mda-remote/lib/appRunner.js":"/********************************************************\r\n*                                                       *\r\n*   Copyright (C) Microsoft. All rights reserved.       *\r\n*                                                       *\r\n********************************************************/\r\n\"use strict\";\r\n\r\nvar exec = require('child_process').exec\r\n  , Q = require('q')\r\n  , pl = require('plist-with-patches')\r\n  , util = require('./util')\r\n  , net = require('net')\r\n  , fs = require('fs');\r\n\r\nvar runner = exports = module.exports = {};\r\n\r\nvar promiseExec = Q.denodeify(exec);\r\n\r\nvar getDiskImageInfo = function () {\r\n    // Attempt to find the OS version of the iDevice, e.g. 7.1\r\n    var versionInfo = promiseExec(\"ideviceinfo -s -k ProductVersion\").then(function (args) {\r\n        var stdout = args[0];\r\n        return stdout.trim().substring(0, 3); // Versions for DeveloperDiskImage seem to be X.Y, while some device versions are X.Y.Z\r\n        // NOTE: This will almost certainly be wrong in the next few years, once we hit version 10.0 \r\n    }, function (err) {\r\n        throw new Error(\"Can't get device info\");\r\n    });\r\n    \r\n    // Attempt to find the path where developer resources exist.\r\n    var pathInfo = promiseExec(\"xcrun -sdk iphoneos --show-sdk-platform-path\").then(function (args) {\r\n        var sdkpath = args[0].trim();\r\n        return sdkpath;\r\n    });\r\n    \r\n    // Attempt to find the developer disk image for the appropriate \r\n    return Q.all([versionInfo, pathInfo]).spread(function (version, sdkpath) {\r\n        var spaceSafeName = util.quotesAroundIfNecessary(sdkpath);\r\n        return promiseExec('find ' + spaceSafeName + ' -path \"*' + version + '*\" -name \"DeveloperDiskImage.dmg\"');\r\n    });\r\n}\r\n\r\nvar mountDeveloperImage = function () {\r\n    return getDiskImageInfo().then(function (args) {\r\n        var findStdOut = args[0];\r\n        var candidate = findStdOut.split(\"\\n\")[0];\r\n        var dmgPath = candidate.trim();\r\n        if (dmgPath == \"\") {\r\n            throw new Error(\"Unable to find DeveloperDiskImage.dmg\");\r\n        }\r\n        var quoteSafeDmgPath = util.quotesAroundIfNecessary(dmgPath);\r\n        var deferred = Q.defer();\r\n        exec('ideviceimagemounter ' + quoteSafeDmgPath, function (err, stdout, stderr) {\r\n            if (err) {\r\n                if (stdout.indexOf(\"Error:\") > -1) {\r\n                    deferred.resolve('Failed; may already be mounted?');\r\n                } else if (stdout.indexOf('No device found, is it plugged in?') > -1) {\r\n                    deferred.reject(new Error(\"No Device Attached\"));\r\n                }\r\n            } else {\r\n                deferred.resolve(stdout);\r\n            }\r\n        });\r\n        return deferred.promise;\r\n    });\r\n}\r\n\r\nvar proxyInstance = null;\r\nvar webProxyInstance = null;\r\n\r\nrunner.shutdown = function () {\r\n    if (proxyInstance) {\r\n        console.info(\"Shutting down native debug proxy...\");\r\n        proxyInstance.kill('SIGHUP');\r\n        proxyInstance = null;\r\n    }\r\n    if (webProxyInstance) {\r\n        console.info(\"Shutting down web debug proxy...\");\r\n        webProxyInstance.kill();\r\n        webProxyInstance = null;\r\n    }\r\n}\r\n\r\n// Attempt to start the debug server proxy listening on a given port. Returns the executable, so it can be stopped later if necessary.\r\nrunner.startDebugProxy = function (portNumber) {\r\n    if (proxyInstance != null) {\r\n        proxyInstance.kill('SIGHUP'); // idevicedebugserver does not exit from SIGTERM\r\n        proxyInstance = null;\r\n    }\r\n    return mountDeveloperImage().then(function () {\r\n        proxyInstance = exec('idevicedebugserverproxy ' + portNumber);\r\n        return proxyInstance;\r\n    });\r\n}\r\n\r\nrunner.startiOSWebkitDebugProxy = function (devicePortNumber, portRangeMin, portRangeMax) {\r\n    if (webProxyInstance != null) {\r\n        webProxyInstance.kill(); // sigterm works fine and allows for a graceful exit.\r\n        webProxyInstance = null;\r\n    }\r\n    var commandString = 'ios_webkit_debug_proxy -c null:' + devicePortNumber + \",:\" + portRangeMin + \"-\" + portRangeMax;\r\n    console.info(\"Running command '\"+commandString+\"'\");\r\n    webProxyInstance = exec(commandString);\r\n    var deferred = Q.defer();\r\n    setTimeout(function () {\r\n        if (!webProxyInstance) {\r\n            deferred.reject('WebkitProxyFailed');\r\n        }\r\n        if (webProxyInstance.exitCode) {\r\n            deferred.reject('WebkitProxyFailed');\r\n        }\r\n        deferred.resolve(webProxyInstance);\r\n    }, 250);\r\n    return deferred.promise;\r\n}\r\n\r\nrunner.encodePath = function (packagePath) {\r\n    // Encode the path by converting each character value to hex\r\n    var encodedPath = \"\";\r\n    for (var i = 0; i < packagePath.length; ++i) {\r\n        var c = packagePath[i];\r\n        encodedPath += charToHex(c);\r\n    }\r\n    return encodedPath;\r\n}\r\n\r\nrunner.startAppViaDebugger = function (portNumber) {\r\n    return function (packagePath) {\r\n        var encodedPath = runner.encodePath(packagePath);\r\n        \r\n        // We need to send 3 messages to the proxy, waiting for responses between each message:\r\n        \r\n        // A(length of encoded path),0,(encoded path)\r\n        // Hc0\r\n        // c\r\n        \r\n        // We expect a '+' for each message sent, followed by a $OK#9a to indicate that everything has worked.\r\n        \r\n        // For more info, see http://www.opensource.apple.com/source/lldb/lldb-167.2/docs/lldb-gdb-remote.txt\r\n        \r\n        var socket = new net.Socket();\r\n        socket.initState = 0;\r\n        socket.endStatus = null;\r\n        socket.endSignal = null;\r\n        \r\n        var deferred1 = Q.defer();\r\n        var deferred2 = Q.defer();\r\n        var deferred3 = Q.defer();\r\n        \r\n        socket.on(\"data\", function (data) {\r\n            data = data.toString();\r\n            while (data[0] == '+') { data = data.substring(1); }\r\n            // Acknowledge any packets sent our way\r\n            if (data[0] == '$') {\r\n                socket.write('+');\r\n                if (data[1] == 'W') {\r\n                    // The app process has exited, with hex status given by data[2-3] \r\n                    var status = parseInt(data.substring(2, 4), 16)\r\n                    socket.endStatus = status;\r\n                    socket.end();\r\n                } else if (data[1] == 'X') {\r\n                    // The app rocess exited because of signal given by data[2-3]\r\n                    var signal = parseInt(data.substring(2, 4), 16)\r\n                    socket.endSignal = signal;\r\n                    socket.end();\r\n                } else if (data.substring(1, 3) == 'OK') {\r\n                    // last command was received OK;\r\n                    if (socket.initState == 1) {\r\n                        deferred1.resolve(socket);\r\n                    } else if (socket.initState == 2) {\r\n                        deferred2.resolve(socket);\r\n                    }\r\n                } else if (data[1] == 'O') {\r\n                    // STDOUT was written to, and the rest of the input until reaching a '#' is a hex-encoded string of that output\r\n                    if (socket.initState == 3) {\r\n                        console.info(\"App started!\");\r\n                        deferred3.resolve(socket);\r\n                        socket.initState++;\r\n                    }\r\n                } else if (data[1] == 'E') {\r\n                    // An error has occurred, with error code given by data[2-3]\r\n                    deferred1.reject(\"Launch failed: \" + parseInt(data.substring(2, 4), 16));\r\n                    deferred2.reject(\"Launch failed: \" + parseInt(data.substring(2, 4), 16));\r\n                    deferred3.reject(\"Launch failed: \" + parseInt(data.substring(2, 4), 16));\r\n                }\r\n                \r\n            }\r\n        });\r\n        \r\n        socket.on(\"end\", function () {\r\n            deferred1.reject(\"Unable to launch app\");\r\n            deferred2.reject(\"Unable to launch app\");\r\n            deferred3.reject(\"Unable to launch app\");\r\n        });\r\n\r\n        socket.connect(portNumber, \"localhost\", function () {\r\n            // set argument 0 to the (encoded) path of the app\r\n            console.info(\"Starting app...\");\r\n            var cmd = makeGdbCommand(\"A\" + encodedPath.length + \",0,\" + encodedPath);\r\n            socket.initState++;\r\n            socket.write(cmd);\r\n            setTimeout(function () {\r\n                if (socket.initState == 1) {\r\n                    deferred1.reject(\"Timeout: Is the device locked?\");\r\n                    deferred2.reject(\"Timeout: Is the device locked?\");\r\n                    deferred3.reject(\"Timeout: Is the device locked?\");\r\n                    socket.end();\r\n                }\r\n            }, 5000);\r\n        });\r\n        \r\n        return deferred1.promise.then(function (sock) {\r\n            // Set the step and continue thread to any thread\r\n            var cmd = makeGdbCommand(\"Hc0\");\r\n            sock.initState++;\r\n            sock.write(cmd);\r\n            setTimeout(function () {\r\n                if (socket.initState == 2) {\r\n                    deferred2.reject(\"Timeout: Is the device locked?\");\r\n                    deferred3.reject(\"Timeout: Is the device locked?\");\r\n                    socket.end();\r\n                }\r\n            }, 5000);\r\n            return deferred2.promise;\r\n        }).then(function (sock) {\r\n            //Continue execution; actually start the app running.\r\n            var cmd = makeGdbCommand(\"c\");\r\n            sock.initState++;\r\n            sock.write(cmd);\r\n            setTimeout(function () {\r\n                if (socket.initState == 3) {\r\n                    deferred3.reject(\"Timeout: Is the device locked?\");\r\n                    socket.end();\r\n                }\r\n            }, 5000);\r\n            return deferred3.promise;\r\n        });\r\n    }\r\n}\r\n\r\n// Attempt to start the app on the device, using the debug server proxy on a given port.\r\n// Returns a socket speaking remote gdb protocol with the debug server proxy.\r\nrunner.startApp = function (packageId, portNumber) {\r\n    // When a user has many apps installedl on their device, the response from ideviceinstaller may be large (500k or more)\r\n    // This exceeds the maximum stdout size that exec allows, so we redirect to a temp file.\r\n    return promiseExec('ideviceinstaller -l -o xml > /tmp/$$.ideviceinstaller && echo /tmp/$$.ideviceinstaller').then(function (args) {\r\n        // First find the path of the app on the device\r\n        var filename = args[0].trim();\r\n        if (! /^\\/tmp\\/[0-9]+\\.ideviceinstaller$/.test(filename)) {\r\n            throw new Error(\"Output file not as expected\");\r\n        }\r\n        var list = pl.parseFileSync(filename);\r\n        fs.unlink(filename);\r\n        for (var i = 0; i < list.length; ++i) {\r\n            if (list[i].CFBundleIdentifier == packageId) {\r\n                return list[i].Path;\r\n            }\r\n        }\r\n        throw new Error(\"Package not installed?\");\r\n    }).then(runner.startAppViaDebugger(portNumber));\r\n}\r\n\r\nfunction charToHex(char) {\r\n    var conversionTable = '0123456789ABCDEF';\r\n    var charCode = char.charCodeAt(0);\r\n    return conversionTable[(charCode & 0xF0) >> 4] + conversionTable[charCode & 0x0F];\r\n}\r\n\r\nfunction makeGdbCommand(command) {\r\n    var commandString = \"$\" + command + \"#\";\r\n    var stringSum = 0;\r\n    for (var i = 0; i < command.length; i++) {\r\n        stringSum += command.charCodeAt(i);\r\n    }\r\n    stringSum = stringSum & 0xFF;\r\n    var checksum = stringSum.toString(16).toUpperCase();\r\n    if (checksum.length < 2) {\r\n        checksum = '0' + checksum;\r\n    }\r\n    commandString += checksum;\r\n    return commandString;\r\n}\r\n\r\n// SIG // Begin signature block\r\n// SIG // MIIaqwYJKoZIhvcNAQcCoIIanDCCGpgCAQExCzAJBgUr\r\n// SIG // DgMCGgUAMGcGCisGAQQBgjcCAQSgWTBXMDIGCisGAQQB\r\n// SIG // gjcCAR4wJAIBAQQQEODJBs441BGiowAQS9NQkAIBAAIB\r\n// SIG // AAIBAAIBAAIBADAhMAkGBSsOAwIaBQAEFBTW5rTa5ule\r\n// SIG // RblPyzCDyk+RNPtYoIIVgjCCBMMwggOroAMCAQICEzMA\r\n// SIG // AABw9Bi/IyH8UJ0AAAAAAHAwDQYJKoZIhvcNAQEFBQAw\r\n// SIG // dzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWlj\r\n// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBMB4XDTE1MDMyMDE3\r\n// SIG // MzIwMloXDTE2MDYyMDE3MzIwMlowgbMxCzAJBgNVBAYT\r\n// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH\r\n// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y\r\n// SIG // cG9yYXRpb24xDTALBgNVBAsTBE1PUFIxJzAlBgNVBAsT\r\n// SIG // Hm5DaXBoZXIgRFNFIEVTTjpGNTI4LTM3NzctOEE3NjEl\r\n// SIG // MCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAgU2Vy\r\n// SIG // dmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\r\n// SIG // ggEBAKMU2e8coHkRvS2aBJ0jNIKlQh0rANHSGzEpyCor\r\n// SIG // 8y30bovd4hv4E/TAX3BTr+czD3RKBxRs3CgDuCoKeMRu\r\n// SIG // II4LgG9We5P0cU/C06vG7C2uldBjZ7BkpjQDDOOKrihS\r\n// SIG // Apk1+Txk2ysyd8I07lIeX5cGdAl/8KL31ZHq3GLbU4ZH\r\n// SIG // bowBW+Ile3j8PXKDIntZk6Kvk8kYLuf2ClQOmA1lBld3\r\n// SIG // k5GvlK+EvrhvrYT0+xXik+LYSDZ1WTIBDXF2AJVJaWzU\r\n// SIG // xjY6WjDQwMpzieaU9iMeEmBRAAjB3to/SITtta/U05o4\r\n// SIG // lam6o1i1eGhGvw+MY3G+OkNDWRDwSrp71uUGE90CAwEA\r\n// SIG // AaOCAQkwggEFMB0GA1UdDgQWBBRtz/O4hK73zHa9uHus\r\n// SIG // PZdhgXQrJzAfBgNVHSMEGDAWgBQjNPjZUkZwCu1A+3b7\r\n// SIG // syuwwzWzDzBUBgNVHR8ETTBLMEmgR6BFhkNodHRwOi8v\r\n// SIG // Y3JsLm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0\r\n// SIG // cy9NaWNyb3NvZnRUaW1lU3RhbXBQQ0EuY3JsMFgGCCsG\r\n// SIG // AQUFBwEBBEwwSjBIBggrBgEFBQcwAoY8aHR0cDovL3d3\r\n// SIG // dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3Nv\r\n// SIG // ZnRUaW1lU3RhbXBQQ0EuY3J0MBMGA1UdJQQMMAoGCCsG\r\n// SIG // AQUFBwMIMA0GCSqGSIb3DQEBBQUAA4IBAQBeOir1Z/QF\r\n// SIG // MCre4bnvZ/wq/25yKZ+efMcTw6PljjwE6SYVTffCZ4Jc\r\n// SIG // ClvFCu5V8KMtjqIdorMsLdAR4poqAdEwJmehpm6JMRxu\r\n// SIG // 3cRxVPAJot3B1jZzwAz/VQhr/KGU/V0sJyHs0SMG3AQs\r\n// SIG // 77kC2wO7R3MYCut9mc1fBuCI94qTxRIRG/NSlaNyoNJY\r\n// SIG // 2cMs4mt/d9RjU+qCuC9HZCiYx4M78WsoYfgKiIJFUpLp\r\n// SIG // gyZJXLfOPJp/r6BRk8W8usvRK7W7kBkKpqdqfvj9FX5G\r\n// SIG // RIelBtT8SnA4xui1SvTbri/sQ8mJoijFVdnBuluqYLul\r\n// SIG // u/nVAo4OD23CNXDAqOwNobK4MIIE7DCCA9SgAwIBAgIT\r\n// SIG // MwAAAMps1TISNcThVQABAAAAyjANBgkqhkiG9w0BAQUF\r\n// SIG // ADB5MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu\r\n// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV\r\n// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSMwIQYDVQQDExpN\r\n// SIG // aWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQTAeFw0xNDA0\r\n// SIG // MjIxNzM5MDBaFw0xNTA3MjIxNzM5MDBaMIGDMQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMQ0wCwYDVQQLEwRNT1BSMR4wHAYD\r\n// SIG // VQQDExVNaWNyb3NvZnQgQ29ycG9yYXRpb24wggEiMA0G\r\n// SIG // CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCWcV3tBkb6\r\n// SIG // hMudW7dGx7DhtBE5A62xFXNgnOuntm4aPD//ZeM08aal\r\n// SIG // IV5WmWxY5JKhClzC09xSLwxlmiBhQFMxnGyPIX26+f4T\r\n// SIG // UFJglTpbuVildGFBqZTgrSZOTKGXcEknXnxnyk8ecYRG\r\n// SIG // vB1LtuIPxcYnyQfmegqlFwAZTHBFOC2BtFCqxWfR+nm8\r\n// SIG // xcyhcpv0JTSY+FTfEjk4Ei+ka6Wafsdi0dzP7T00+Lnf\r\n// SIG // NTC67HkyqeGprFVNTH9MVsMTC3bxB/nMR6z7iNVSpR4o\r\n// SIG // +j0tz8+EmIZxZRHPhckJRIbhb+ex/KxARKWpiyM/gkmd\r\n// SIG // 1ZZZUBNZGHP/QwytK9R/MEBnAgMBAAGjggFgMIIBXDAT\r\n// SIG // BgNVHSUEDDAKBggrBgEFBQcDAzAdBgNVHQ4EFgQUH17i\r\n// SIG // XVCNVoa+SjzPBOinh7XLv4MwUQYDVR0RBEowSKRGMEQx\r\n// SIG // DTALBgNVBAsTBE1PUFIxMzAxBgNVBAUTKjMxNTk1K2I0\r\n// SIG // MjE4ZjEzLTZmY2EtNDkwZi05YzQ3LTNmYzU1N2RmYzQ0\r\n// SIG // MDAfBgNVHSMEGDAWgBTLEejK0rQWWAHJNy4zFha5TJoK\r\n// SIG // HzBWBgNVHR8ETzBNMEugSaBHhkVodHRwOi8vY3JsLm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0cy9NaWND\r\n// SIG // b2RTaWdQQ0FfMDgtMzEtMjAxMC5jcmwwWgYIKwYBBQUH\r\n// SIG // AQEETjBMMEoGCCsGAQUFBzAChj5odHRwOi8vd3d3Lm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NlcnRzL01pY0NvZFNpZ1BD\r\n// SIG // QV8wOC0zMS0yMDEwLmNydDANBgkqhkiG9w0BAQUFAAOC\r\n// SIG // AQEAd1zr15E9zb17g9mFqbBDnXN8F8kP7Tbbx7UsG177\r\n// SIG // VAU6g3FAgQmit3EmXtZ9tmw7yapfXQMYKh0nfgfpxWUf\r\n// SIG // tc8Nt1THKDhaiOd7wRm2VjK64szLk9uvbg9dRPXUsO8b\r\n// SIG // 1U7Brw7vIJvy4f4nXejF/2H2GdIoCiKd381wgp4Yctgj\r\n// SIG // zHosQ+7/6sDg5h2qnpczAFJvB7jTiGzepAY1p8JThmUR\r\n// SIG // dwmPNVm52IaoAP74MX0s9IwFncDB1XdybOlNWSaD8cKy\r\n// SIG // iFeTNQB8UCu8Wfz+HCk4gtPeUpdFKRhOlludul8bo/En\r\n// SIG // UOoHlehtNA04V9w3KDWVOjic1O1qhV0OIhFeezCCBbww\r\n// SIG // ggOkoAMCAQICCmEzJhoAAAAAADEwDQYJKoZIhvcNAQEF\r\n// SIG // BQAwXzETMBEGCgmSJomT8ixkARkWA2NvbTEZMBcGCgmS\r\n// SIG // JomT8ixkARkWCW1pY3Jvc29mdDEtMCsGA1UEAxMkTWlj\r\n// SIG // cm9zb2Z0IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5\r\n// SIG // MB4XDTEwMDgzMTIyMTkzMloXDTIwMDgzMTIyMjkzMlow\r\n// SIG // eTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEjMCEGA1UEAxMaTWlj\r\n// SIG // cm9zb2Z0IENvZGUgU2lnbmluZyBQQ0EwggEiMA0GCSqG\r\n// SIG // SIb3DQEBAQUAA4IBDwAwggEKAoIBAQCycllcGTBkvx2a\r\n// SIG // YCAgQpl2U2w+G9ZvzMvx6mv+lxYQ4N86dIMaty+gMuz/\r\n// SIG // 3sJCTiPVcgDbNVcKicquIEn08GisTUuNpb15S3GbRwfa\r\n// SIG // /SXfnXWIz6pzRH/XgdvzvfI2pMlcRdyvrT3gKGiXGqel\r\n// SIG // cnNW8ReU5P01lHKg1nZfHndFg4U4FtBzWwW6Z1KNpbJp\r\n// SIG // L9oZC/6SdCnidi9U3RQwWfjSjWL9y8lfRjFQuScT5EAw\r\n// SIG // z3IpECgixzdOPaAyPZDNoTgGhVxOVoIoKgUyt0vXT2Pn\r\n// SIG // 0i1i8UU956wIAPZGoZ7RW4wmU+h6qkryRs83PDietHdc\r\n// SIG // pReejcsRj1Y8wawJXwPTAgMBAAGjggFeMIIBWjAPBgNV\r\n// SIG // HRMBAf8EBTADAQH/MB0GA1UdDgQWBBTLEejK0rQWWAHJ\r\n// SIG // Ny4zFha5TJoKHzALBgNVHQ8EBAMCAYYwEgYJKwYBBAGC\r\n// SIG // NxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU/dExTtMm\r\n// SIG // ipXhmGA7qDFvpjy82C0wGQYJKwYBBAGCNxQCBAweCgBT\r\n// SIG // AHUAYgBDAEEwHwYDVR0jBBgwFoAUDqyCYEBWJ5flJRP8\r\n// SIG // KuEKU5VZ5KQwUAYDVR0fBEkwRzBFoEOgQYY/aHR0cDov\r\n// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj\r\n// SIG // dHMvbWljcm9zb2Z0cm9vdGNlcnQuY3JsMFQGCCsGAQUF\r\n// SIG // BwEBBEgwRjBEBggrBgEFBQcwAoY4aHR0cDovL3d3dy5t\r\n// SIG // aWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3NvZnRS\r\n// SIG // b290Q2VydC5jcnQwDQYJKoZIhvcNAQEFBQADggIBAFk5\r\n// SIG // Pn8mRq/rb0CxMrVq6w4vbqhJ9+tfde1MOy3XQ60L/svp\r\n// SIG // LTGjI8x8UJiAIV2sPS9MuqKoVpzjcLu4tPh5tUly9z7q\r\n// SIG // QX/K4QwXaculnCAt+gtQxFbNLeNK0rxw56gNogOlVuC4\r\n// SIG // iktX8pVCnPHz7+7jhh80PLhWmvBTI4UqpIIck+KUBx3y\r\n// SIG // 4k74jKHK6BOlkU7IG9KPcpUqcW2bGvgc8FPWZ8wi/1wd\r\n// SIG // zaKMvSeyeWNWRKJRzfnpo1hW3ZsCRUQvX/TartSCMm78\r\n// SIG // pJUT5Otp56miLL7IKxAOZY6Z2/Wi+hImCWU4lPF6H0q7\r\n// SIG // 0eFW6NB4lhhcyTUWX92THUmOLb6tNEQc7hAVGgBd3TVb\r\n// SIG // Ic6YxwnuhQ6MT20OE049fClInHLR82zKwexwo1eSV32U\r\n// SIG // jaAbSANa98+jZwp0pTbtLS8XyOZyNxL0b7E8Z4L5UrKN\r\n// SIG // MxZlHg6K3RDeZPRvzkbU0xfpecQEtNP7LN8fip6sCvsT\r\n// SIG // J0Ct5PnhqX9GuwdgR2VgQE6wQuxO7bN2edgKNAltHIAx\r\n// SIG // H+IOVN3lofvlRxCtZJj/UBYufL8FIXrilUEnacOTj5XJ\r\n// SIG // jdibIa4NXJzwoq6GaIMMai27dmsAHZat8hZ79haDJLmI\r\n// SIG // z2qoRzEvmtzjcT3XAH5iR9HOiMm4GPoOco3Boz2vAkBq\r\n// SIG // /2mbluIQqBC0N1AI1sM9MIIGBzCCA++gAwIBAgIKYRZo\r\n// SIG // NAAAAAAAHDANBgkqhkiG9w0BAQUFADBfMRMwEQYKCZIm\r\n// SIG // iZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJbWlj\r\n// SIG // cm9zb2Z0MS0wKwYDVQQDEyRNaWNyb3NvZnQgUm9vdCBD\r\n// SIG // ZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMDcwNDAzMTI1\r\n// SIG // MzA5WhcNMjEwNDAzMTMwMzA5WjB3MQswCQYDVQQGEwJV\r\n// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH\r\n// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv\r\n// SIG // cmF0aW9uMSEwHwYDVQQDExhNaWNyb3NvZnQgVGltZS1T\r\n// SIG // dGFtcCBQQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\r\n// SIG // ggEKAoIBAQCfoWyx39tIkip8ay4Z4b3i48WZUSNQrc7d\r\n// SIG // GE4kD+7Rp9FMrXQwIBHrB9VUlRVJlBtCkq6YXDAm2gBr\r\n// SIG // 6Hu97IkHD/cOBJjwicwfyzMkh53y9GccLPx754gd6udO\r\n// SIG // o6HBI1PKjfpFzwnQXq/QsEIEovmmbJNn1yjcRlOwhtDl\r\n// SIG // KEYuJ6yGT1VSDOQDLPtqkJAwbofzWTCd+n7Wl7PoIZd+\r\n// SIG // +NIT8wi3U21StEWQn0gASkdmEScpZqiX5NMGgUqi+YSn\r\n// SIG // EUcUCYKfhO1VeP4Bmh1QCIUAEDBG7bfeI0a7xC1Un68e\r\n// SIG // eEExd8yb3zuDk6FhArUdDbH895uyAc4iS1T/+QXDwiAL\r\n// SIG // AgMBAAGjggGrMIIBpzAPBgNVHRMBAf8EBTADAQH/MB0G\r\n// SIG // A1UdDgQWBBQjNPjZUkZwCu1A+3b7syuwwzWzDzALBgNV\r\n// SIG // HQ8EBAMCAYYwEAYJKwYBBAGCNxUBBAMCAQAwgZgGA1Ud\r\n// SIG // IwSBkDCBjYAUDqyCYEBWJ5flJRP8KuEKU5VZ5KShY6Rh\r\n// SIG // MF8xEzARBgoJkiaJk/IsZAEZFgNjb20xGTAXBgoJkiaJ\r\n// SIG // k/IsZAEZFgltaWNyb3NvZnQxLTArBgNVBAMTJE1pY3Jv\r\n// SIG // c29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eYIQ\r\n// SIG // ea0WoUqgpa1Mc1j0BxMuZTBQBgNVHR8ESTBHMEWgQ6BB\r\n// SIG // hj9odHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpL2Ny\r\n// SIG // bC9wcm9kdWN0cy9taWNyb3NvZnRyb290Y2VydC5jcmww\r\n// SIG // VAYIKwYBBQUHAQEESDBGMEQGCCsGAQUFBzAChjhodHRw\r\n// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL2NlcnRzL01p\r\n// SIG // Y3Jvc29mdFJvb3RDZXJ0LmNydDATBgNVHSUEDDAKBggr\r\n// SIG // BgEFBQcDCDANBgkqhkiG9w0BAQUFAAOCAgEAEJeKw1wD\r\n// SIG // RDbd6bStd9vOeVFNAbEudHFbbQwTq86+e4+4LtQSooxt\r\n// SIG // YrhXAstOIBNQmd16QOJXu69YmhzhHQGGrLt48ovQ7DsB\r\n// SIG // 7uK+jwoFyI1I4vBTFd1Pq5Lk541q1YDB5pTyBi+FA+mR\r\n// SIG // KiQicPv2/OR4mS4N9wficLwYTp2OawpylbihOZxnLcVR\r\n// SIG // DupiXD8WmIsgP+IHGjL5zDFKdjE9K3ILyOpwPf+FChPf\r\n// SIG // wgphjvDXuBfrTot/xTUrXqO/67x9C0J71FNyIe4wyrt4\r\n// SIG // ZVxbARcKFA7S2hSY9Ty5ZlizLS/n+YWGzFFW6J1wlGys\r\n// SIG // OUzU9nm/qhh6YinvopspNAZ3GmLJPR5tH4LwC8csu89D\r\n// SIG // s+X57H2146SodDW4TsVxIxImdgs8UoxxWkZDFLyzs7BN\r\n// SIG // Z8ifQv+AeSGAnhUwZuhCEl4ayJ4iIdBD6Svpu/RIzCzU\r\n// SIG // 2DKATCYqSCRfWupW76bemZ3KOm+9gSd0BhHudiG/m4LB\r\n// SIG // J1S2sWo9iaF2YbRuoROmv6pH8BJv/YoybLL+31HIjCPJ\r\n// SIG // Zr2dHYcSZAI9La9Zj7jkIeW1sMpjtHhUBdRBLlCslLCl\r\n// SIG // eKuzoJZ1GtmShxN1Ii8yqAhuoFuMJb+g74TKIdbrHk/J\r\n// SIG // mu5J4PcBZW+JC33Iacjmbuqnl84xKf8OxVtc2E0bodj6\r\n// SIG // L54/LlUWa8kTo/0xggSVMIIEkQIBATCBkDB5MQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMSMwIQYDVQQDExpNaWNyb3NvZnQg\r\n// SIG // Q29kZSBTaWduaW5nIFBDQQITMwAAAMps1TISNcThVQAB\r\n// SIG // AAAAyjAJBgUrDgMCGgUAoIGuMBkGCSqGSIb3DQEJAzEM\r\n// SIG // BgorBgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAMBgor\r\n// SIG // BgEEAYI3AgEVMCMGCSqGSIb3DQEJBDEWBBTJAN4MTvlU\r\n// SIG // E5STTULOtn2PrZ/SMDBOBgorBgEEAYI3AgEMMUAwPqAa\r\n// SIG // gBgAYQBwAHAAUgB1AG4AbgBlAHIALgBqAHOhIIAeaHR0\r\n// SIG // cDovL2V4cHJlc3Npb24vYXBwcnVubmVyLmpzMA0GCSqG\r\n// SIG // SIb3DQEBAQUABIIBAD8qEaYy69pfElrqeVr62TklgRub\r\n// SIG // 6qw9C/VitWA5DJLuYRrT+jM9Qr7dnwv3MSYnWdDvYjP7\r\n// SIG // /cF/wXFRlOrBj90D3BiW3OJAnhYK1rTCYJwxNclJ4J1E\r\n// SIG // LlvvzcsvUkkwX4vq8EtIrp4c4vh4SG2dYC7CZqDIwMbB\r\n// SIG // EuQslW+7cKhvEpmMQcZSbM2fdT15kMsQlpPYR4KAcx5w\r\n// SIG // 56kyvgE6JbB6B5Te9OIv5jt5VzyM/H0x0RyTnVsRBJWt\r\n// SIG // Q6EnA66BngI5IAPlAdZ70FHzFJCWjIMfUQVCt/74Kzdz\r\n// SIG // pwteZLjaew3V+XNvAxOVGjczEoWCkIqiRLrwSocYq/oX\r\n// SIG // KU9CqBGhggIoMIICJAYJKoZIhvcNAQkGMYICFTCCAhEC\r\n// SIG // AQEwgY4wdzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldh\r\n// SIG // c2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNV\r\n// SIG // BAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UE\r\n// SIG // AxMYTWljcm9zb2Z0IFRpbWUtU3RhbXAgUENBAhMzAAAA\r\n// SIG // cPQYvyMh/FCdAAAAAABwMAkGBSsOAwIaBQCgXTAYBgkq\r\n// SIG // hkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJ\r\n// SIG // BTEPFw0xNTA0MjMwMTUxNTFaMCMGCSqGSIb3DQEJBDEW\r\n// SIG // BBR854WChKbK6dTkMnMrXoNBL2XMBTANBgkqhkiG9w0B\r\n// SIG // AQUFAASCAQAhLvUItg9p9bjcquzCT76y5sZYRcoPXRYY\r\n// SIG // Sw7yFAYIDzDl78011V3tMXL5MDIRMaAOPFhcXydYV4n1\r\n// SIG // fTSTL8CYdm7jnlNoKUbarlXAc2I/jjYfJh4QYxn7btrH\r\n// SIG // 73l2xFSwmlnvtd7wUNS0SNXUwyL0lfl3kqxwEhgc/3ri\r\n// SIG // U6ATlBHpionlnjorlZ7cnXGSk4h6f1Pq0eXwUoyVMQb3\r\n// SIG // eS15QB1MvHTxWFTbrEQV3bCrmKwRaXu95OohQlt/HkAI\r\n// SIG // JGLpOGHZn6U/rNFyVyx2Dn/quact4pTnYcSUbaEjmuAT\r\n// SIG // kREsmFbdICSNFStXYPkkUzPsuZ6A+QZIT25MMEwYOcNb\r\n// SIG // End signature block\r\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/node_modules/vs-mda-remote/lib/BuildInfo.js":"/********************************************************\n*                                                       *\n*   Copyright (C) Microsoft. All rights reserved.       *\n*                                                       *\n********************************************************/\n\"use strict\";\n\nvar resources = require('./resources'),\n    util = require('./util');\n\nfunction BuildInfo(buildNumber, status, cordovaVersion, buildCommand, configuration, options, buildDir, serverDir) {\n    this.buildNumber = buildNumber;\n    this.status = status;\n    this.cordovaVersion = cordovaVersion;\n    this.buildCommand = buildCommand;\n    this.configuration = configuration;\n    this.options = options;\n    this.buildDir = buildDir;\n    this.serverDir = serverDir,\n    this.submissionTime = new Date();\n    this.changeList = null;\n};\n\nBuildInfo.prototype.updateStatus = function(status, messageId, messageArgs) {\n    this.status = status;\n    this.messageId = messageId;\n    if (arguments.length > 2) {\n        this.messageArgs = util.getOptionalArgsArrayFromFunctionCall(arguments, 2);\n    } \n    this.statusTime = new Date();\n};\n\nBuildInfo.prototype.localize = function(req) {\n    if (this.messageId) {\n        this.message = resources.getString(req, this.messageId, this.messageArgs);\n    } else {\n        this.message = resources.getString(req, 'Build-'+this.status);\n    }\n    return this;\n};\n\nmodule.exports.BuildInfo = BuildInfo;\nmodule.exports.createNewBuildInfoFromDataObject = function(buildInfoData) {\n    var bi = new BuildInfo();\n    Object.keys(buildInfoData).forEach(function(k) { bi[k] = buildInfoData[k]; });\n    return bi;\n};\n\nmodule.exports.UPLOADING = 'uploading';\nmodule.exports.UPLOADED = 'uploaded';\nmodule.exports.EXTRACTED = 'extracted';\nmodule.exports.INVALID = 'invalid';\nmodule.exports.BUILDING = 'building';\nmodule.exports.COMPLETE = 'complete';\nmodule.exports.EMULATED = 'emulated';\nmodule.exports.RUNNING = 'running';\nmodule.exports.INSTALLED = 'installed';\nmodule.exports.DOWNLOADED = 'downloaded';\nmodule.exports.DELETED = 'deleted';\nmodule.exports.ERROR = 'error';\n\r\n// SIG // Begin signature block\r\n// SIG // MIIaqwYJKoZIhvcNAQcCoIIanDCCGpgCAQExCzAJBgUr\r\n// SIG // DgMCGgUAMGcGCisGAQQBgjcCAQSgWTBXMDIGCisGAQQB\r\n// SIG // gjcCAR4wJAIBAQQQEODJBs441BGiowAQS9NQkAIBAAIB\r\n// SIG // AAIBAAIBAAIBADAhMAkGBSsOAwIaBQAEFEUa4/N1sI2j\r\n// SIG // ThCYZ3dVw8Oe054CoIIVgjCCBMMwggOroAMCAQICEzMA\r\n// SIG // AABxsy6Ka4KqH04AAAAAAHEwDQYJKoZIhvcNAQEFBQAw\r\n// SIG // dzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWlj\r\n// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBMB4XDTE1MDMyMDE3\r\n// SIG // MzIwM1oXDTE2MDYyMDE3MzIwM1owgbMxCzAJBgNVBAYT\r\n// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH\r\n// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y\r\n// SIG // cG9yYXRpb24xDTALBgNVBAsTBE1PUFIxJzAlBgNVBAsT\r\n// SIG // Hm5DaXBoZXIgRFNFIEVTTjpCOEVDLTMwQTQtNzE0NDEl\r\n// SIG // MCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAgU2Vy\r\n// SIG // dmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\r\n// SIG // ggEBAOqRvbKI/RRvITYoA2YzOmYI+1tLpKugKDRKQzII\r\n// SIG // wIblyT3VJbx7PmKH1n3vD3RTo/GRY4h0f+gkzQNQxfHK\r\n// SIG // ABZ7pTmwBhw8RH7568SygbwXI7r9ZTgZhX/KoCn99jrA\r\n// SIG // Cy9o9OA0Tn1vF8Bumar6f2El0SZw0nR932FzXM5UKjlR\r\n// SIG // AzMJ+FCteMeJCLbUhSo/19gfUerv/GhetcHnB2gyjS9y\r\n// SIG // Uf4DMUdRxdLrcgevIJX42mr4d2fkYJpwTKtFy34Ir+WB\r\n// SIG // 1FfPOswTdZ0mzaCiaVC8OoiU37BUON6JOc2GMqWQD36/\r\n// SIG // 7cyUJaZBhmEmx903flwN6BfKN3/oJLZOtPgbI+sCAwEA\r\n// SIG // AaOCAQkwggEFMB0GA1UdDgQWBBT4/SOHBZSAVs0zpUHC\r\n// SIG // bMwINsiyojAfBgNVHSMEGDAWgBQjNPjZUkZwCu1A+3b7\r\n// SIG // syuwwzWzDzBUBgNVHR8ETTBLMEmgR6BFhkNodHRwOi8v\r\n// SIG // Y3JsLm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0\r\n// SIG // cy9NaWNyb3NvZnRUaW1lU3RhbXBQQ0EuY3JsMFgGCCsG\r\n// SIG // AQUFBwEBBEwwSjBIBggrBgEFBQcwAoY8aHR0cDovL3d3\r\n// SIG // dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3Nv\r\n// SIG // ZnRUaW1lU3RhbXBQQ0EuY3J0MBMGA1UdJQQMMAoGCCsG\r\n// SIG // AQUFBwMIMA0GCSqGSIb3DQEBBQUAA4IBAQAtBLTKKQtZ\r\n// SIG // /C7qoK9MTmgE+JLtKcJmzGtwyYfovof8XfTdT6Uab3iX\r\n// SIG // rWsFOFFBcp055Bobw21x/HC208y2kFgEKD/WHu+DsxQY\r\n// SIG // DJUL96URE5jGhVZe7jO0DDe1gOr1EmjZLnuGCHI7FHvU\r\n// SIG // 2dAWT8AvCx8tyuUb0K7phLCPC11zuBaBQCNYLOphqv69\r\n// SIG // f9ONWnD8ec1mlmVjtQUSduIqOyvtgqya7CdBp5cOIxaf\r\n// SIG // QchObVMRQATMYJnamOwrrpf74H31uosA9CUXf2J6u1FX\r\n// SIG // wfDwzZwbYXOtlYwrdiKoq3A4tAEofWZCU96f9Ad8WjAO\r\n// SIG // ggNZ9oSGuRUlYrAL0s/x25ZFMIIE7DCCA9SgAwIBAgIT\r\n// SIG // MwAAAMps1TISNcThVQABAAAAyjANBgkqhkiG9w0BAQUF\r\n// SIG // ADB5MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu\r\n// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV\r\n// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSMwIQYDVQQDExpN\r\n// SIG // aWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQTAeFw0xNDA0\r\n// SIG // MjIxNzM5MDBaFw0xNTA3MjIxNzM5MDBaMIGDMQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMQ0wCwYDVQQLEwRNT1BSMR4wHAYD\r\n// SIG // VQQDExVNaWNyb3NvZnQgQ29ycG9yYXRpb24wggEiMA0G\r\n// SIG // CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCWcV3tBkb6\r\n// SIG // hMudW7dGx7DhtBE5A62xFXNgnOuntm4aPD//ZeM08aal\r\n// SIG // IV5WmWxY5JKhClzC09xSLwxlmiBhQFMxnGyPIX26+f4T\r\n// SIG // UFJglTpbuVildGFBqZTgrSZOTKGXcEknXnxnyk8ecYRG\r\n// SIG // vB1LtuIPxcYnyQfmegqlFwAZTHBFOC2BtFCqxWfR+nm8\r\n// SIG // xcyhcpv0JTSY+FTfEjk4Ei+ka6Wafsdi0dzP7T00+Lnf\r\n// SIG // NTC67HkyqeGprFVNTH9MVsMTC3bxB/nMR6z7iNVSpR4o\r\n// SIG // +j0tz8+EmIZxZRHPhckJRIbhb+ex/KxARKWpiyM/gkmd\r\n// SIG // 1ZZZUBNZGHP/QwytK9R/MEBnAgMBAAGjggFgMIIBXDAT\r\n// SIG // BgNVHSUEDDAKBggrBgEFBQcDAzAdBgNVHQ4EFgQUH17i\r\n// SIG // XVCNVoa+SjzPBOinh7XLv4MwUQYDVR0RBEowSKRGMEQx\r\n// SIG // DTALBgNVBAsTBE1PUFIxMzAxBgNVBAUTKjMxNTk1K2I0\r\n// SIG // MjE4ZjEzLTZmY2EtNDkwZi05YzQ3LTNmYzU1N2RmYzQ0\r\n// SIG // MDAfBgNVHSMEGDAWgBTLEejK0rQWWAHJNy4zFha5TJoK\r\n// SIG // HzBWBgNVHR8ETzBNMEugSaBHhkVodHRwOi8vY3JsLm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0cy9NaWND\r\n// SIG // b2RTaWdQQ0FfMDgtMzEtMjAxMC5jcmwwWgYIKwYBBQUH\r\n// SIG // AQEETjBMMEoGCCsGAQUFBzAChj5odHRwOi8vd3d3Lm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NlcnRzL01pY0NvZFNpZ1BD\r\n// SIG // QV8wOC0zMS0yMDEwLmNydDANBgkqhkiG9w0BAQUFAAOC\r\n// SIG // AQEAd1zr15E9zb17g9mFqbBDnXN8F8kP7Tbbx7UsG177\r\n// SIG // VAU6g3FAgQmit3EmXtZ9tmw7yapfXQMYKh0nfgfpxWUf\r\n// SIG // tc8Nt1THKDhaiOd7wRm2VjK64szLk9uvbg9dRPXUsO8b\r\n// SIG // 1U7Brw7vIJvy4f4nXejF/2H2GdIoCiKd381wgp4Yctgj\r\n// SIG // zHosQ+7/6sDg5h2qnpczAFJvB7jTiGzepAY1p8JThmUR\r\n// SIG // dwmPNVm52IaoAP74MX0s9IwFncDB1XdybOlNWSaD8cKy\r\n// SIG // iFeTNQB8UCu8Wfz+HCk4gtPeUpdFKRhOlludul8bo/En\r\n// SIG // UOoHlehtNA04V9w3KDWVOjic1O1qhV0OIhFeezCCBbww\r\n// SIG // ggOkoAMCAQICCmEzJhoAAAAAADEwDQYJKoZIhvcNAQEF\r\n// SIG // BQAwXzETMBEGCgmSJomT8ixkARkWA2NvbTEZMBcGCgmS\r\n// SIG // JomT8ixkARkWCW1pY3Jvc29mdDEtMCsGA1UEAxMkTWlj\r\n// SIG // cm9zb2Z0IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5\r\n// SIG // MB4XDTEwMDgzMTIyMTkzMloXDTIwMDgzMTIyMjkzMlow\r\n// SIG // eTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEjMCEGA1UEAxMaTWlj\r\n// SIG // cm9zb2Z0IENvZGUgU2lnbmluZyBQQ0EwggEiMA0GCSqG\r\n// SIG // SIb3DQEBAQUAA4IBDwAwggEKAoIBAQCycllcGTBkvx2a\r\n// SIG // YCAgQpl2U2w+G9ZvzMvx6mv+lxYQ4N86dIMaty+gMuz/\r\n// SIG // 3sJCTiPVcgDbNVcKicquIEn08GisTUuNpb15S3GbRwfa\r\n// SIG // /SXfnXWIz6pzRH/XgdvzvfI2pMlcRdyvrT3gKGiXGqel\r\n// SIG // cnNW8ReU5P01lHKg1nZfHndFg4U4FtBzWwW6Z1KNpbJp\r\n// SIG // L9oZC/6SdCnidi9U3RQwWfjSjWL9y8lfRjFQuScT5EAw\r\n// SIG // z3IpECgixzdOPaAyPZDNoTgGhVxOVoIoKgUyt0vXT2Pn\r\n// SIG // 0i1i8UU956wIAPZGoZ7RW4wmU+h6qkryRs83PDietHdc\r\n// SIG // pReejcsRj1Y8wawJXwPTAgMBAAGjggFeMIIBWjAPBgNV\r\n// SIG // HRMBAf8EBTADAQH/MB0GA1UdDgQWBBTLEejK0rQWWAHJ\r\n// SIG // Ny4zFha5TJoKHzALBgNVHQ8EBAMCAYYwEgYJKwYBBAGC\r\n// SIG // NxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU/dExTtMm\r\n// SIG // ipXhmGA7qDFvpjy82C0wGQYJKwYBBAGCNxQCBAweCgBT\r\n// SIG // AHUAYgBDAEEwHwYDVR0jBBgwFoAUDqyCYEBWJ5flJRP8\r\n// SIG // KuEKU5VZ5KQwUAYDVR0fBEkwRzBFoEOgQYY/aHR0cDov\r\n// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj\r\n// SIG // dHMvbWljcm9zb2Z0cm9vdGNlcnQuY3JsMFQGCCsGAQUF\r\n// SIG // BwEBBEgwRjBEBggrBgEFBQcwAoY4aHR0cDovL3d3dy5t\r\n// SIG // aWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3NvZnRS\r\n// SIG // b290Q2VydC5jcnQwDQYJKoZIhvcNAQEFBQADggIBAFk5\r\n// SIG // Pn8mRq/rb0CxMrVq6w4vbqhJ9+tfde1MOy3XQ60L/svp\r\n// SIG // LTGjI8x8UJiAIV2sPS9MuqKoVpzjcLu4tPh5tUly9z7q\r\n// SIG // QX/K4QwXaculnCAt+gtQxFbNLeNK0rxw56gNogOlVuC4\r\n// SIG // iktX8pVCnPHz7+7jhh80PLhWmvBTI4UqpIIck+KUBx3y\r\n// SIG // 4k74jKHK6BOlkU7IG9KPcpUqcW2bGvgc8FPWZ8wi/1wd\r\n// SIG // zaKMvSeyeWNWRKJRzfnpo1hW3ZsCRUQvX/TartSCMm78\r\n// SIG // pJUT5Otp56miLL7IKxAOZY6Z2/Wi+hImCWU4lPF6H0q7\r\n// SIG // 0eFW6NB4lhhcyTUWX92THUmOLb6tNEQc7hAVGgBd3TVb\r\n// SIG // Ic6YxwnuhQ6MT20OE049fClInHLR82zKwexwo1eSV32U\r\n// SIG // jaAbSANa98+jZwp0pTbtLS8XyOZyNxL0b7E8Z4L5UrKN\r\n// SIG // MxZlHg6K3RDeZPRvzkbU0xfpecQEtNP7LN8fip6sCvsT\r\n// SIG // J0Ct5PnhqX9GuwdgR2VgQE6wQuxO7bN2edgKNAltHIAx\r\n// SIG // H+IOVN3lofvlRxCtZJj/UBYufL8FIXrilUEnacOTj5XJ\r\n// SIG // jdibIa4NXJzwoq6GaIMMai27dmsAHZat8hZ79haDJLmI\r\n// SIG // z2qoRzEvmtzjcT3XAH5iR9HOiMm4GPoOco3Boz2vAkBq\r\n// SIG // /2mbluIQqBC0N1AI1sM9MIIGBzCCA++gAwIBAgIKYRZo\r\n// SIG // NAAAAAAAHDANBgkqhkiG9w0BAQUFADBfMRMwEQYKCZIm\r\n// SIG // iZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJbWlj\r\n// SIG // cm9zb2Z0MS0wKwYDVQQDEyRNaWNyb3NvZnQgUm9vdCBD\r\n// SIG // ZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMDcwNDAzMTI1\r\n// SIG // MzA5WhcNMjEwNDAzMTMwMzA5WjB3MQswCQYDVQQGEwJV\r\n// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH\r\n// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv\r\n// SIG // cmF0aW9uMSEwHwYDVQQDExhNaWNyb3NvZnQgVGltZS1T\r\n// SIG // dGFtcCBQQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\r\n// SIG // ggEKAoIBAQCfoWyx39tIkip8ay4Z4b3i48WZUSNQrc7d\r\n// SIG // GE4kD+7Rp9FMrXQwIBHrB9VUlRVJlBtCkq6YXDAm2gBr\r\n// SIG // 6Hu97IkHD/cOBJjwicwfyzMkh53y9GccLPx754gd6udO\r\n// SIG // o6HBI1PKjfpFzwnQXq/QsEIEovmmbJNn1yjcRlOwhtDl\r\n// SIG // KEYuJ6yGT1VSDOQDLPtqkJAwbofzWTCd+n7Wl7PoIZd+\r\n// SIG // +NIT8wi3U21StEWQn0gASkdmEScpZqiX5NMGgUqi+YSn\r\n// SIG // EUcUCYKfhO1VeP4Bmh1QCIUAEDBG7bfeI0a7xC1Un68e\r\n// SIG // eEExd8yb3zuDk6FhArUdDbH895uyAc4iS1T/+QXDwiAL\r\n// SIG // AgMBAAGjggGrMIIBpzAPBgNVHRMBAf8EBTADAQH/MB0G\r\n// SIG // A1UdDgQWBBQjNPjZUkZwCu1A+3b7syuwwzWzDzALBgNV\r\n// SIG // HQ8EBAMCAYYwEAYJKwYBBAGCNxUBBAMCAQAwgZgGA1Ud\r\n// SIG // IwSBkDCBjYAUDqyCYEBWJ5flJRP8KuEKU5VZ5KShY6Rh\r\n// SIG // MF8xEzARBgoJkiaJk/IsZAEZFgNjb20xGTAXBgoJkiaJ\r\n// SIG // k/IsZAEZFgltaWNyb3NvZnQxLTArBgNVBAMTJE1pY3Jv\r\n// SIG // c29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eYIQ\r\n// SIG // ea0WoUqgpa1Mc1j0BxMuZTBQBgNVHR8ESTBHMEWgQ6BB\r\n// SIG // hj9odHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpL2Ny\r\n// SIG // bC9wcm9kdWN0cy9taWNyb3NvZnRyb290Y2VydC5jcmww\r\n// SIG // VAYIKwYBBQUHAQEESDBGMEQGCCsGAQUFBzAChjhodHRw\r\n// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL2NlcnRzL01p\r\n// SIG // Y3Jvc29mdFJvb3RDZXJ0LmNydDATBgNVHSUEDDAKBggr\r\n// SIG // BgEFBQcDCDANBgkqhkiG9w0BAQUFAAOCAgEAEJeKw1wD\r\n// SIG // RDbd6bStd9vOeVFNAbEudHFbbQwTq86+e4+4LtQSooxt\r\n// SIG // YrhXAstOIBNQmd16QOJXu69YmhzhHQGGrLt48ovQ7DsB\r\n// SIG // 7uK+jwoFyI1I4vBTFd1Pq5Lk541q1YDB5pTyBi+FA+mR\r\n// SIG // KiQicPv2/OR4mS4N9wficLwYTp2OawpylbihOZxnLcVR\r\n// SIG // DupiXD8WmIsgP+IHGjL5zDFKdjE9K3ILyOpwPf+FChPf\r\n// SIG // wgphjvDXuBfrTot/xTUrXqO/67x9C0J71FNyIe4wyrt4\r\n// SIG // ZVxbARcKFA7S2hSY9Ty5ZlizLS/n+YWGzFFW6J1wlGys\r\n// SIG // OUzU9nm/qhh6YinvopspNAZ3GmLJPR5tH4LwC8csu89D\r\n// SIG // s+X57H2146SodDW4TsVxIxImdgs8UoxxWkZDFLyzs7BN\r\n// SIG // Z8ifQv+AeSGAnhUwZuhCEl4ayJ4iIdBD6Svpu/RIzCzU\r\n// SIG // 2DKATCYqSCRfWupW76bemZ3KOm+9gSd0BhHudiG/m4LB\r\n// SIG // J1S2sWo9iaF2YbRuoROmv6pH8BJv/YoybLL+31HIjCPJ\r\n// SIG // Zr2dHYcSZAI9La9Zj7jkIeW1sMpjtHhUBdRBLlCslLCl\r\n// SIG // eKuzoJZ1GtmShxN1Ii8yqAhuoFuMJb+g74TKIdbrHk/J\r\n// SIG // mu5J4PcBZW+JC33Iacjmbuqnl84xKf8OxVtc2E0bodj6\r\n// SIG // L54/LlUWa8kTo/0xggSVMIIEkQIBATCBkDB5MQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMSMwIQYDVQQDExpNaWNyb3NvZnQg\r\n// SIG // Q29kZSBTaWduaW5nIFBDQQITMwAAAMps1TISNcThVQAB\r\n// SIG // AAAAyjAJBgUrDgMCGgUAoIGuMBkGCSqGSIb3DQEJAzEM\r\n// SIG // BgorBgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAMBgor\r\n// SIG // BgEEAYI3AgEVMCMGCSqGSIb3DQEJBDEWBBSNCl/+vReM\r\n// SIG // vGbebznVyszIS+Q/BjBOBgorBgEEAYI3AgEMMUAwPqAa\r\n// SIG // gBgAQgB1AGkAbABkAEkAbgBmAG8ALgBqAHOhIIAeaHR0\r\n// SIG // cDovL2V4cHJlc3Npb24vYnVpbGRpbmZvLmpzMA0GCSqG\r\n// SIG // SIb3DQEBAQUABIIBAISGUrsEAPLB5Bi1Pc4tslLIWomy\r\n// SIG // N/99ugwwinuvZQxlJvrEGHG8ze9h7tVao8y3FcZUX86I\r\n// SIG // CyOUXJRbGFO+jkpvDh0wcmcM2J+4vDfwIpH2QEuA7ue5\r\n// SIG // xIu2VTbY59vaoMx+wN0HdbMtgxKvxwSOfPBXspnbyPTs\r\n// SIG // eYieVR5F2VQ6CliSuMJCdRcIgo3U+wsIBZ2zW4mZ63Hs\r\n// SIG // g1TjVEPO/ospulERMf9reXlYAuDWjJRIr7Jv2Q8KMYrx\r\n// SIG // /KImhGqLgc7Zh5z5/DoMw9mYfJQbojZjHW6hGEKDOOg3\r\n// SIG // jrnLe6KgvCEyGmc5/+hh1TH4cMw9j5RFm5tHk4CQYzQM\r\n// SIG // 5ziJMvWhggIoMIICJAYJKoZIhvcNAQkGMYICFTCCAhEC\r\n// SIG // AQEwgY4wdzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldh\r\n// SIG // c2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNV\r\n// SIG // BAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UE\r\n// SIG // AxMYTWljcm9zb2Z0IFRpbWUtU3RhbXAgUENBAhMzAAAA\r\n// SIG // cbMuimuCqh9OAAAAAABxMAkGBSsOAwIaBQCgXTAYBgkq\r\n// SIG // hkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJ\r\n// SIG // BTEPFw0xNTA0MjMwMTUzMzdaMCMGCSqGSIb3DQEJBDEW\r\n// SIG // BBTgizJKMjsVWUE0/1ZG1nYfzYa1HTANBgkqhkiG9w0B\r\n// SIG // AQUFAASCAQDWFxrlsmtligNDT1WCO+4uT+Jkm7nscbXJ\r\n// SIG // 3BCcEZHugMFDUQA/5sfHJ5SaHuJlF+o/5W9iMPpmsaI+\r\n// SIG // n/gI0pIWBsKc5XATvxLijs7Q7JQ7EOBw4qpJY4jzWz+1\r\n// SIG // QcmYBZrrpBWwI9ULWKeTCfEKm9qU1m8c/SRVDiV82WMO\r\n// SIG // tGIZfnw8H/gDS0V7+FnLqV1ztTY0iK73fqkysws+a5BQ\r\n// SIG // hgjVB4xYnGirl1sWGOIYjGm2fKGvvXyp15uQNj/DbDxl\r\n// SIG // Ql+McSekaBqzd1cEvLbWl4YZ8A8dcddWKYFN7se4waN4\r\n// SIG // SMgrxnTwgfGgGRSiVGOQl8pVBOMfIxDl4JmR5ntNxvYu\r\n// SIG // End signature block\r\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/node_modules/vs-mda-remote/lib/resources.js":"/********************************************************\r\n*                                                       *\r\n*   Copyright (C) Microsoft. All rights reserved.       *\r\n*                                                       *\r\n********************************************************/\r\n\"use strict\";\r\n\r\nvar fs = require('fs'),\r\n    path = require('path'),\r\n    util = require('./util');\r\n\r\nvar res = exports = module.exports = {};\r\n\r\nvar resources = null;\r\nvar defaultLang = 'en';\r\n\r\nres.init = function(resourcesDir) {\r\n    if (!resourcesDir) {\r\n        resourcesDir = path.join(__dirname, '..', 'resources');\r\n    }\r\n    var supportedLanguages = fs.readdirSync(resourcesDir).filter(function(c) {\r\n        return fs.existsSync(path.join(resourcesDir, c, 'resources.json'));\r\n    });\r\n    resources = {};\r\n    supportedLanguages.forEach(function(l) {\r\n        resources[l.toLowerCase()] = loadLanguage(resourcesDir, l);\r\n    });\r\n};\r\n\r\n// Support acceptLangs as an array of strings like ['en-US', 'es'], \r\n// or a http request 'Accept-Language' format header like pl,fr-FR;q=0.3,en-US;q=0.1. For now we do not account for the quality (q) value\r\nres.getString = function(requestOrAcceptLangs, id, optionalArgs) {\r\n    if (resources === null) {\r\n        throw new Error('Resources have not been loaded');\r\n    }\r\n\r\n    var lang = res.getBestLanguageMatchOrDefault(requestOrAcceptLangs);\r\n    var s = resources[lang.toLowerCase()][id];\r\n    if (!s) {\r\n        return s;\r\n    }\r\n\r\n    var args = util.getOptionalArgsArrayFromFunctionCall(arguments, 2);\r\n    if (args !== null) {\r\n        for (var i=0; i < args.length; i++) {\r\n            s = s.replace('{'+i+'}', args[i]);\r\n        }\r\n    }\r\n    return s;\r\n};\r\n\r\nres.getResources = function(language) {\r\n    return resources[language.toLowerCase()];\r\n};\r\n\r\nres.getBestLanguageMatchOrDefault = function(requestOrAcceptLangs) {\r\n    var lang = bestLanguageMatch(requestOrAcceptLangs);\r\n    if (lang === null || !resources[lang.toLowerCase()]) {\r\n        lang = defaultLang;\r\n    }\r\n    return lang;\r\n};\r\n\r\nfunction bestLanguageMatch(requestOrAcceptLangs) {\r\n    if (!requestOrAcceptLangs || requestOrAcceptLangs === null) {\r\n        return null;\r\n    }\r\n    var acceptLangs = [];\r\n    if (Array.isArray(requestOrAcceptLangs) || typeof requestOrAcceptLangs === 'string') {\r\n        acceptLangs = requestOrAcceptLangs;\r\n    } else if (requestOrAcceptLangs.headers) {\r\n        acceptLangs = requestOrAcceptLangs.headers['accept-language'];\r\n    } else {\r\n        throw new Error('Unsupported type of argument for acceptLangs: ' + (typeof acceptLangs));\r\n    }\r\n    if (typeof acceptLangs === 'string') {\r\n        acceptLangs = acceptLangs.split(',').map(function(lang) {\r\n            return lang.split(';')[0];\r\n        });\r\n    }\r\n    if (!Array.isArray(acceptLangs) || acceptLangs.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    var supportedLanguages = Object.keys(resources);\r\n    var primaryLangMatch = null;\r\n    for (var i=0; i < acceptLangs.length; i++) {\r\n        var lang = acceptLangs[i].toLowerCase();\r\n        if (supportedLanguages.indexOf(lang) !== -1) {\r\n            // exact match on full language header, which could include the region (e.g. it-CH), return the match\r\n            return lang;\r\n        }\r\n        var primaryLang = lang.split('-')[0];\r\n        if (supportedLanguages.indexOf(primaryLang) !== -1) {\r\n            // match on primary language (e.g. it from it-CH). Continue the loop so we don't prevent a possible exact match.\r\n            primaryLangMatch = primaryLang;\r\n        }\r\n    }\r\n\r\n    return primaryLangMatch;\r\n}\r\n\r\nfunction loadLanguage(resourcesDir, language) {\r\n    var resourcesPath = path.join(resourcesDir, language, 'resources.json');\r\n    console.info('Loading resources for language %s from %s', language, resourcesPath);\r\n    return require(resourcesPath);\r\n}\r\n\r\n// SIG // Begin signature block\r\n// SIG // MIIaqwYJKoZIhvcNAQcCoIIanDCCGpgCAQExCzAJBgUr\r\n// SIG // DgMCGgUAMGcGCisGAQQBgjcCAQSgWTBXMDIGCisGAQQB\r\n// SIG // gjcCAR4wJAIBAQQQEODJBs441BGiowAQS9NQkAIBAAIB\r\n// SIG // AAIBAAIBAAIBADAhMAkGBSsOAwIaBQAEFDGa5DdB/Lbe\r\n// SIG // tJZ/g58uwMt03BPwoIIVgjCCBMMwggOroAMCAQICEzMA\r\n// SIG // AABxsy6Ka4KqH04AAAAAAHEwDQYJKoZIhvcNAQEFBQAw\r\n// SIG // dzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWlj\r\n// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBMB4XDTE1MDMyMDE3\r\n// SIG // MzIwM1oXDTE2MDYyMDE3MzIwM1owgbMxCzAJBgNVBAYT\r\n// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH\r\n// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y\r\n// SIG // cG9yYXRpb24xDTALBgNVBAsTBE1PUFIxJzAlBgNVBAsT\r\n// SIG // Hm5DaXBoZXIgRFNFIEVTTjpCOEVDLTMwQTQtNzE0NDEl\r\n// SIG // MCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAgU2Vy\r\n// SIG // dmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\r\n// SIG // ggEBAOqRvbKI/RRvITYoA2YzOmYI+1tLpKugKDRKQzII\r\n// SIG // wIblyT3VJbx7PmKH1n3vD3RTo/GRY4h0f+gkzQNQxfHK\r\n// SIG // ABZ7pTmwBhw8RH7568SygbwXI7r9ZTgZhX/KoCn99jrA\r\n// SIG // Cy9o9OA0Tn1vF8Bumar6f2El0SZw0nR932FzXM5UKjlR\r\n// SIG // AzMJ+FCteMeJCLbUhSo/19gfUerv/GhetcHnB2gyjS9y\r\n// SIG // Uf4DMUdRxdLrcgevIJX42mr4d2fkYJpwTKtFy34Ir+WB\r\n// SIG // 1FfPOswTdZ0mzaCiaVC8OoiU37BUON6JOc2GMqWQD36/\r\n// SIG // 7cyUJaZBhmEmx903flwN6BfKN3/oJLZOtPgbI+sCAwEA\r\n// SIG // AaOCAQkwggEFMB0GA1UdDgQWBBT4/SOHBZSAVs0zpUHC\r\n// SIG // bMwINsiyojAfBgNVHSMEGDAWgBQjNPjZUkZwCu1A+3b7\r\n// SIG // syuwwzWzDzBUBgNVHR8ETTBLMEmgR6BFhkNodHRwOi8v\r\n// SIG // Y3JsLm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0\r\n// SIG // cy9NaWNyb3NvZnRUaW1lU3RhbXBQQ0EuY3JsMFgGCCsG\r\n// SIG // AQUFBwEBBEwwSjBIBggrBgEFBQcwAoY8aHR0cDovL3d3\r\n// SIG // dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3Nv\r\n// SIG // ZnRUaW1lU3RhbXBQQ0EuY3J0MBMGA1UdJQQMMAoGCCsG\r\n// SIG // AQUFBwMIMA0GCSqGSIb3DQEBBQUAA4IBAQAtBLTKKQtZ\r\n// SIG // /C7qoK9MTmgE+JLtKcJmzGtwyYfovof8XfTdT6Uab3iX\r\n// SIG // rWsFOFFBcp055Bobw21x/HC208y2kFgEKD/WHu+DsxQY\r\n// SIG // DJUL96URE5jGhVZe7jO0DDe1gOr1EmjZLnuGCHI7FHvU\r\n// SIG // 2dAWT8AvCx8tyuUb0K7phLCPC11zuBaBQCNYLOphqv69\r\n// SIG // f9ONWnD8ec1mlmVjtQUSduIqOyvtgqya7CdBp5cOIxaf\r\n// SIG // QchObVMRQATMYJnamOwrrpf74H31uosA9CUXf2J6u1FX\r\n// SIG // wfDwzZwbYXOtlYwrdiKoq3A4tAEofWZCU96f9Ad8WjAO\r\n// SIG // ggNZ9oSGuRUlYrAL0s/x25ZFMIIE7DCCA9SgAwIBAgIT\r\n// SIG // MwAAAMps1TISNcThVQABAAAAyjANBgkqhkiG9w0BAQUF\r\n// SIG // ADB5MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu\r\n// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV\r\n// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSMwIQYDVQQDExpN\r\n// SIG // aWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQTAeFw0xNDA0\r\n// SIG // MjIxNzM5MDBaFw0xNTA3MjIxNzM5MDBaMIGDMQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMQ0wCwYDVQQLEwRNT1BSMR4wHAYD\r\n// SIG // VQQDExVNaWNyb3NvZnQgQ29ycG9yYXRpb24wggEiMA0G\r\n// SIG // CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCWcV3tBkb6\r\n// SIG // hMudW7dGx7DhtBE5A62xFXNgnOuntm4aPD//ZeM08aal\r\n// SIG // IV5WmWxY5JKhClzC09xSLwxlmiBhQFMxnGyPIX26+f4T\r\n// SIG // UFJglTpbuVildGFBqZTgrSZOTKGXcEknXnxnyk8ecYRG\r\n// SIG // vB1LtuIPxcYnyQfmegqlFwAZTHBFOC2BtFCqxWfR+nm8\r\n// SIG // xcyhcpv0JTSY+FTfEjk4Ei+ka6Wafsdi0dzP7T00+Lnf\r\n// SIG // NTC67HkyqeGprFVNTH9MVsMTC3bxB/nMR6z7iNVSpR4o\r\n// SIG // +j0tz8+EmIZxZRHPhckJRIbhb+ex/KxARKWpiyM/gkmd\r\n// SIG // 1ZZZUBNZGHP/QwytK9R/MEBnAgMBAAGjggFgMIIBXDAT\r\n// SIG // BgNVHSUEDDAKBggrBgEFBQcDAzAdBgNVHQ4EFgQUH17i\r\n// SIG // XVCNVoa+SjzPBOinh7XLv4MwUQYDVR0RBEowSKRGMEQx\r\n// SIG // DTALBgNVBAsTBE1PUFIxMzAxBgNVBAUTKjMxNTk1K2I0\r\n// SIG // MjE4ZjEzLTZmY2EtNDkwZi05YzQ3LTNmYzU1N2RmYzQ0\r\n// SIG // MDAfBgNVHSMEGDAWgBTLEejK0rQWWAHJNy4zFha5TJoK\r\n// SIG // HzBWBgNVHR8ETzBNMEugSaBHhkVodHRwOi8vY3JsLm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0cy9NaWND\r\n// SIG // b2RTaWdQQ0FfMDgtMzEtMjAxMC5jcmwwWgYIKwYBBQUH\r\n// SIG // AQEETjBMMEoGCCsGAQUFBzAChj5odHRwOi8vd3d3Lm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NlcnRzL01pY0NvZFNpZ1BD\r\n// SIG // QV8wOC0zMS0yMDEwLmNydDANBgkqhkiG9w0BAQUFAAOC\r\n// SIG // AQEAd1zr15E9zb17g9mFqbBDnXN8F8kP7Tbbx7UsG177\r\n// SIG // VAU6g3FAgQmit3EmXtZ9tmw7yapfXQMYKh0nfgfpxWUf\r\n// SIG // tc8Nt1THKDhaiOd7wRm2VjK64szLk9uvbg9dRPXUsO8b\r\n// SIG // 1U7Brw7vIJvy4f4nXejF/2H2GdIoCiKd381wgp4Yctgj\r\n// SIG // zHosQ+7/6sDg5h2qnpczAFJvB7jTiGzepAY1p8JThmUR\r\n// SIG // dwmPNVm52IaoAP74MX0s9IwFncDB1XdybOlNWSaD8cKy\r\n// SIG // iFeTNQB8UCu8Wfz+HCk4gtPeUpdFKRhOlludul8bo/En\r\n// SIG // UOoHlehtNA04V9w3KDWVOjic1O1qhV0OIhFeezCCBbww\r\n// SIG // ggOkoAMCAQICCmEzJhoAAAAAADEwDQYJKoZIhvcNAQEF\r\n// SIG // BQAwXzETMBEGCgmSJomT8ixkARkWA2NvbTEZMBcGCgmS\r\n// SIG // JomT8ixkARkWCW1pY3Jvc29mdDEtMCsGA1UEAxMkTWlj\r\n// SIG // cm9zb2Z0IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5\r\n// SIG // MB4XDTEwMDgzMTIyMTkzMloXDTIwMDgzMTIyMjkzMlow\r\n// SIG // eTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEjMCEGA1UEAxMaTWlj\r\n// SIG // cm9zb2Z0IENvZGUgU2lnbmluZyBQQ0EwggEiMA0GCSqG\r\n// SIG // SIb3DQEBAQUAA4IBDwAwggEKAoIBAQCycllcGTBkvx2a\r\n// SIG // YCAgQpl2U2w+G9ZvzMvx6mv+lxYQ4N86dIMaty+gMuz/\r\n// SIG // 3sJCTiPVcgDbNVcKicquIEn08GisTUuNpb15S3GbRwfa\r\n// SIG // /SXfnXWIz6pzRH/XgdvzvfI2pMlcRdyvrT3gKGiXGqel\r\n// SIG // cnNW8ReU5P01lHKg1nZfHndFg4U4FtBzWwW6Z1KNpbJp\r\n// SIG // L9oZC/6SdCnidi9U3RQwWfjSjWL9y8lfRjFQuScT5EAw\r\n// SIG // z3IpECgixzdOPaAyPZDNoTgGhVxOVoIoKgUyt0vXT2Pn\r\n// SIG // 0i1i8UU956wIAPZGoZ7RW4wmU+h6qkryRs83PDietHdc\r\n// SIG // pReejcsRj1Y8wawJXwPTAgMBAAGjggFeMIIBWjAPBgNV\r\n// SIG // HRMBAf8EBTADAQH/MB0GA1UdDgQWBBTLEejK0rQWWAHJ\r\n// SIG // Ny4zFha5TJoKHzALBgNVHQ8EBAMCAYYwEgYJKwYBBAGC\r\n// SIG // NxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU/dExTtMm\r\n// SIG // ipXhmGA7qDFvpjy82C0wGQYJKwYBBAGCNxQCBAweCgBT\r\n// SIG // AHUAYgBDAEEwHwYDVR0jBBgwFoAUDqyCYEBWJ5flJRP8\r\n// SIG // KuEKU5VZ5KQwUAYDVR0fBEkwRzBFoEOgQYY/aHR0cDov\r\n// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj\r\n// SIG // dHMvbWljcm9zb2Z0cm9vdGNlcnQuY3JsMFQGCCsGAQUF\r\n// SIG // BwEBBEgwRjBEBggrBgEFBQcwAoY4aHR0cDovL3d3dy5t\r\n// SIG // aWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3NvZnRS\r\n// SIG // b290Q2VydC5jcnQwDQYJKoZIhvcNAQEFBQADggIBAFk5\r\n// SIG // Pn8mRq/rb0CxMrVq6w4vbqhJ9+tfde1MOy3XQ60L/svp\r\n// SIG // LTGjI8x8UJiAIV2sPS9MuqKoVpzjcLu4tPh5tUly9z7q\r\n// SIG // QX/K4QwXaculnCAt+gtQxFbNLeNK0rxw56gNogOlVuC4\r\n// SIG // iktX8pVCnPHz7+7jhh80PLhWmvBTI4UqpIIck+KUBx3y\r\n// SIG // 4k74jKHK6BOlkU7IG9KPcpUqcW2bGvgc8FPWZ8wi/1wd\r\n// SIG // zaKMvSeyeWNWRKJRzfnpo1hW3ZsCRUQvX/TartSCMm78\r\n// SIG // pJUT5Otp56miLL7IKxAOZY6Z2/Wi+hImCWU4lPF6H0q7\r\n// SIG // 0eFW6NB4lhhcyTUWX92THUmOLb6tNEQc7hAVGgBd3TVb\r\n// SIG // Ic6YxwnuhQ6MT20OE049fClInHLR82zKwexwo1eSV32U\r\n// SIG // jaAbSANa98+jZwp0pTbtLS8XyOZyNxL0b7E8Z4L5UrKN\r\n// SIG // MxZlHg6K3RDeZPRvzkbU0xfpecQEtNP7LN8fip6sCvsT\r\n// SIG // J0Ct5PnhqX9GuwdgR2VgQE6wQuxO7bN2edgKNAltHIAx\r\n// SIG // H+IOVN3lofvlRxCtZJj/UBYufL8FIXrilUEnacOTj5XJ\r\n// SIG // jdibIa4NXJzwoq6GaIMMai27dmsAHZat8hZ79haDJLmI\r\n// SIG // z2qoRzEvmtzjcT3XAH5iR9HOiMm4GPoOco3Boz2vAkBq\r\n// SIG // /2mbluIQqBC0N1AI1sM9MIIGBzCCA++gAwIBAgIKYRZo\r\n// SIG // NAAAAAAAHDANBgkqhkiG9w0BAQUFADBfMRMwEQYKCZIm\r\n// SIG // iZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJbWlj\r\n// SIG // cm9zb2Z0MS0wKwYDVQQDEyRNaWNyb3NvZnQgUm9vdCBD\r\n// SIG // ZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMDcwNDAzMTI1\r\n// SIG // MzA5WhcNMjEwNDAzMTMwMzA5WjB3MQswCQYDVQQGEwJV\r\n// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH\r\n// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv\r\n// SIG // cmF0aW9uMSEwHwYDVQQDExhNaWNyb3NvZnQgVGltZS1T\r\n// SIG // dGFtcCBQQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\r\n// SIG // ggEKAoIBAQCfoWyx39tIkip8ay4Z4b3i48WZUSNQrc7d\r\n// SIG // GE4kD+7Rp9FMrXQwIBHrB9VUlRVJlBtCkq6YXDAm2gBr\r\n// SIG // 6Hu97IkHD/cOBJjwicwfyzMkh53y9GccLPx754gd6udO\r\n// SIG // o6HBI1PKjfpFzwnQXq/QsEIEovmmbJNn1yjcRlOwhtDl\r\n// SIG // KEYuJ6yGT1VSDOQDLPtqkJAwbofzWTCd+n7Wl7PoIZd+\r\n// SIG // +NIT8wi3U21StEWQn0gASkdmEScpZqiX5NMGgUqi+YSn\r\n// SIG // EUcUCYKfhO1VeP4Bmh1QCIUAEDBG7bfeI0a7xC1Un68e\r\n// SIG // eEExd8yb3zuDk6FhArUdDbH895uyAc4iS1T/+QXDwiAL\r\n// SIG // AgMBAAGjggGrMIIBpzAPBgNVHRMBAf8EBTADAQH/MB0G\r\n// SIG // A1UdDgQWBBQjNPjZUkZwCu1A+3b7syuwwzWzDzALBgNV\r\n// SIG // HQ8EBAMCAYYwEAYJKwYBBAGCNxUBBAMCAQAwgZgGA1Ud\r\n// SIG // IwSBkDCBjYAUDqyCYEBWJ5flJRP8KuEKU5VZ5KShY6Rh\r\n// SIG // MF8xEzARBgoJkiaJk/IsZAEZFgNjb20xGTAXBgoJkiaJ\r\n// SIG // k/IsZAEZFgltaWNyb3NvZnQxLTArBgNVBAMTJE1pY3Jv\r\n// SIG // c29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eYIQ\r\n// SIG // ea0WoUqgpa1Mc1j0BxMuZTBQBgNVHR8ESTBHMEWgQ6BB\r\n// SIG // hj9odHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpL2Ny\r\n// SIG // bC9wcm9kdWN0cy9taWNyb3NvZnRyb290Y2VydC5jcmww\r\n// SIG // VAYIKwYBBQUHAQEESDBGMEQGCCsGAQUFBzAChjhodHRw\r\n// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL2NlcnRzL01p\r\n// SIG // Y3Jvc29mdFJvb3RDZXJ0LmNydDATBgNVHSUEDDAKBggr\r\n// SIG // BgEFBQcDCDANBgkqhkiG9w0BAQUFAAOCAgEAEJeKw1wD\r\n// SIG // RDbd6bStd9vOeVFNAbEudHFbbQwTq86+e4+4LtQSooxt\r\n// SIG // YrhXAstOIBNQmd16QOJXu69YmhzhHQGGrLt48ovQ7DsB\r\n// SIG // 7uK+jwoFyI1I4vBTFd1Pq5Lk541q1YDB5pTyBi+FA+mR\r\n// SIG // KiQicPv2/OR4mS4N9wficLwYTp2OawpylbihOZxnLcVR\r\n// SIG // DupiXD8WmIsgP+IHGjL5zDFKdjE9K3ILyOpwPf+FChPf\r\n// SIG // wgphjvDXuBfrTot/xTUrXqO/67x9C0J71FNyIe4wyrt4\r\n// SIG // ZVxbARcKFA7S2hSY9Ty5ZlizLS/n+YWGzFFW6J1wlGys\r\n// SIG // OUzU9nm/qhh6YinvopspNAZ3GmLJPR5tH4LwC8csu89D\r\n// SIG // s+X57H2146SodDW4TsVxIxImdgs8UoxxWkZDFLyzs7BN\r\n// SIG // Z8ifQv+AeSGAnhUwZuhCEl4ayJ4iIdBD6Svpu/RIzCzU\r\n// SIG // 2DKATCYqSCRfWupW76bemZ3KOm+9gSd0BhHudiG/m4LB\r\n// SIG // J1S2sWo9iaF2YbRuoROmv6pH8BJv/YoybLL+31HIjCPJ\r\n// SIG // Zr2dHYcSZAI9La9Zj7jkIeW1sMpjtHhUBdRBLlCslLCl\r\n// SIG // eKuzoJZ1GtmShxN1Ii8yqAhuoFuMJb+g74TKIdbrHk/J\r\n// SIG // mu5J4PcBZW+JC33Iacjmbuqnl84xKf8OxVtc2E0bodj6\r\n// SIG // L54/LlUWa8kTo/0xggSVMIIEkQIBATCBkDB5MQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMSMwIQYDVQQDExpNaWNyb3NvZnQg\r\n// SIG // Q29kZSBTaWduaW5nIFBDQQITMwAAAMps1TISNcThVQAB\r\n// SIG // AAAAyjAJBgUrDgMCGgUAoIGuMBkGCSqGSIb3DQEJAzEM\r\n// SIG // BgorBgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAMBgor\r\n// SIG // BgEEAYI3AgEVMCMGCSqGSIb3DQEJBDEWBBTWuWk0R2YF\r\n// SIG // iDmovCN1SesQcrC/aDBOBgorBgEEAYI3AgEMMUAwPqAa\r\n// SIG // gBgAcgBlAHMAbwB1AHIAYwBlAHMALgBqAHOhIIAeaHR0\r\n// SIG // cDovL2V4cHJlc3Npb24vcmVzb3VyY2VzLmpzMA0GCSqG\r\n// SIG // SIb3DQEBAQUABIIBACyQYhEjuMP5OjOEgLvp40zxabfm\r\n// SIG // XFZmeDWuWvd59CuOpwZeQe7xkxYBuVhocBiprXsG9Jix\r\n// SIG // C6vLQIa+2mVnvNnp3K6fAupkjRerDFqazUrWjpSE7PGJ\r\n// SIG // aUFkautCRGrr1ZzRaXVpFtXdsGC8CFuAxKWtK7H0UzDQ\r\n// SIG // Au1bfB9OWYUmZqZK9F4JAhVzZpRKRXGFF6wlyEA1IToO\r\n// SIG // gMwgQgu79dclu4kwEVWqnM5ScbPUMasMTRkzDnCHZC44\r\n// SIG // J14U9R/bB5XzhPZmTQFkvf8Vcy5+OCUicaE+I1FAhcEZ\r\n// SIG // O7D2jwhQnmibtW161fWY8wSWGXtm+eMP9sCJXSROBRE3\r\n// SIG // xyNOxhehggIoMIICJAYJKoZIhvcNAQkGMYICFTCCAhEC\r\n// SIG // AQEwgY4wdzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldh\r\n// SIG // c2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNV\r\n// SIG // BAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UE\r\n// SIG // AxMYTWljcm9zb2Z0IFRpbWUtU3RhbXAgUENBAhMzAAAA\r\n// SIG // cbMuimuCqh9OAAAAAABxMAkGBSsOAwIaBQCgXTAYBgkq\r\n// SIG // hkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJ\r\n// SIG // BTEPFw0xNTA0MjMwMjEwNTFaMCMGCSqGSIb3DQEJBDEW\r\n// SIG // BBSB+7x/8KRX2AmvBc+w/qhBSSwmqTANBgkqhkiG9w0B\r\n// SIG // AQUFAASCAQBzUmT2vxjWLQLNnMuaQkFvftg/XIAYQgXE\r\n// SIG // rTkMTM4zjV96e604LFFCetWw0BtRI61KEHf4QWpr9Ete\r\n// SIG // ROOpMVUCBKBREe8ZwCxm1ZJ249N/2fiT5rOhh4Ai6MR+\r\n// SIG // Cc2x0ejoRSVn9JcfnV4YjbS7H9DZWWxKm0VorZaHuUQv\r\n// SIG // kZP+mP9aDsjPdQcAq2VDL1LTfBsSntRWDYyyr04Rcctw\r\n// SIG // PkyRGwySE21IA0+R+JgXx4BVycHDO1QNwsHCcD8inaFU\r\n// SIG // ifaQfjGIhpcuCLEj7bN/fAztE6Lr5bKtTWQCytg4wCOZ\r\n// SIG // G+emHmIVQun6WUL6b+dWsLRmjY3sroLi0idU+cbcrwhw\r\n// SIG // End signature block\r\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/node_modules/vs-mda-remote/lib/util.js":"/********************************************************\r\n*                                                       *\r\n*   Copyright (C) Microsoft. All rights reserved.       *\r\n*                                                       *\r\n********************************************************/\r\n\"use strict\";\r\n\r\nvar fs = require('fs'),\r\n    path = require('path'),\r\n    mkdirp = require('mkdirp'),\r\n    rimraf = require('rimraf'),\r\n    ncp = require('ncp'),\r\n    semver = require('semver'),\r\n    exec = require('child_process').exec,\r\n    Q = require('q');\r\n\r\nvar util = exports = module.exports = {};\r\n\r\nvar CordovaCliSpecType = {\r\n    Error: -1,\r\n    Version: 0,\r\n    URI: 1\r\n}\r\n\r\nutil.createDirectoryIfNecessary = function (dir) {\r\n    if (!fs.existsSync(dir)) {\r\n        try {\r\n            mkdirp.sync(dir);\r\n            return true;\r\n        } catch (err) {\r\n            // if multiple msbuild processes are running on a first time solution build, another one might have created the basedir. check again.\r\n            if (!fs.existsSync(dir)) {\r\n                throw err;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nutil.readFileContentsSync = function (filename, encoding) {\r\n    var contents = fs.readFileSync(filename, (encoding || 'utf-8'));\r\n    if (contents) {\r\n        contents = contents.replace(/^\\uFEFF/, ''); //Windows is the BOM\r\n    }\r\n    return contents;\r\n};\r\n\r\nutil.writeFileContentsSync = function (filename, contents, encoding) {\r\n    fs.writeFileSync(filename, contents, encoding);\r\n};\r\n\r\nutil.copyFileSync = function (from, to, encoding) {\r\n    var contents = util.readFileContentsSync(from, encoding);\r\n    util.writeFileContentsSync(to, contents, encoding);\r\n};\r\n\r\n// Recursively copy 'source' to 'target'\r\nutil.copyRecursive = function (source, target) {\r\n    var deferred = Q.defer();\r\n    var options = {};\r\n    \r\n    ncp(source, target, options, function (error) {\r\n        if (error) {\r\n            deferred.reject(new Error(error));\r\n        } else {\r\n            deferred.resolve();\r\n        }\r\n    });\r\n    \r\n    return deferred.promise;\r\n};\r\n\r\nvar invalidAppNameChars = {\r\n    34: '\"',\r\n    36: '$',\r\n    38: '&',\r\n    39: '/',\r\n    60: '<',\r\n    92: '\\\\'\r\n};\r\n\r\nutil.isValidCordovaAppName = function (str) {\r\n    for (var i = 0, n = str.length; i < n; i++) {\r\n        var code = str.charCodeAt(i);\r\n        if (code < 32 || invalidAppNameChars[code]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\n\r\nutil.invalidAppNameCharacters = function () {\r\n    var x = [];\r\n    Object.keys(invalidAppNameChars).forEach(function (c) {\r\n        x.push(invalidAppNameChars[c]);\r\n    });\r\n    return x;\r\n};\r\n\r\nutil.getOptionalArgsArrayFromFunctionCall = function (functionArguments, startFrom) {\r\n    if (functionArguments.length <= startFrom) {\r\n        return null;\r\n    }\r\n    if (Array.isArray(functionArguments[startFrom])) {\r\n        return functionArguments[startFrom];\r\n    }\r\n    return Array.prototype.slice.apply(functionArguments, [startFrom]);\r\n};\r\n\r\nutil.quotesAroundIfNecessary = function quotesAroundIfNecessary(filename) {\r\n    return (filename.indexOf(' ') > -1) ? '\"' + filename + '\"' : filename;\r\n}\r\n\r\nutil.argToBool = function (input) {\r\n    if (typeof input === 'string') {\r\n        return input.toLowerCase() === 'true';\r\n    }\r\n    return !!input\r\n}\r\n\r\nutil.cleanFolderOnFailure = function (path) {\r\n    if (fs.existsSync(path)) {\r\n        rimraf(path, function (error) {\r\n            deferred.reject(error);\r\n        });\r\n    }\r\n}\r\n\r\nutil.CloneGitRepo = function (gitUrl, cloneTargetPath) {\r\n    var deferred = Q.defer();\r\n    \r\n    try {\r\n        console.log('Installing Cordova tools for project from {0}. This could take a few minutes...', gitUrl);\r\n        \r\n        // Clone the GIT repository to the target path\r\n        exec(\"git clone \" + gitUrl + \" \" + cloneTargetPath, {}, function (error, stdout, stderr) {\r\n            if (error) {\r\n                console.warn(stdout);\r\n                console.warn(stderr);\r\n                util.cleanFolderOnFailure(cloneTargetPath);\r\n                deferred.reject(new Error('GIT clone of ' + gitUrl + ' failed. Error: ' + error));\r\n            } else {\r\n                console.log('GIT clone of ' + gitUrl + ' completed.');\r\n                deferred.resolve(true);\r\n            }\r\n        });\r\n    } catch (error) {\r\n        console.log(error);\r\n        util.cleanFolderOnFailure(cloneTargetPath);\r\n        deferred.reject(new Error('GIT clone of ' + gitUrl + ' failed. Error: ' + error));\r\n    }\r\n    return deferred.promise;\r\n}\r\n\r\nutil.getCliSpecType = function (cliVersion) {\r\n    // The Cordova CLI specification in taco.json can either be a GIT url or an npm package version number\r\n    var gitUrlRegex = new RegExp(\"^http(s?)\\\\:\\/\\/.*|.*\\.git$\");\r\n    \r\n    if (semver.valid(cliVersion) !== null) {\r\n        return CordovaCliSpecType.Version;\r\n    }\r\n    \r\n    if ((gitUrlRegex.exec(cliVersion)) !== null) {\r\n        return CordovaCliSpecType.URI;\r\n    }\r\n    \r\n    return CordovaCliSpecType.Error;\r\n}\r\n\r\nutil.installCordovaFromNPM = function (cliVersion, cordovaCliTargetPath) {\r\n    var cordova;\r\n    var deferred = Q.defer();\r\n    try {\r\n        mkdirp.sync(cordovaCliTargetPath);\r\n        console.log('Installing Cordova tools {0} for project from NPM. This could take a few minutes...', 'cordova' + '@' + cliVersion);\r\n        \r\n        exec(\"npm install \" + \"cordova\" + \"@\" + cliVersion, { cwd: cordovaCliTargetPath }, function (error, stdout, stderr) {\r\n            if (error) {\r\n                console.warn(stdout);\r\n                console.warn(stderr);\r\n                util.cleanFolderOnFailure(cordovaCliTargetPath);\r\n                deferred.reject(new Error('npm install error: cordova' + '@' + cliVersion));\r\n            } else {\r\n                console.log('npm install of cordova@' + cliVersion + 'from npm completed.');\r\n                cordova = require(path.join(cordovaCliTargetPath, 'cordova'));\r\n                deferred.resolve(cordova);\r\n            }\r\n        });\r\n    } catch (err) {\r\n        console.log(err);\r\n        util.cleanFolderOnFailure(cordovaCliTargetPath);\r\n        deferred.reject(new Error('npm install error cordova@' + cliVersion));\r\n    }\r\n    return deferred.promise;\r\n}\r\n\r\nutil.lazyloadCordovaModule = function (cliVersion, serverDir) {\r\n    var cordova;\r\n    var cordovaCliTargetPath;\r\n    var npmCommand;\r\n    var deferred = Q.defer();\r\n    \r\n    var cordovaModulesPath = path.join(serverDir, 'node_modules', 'cordova');\r\n    switch (util.getCliSpecType(cliVersion)) {\r\n        case CordovaCliSpecType.Version:\r\n            {\r\n                npmCommand = \"npm install \" + \"cordova\" + \"@\" + cliVersion;\r\n                cordovaCliTargetPath = path.join(cordovaModulesPath, cliVersion, 'node_modules');\r\n                var statusFilePath = path.join(cordovaCliTargetPath, '..', 'Installing.tmp');\r\n                if (!fs.existsSync(path.join(cordovaCliTargetPath, 'cordova', 'package.json')) || fs.existsSync(statusFilePath)) {\r\n                    // Delete the target path if it already exists and create an empty folder\r\n                    if (fs.existsSync(cordovaCliTargetPath)) {\r\n                        rimraf.sync(cordovaCliTargetPath);\r\n                    }\r\n                    mkdirp.sync(cordovaCliTargetPath);\r\n                    fs.closeSync(fs.openSync(statusFilePath, 'w'));\r\n                    util.installCordovaFromNPM(cliVersion, cordovaCliTargetPath).then(function (cordova) {\r\n                        rimraf(statusFilePath, function (error) {\r\n                            if (error) {\r\n                                deferred.reject(error);\r\n                            }\r\n                        });\r\n                        deferred.resolve(cordova);\r\n                    }).catch(function (error) {\r\n                        deferred.reject(error);\r\n                    });\r\n                }\r\n                else {\r\n                    try {\r\n                        cordova = require(path.join(cordovaCliTargetPath, 'cordova'));\r\n                        deferred.resolve(cordova);\r\n                    }\r\n                    catch (e) {\r\n                        util.cleanFolderOnFailure(cordovaCliTargetPath);\r\n                        deferred.reject(new Error('ERROR: A module failed to load.'));\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n        case CordovaCliSpecType.URI:\r\n            {\r\n                var localRepoName = cliVersion;\r\n                var decodedURI = decodeURIComponent(cliVersion);\r\n                cordovaCliTargetPath = path.join(cordovaModulesPath, localRepoName, 'cordova');\r\n                var statusFilePath = path.resolve(cordovaCliTargetPath, '..', 'Installing.tmp');\r\n                \r\n                // If the repo is available locally and is not malformed, use it\r\n                // Else, clone the repository and install the module\r\n                if (fs.existsSync(cordovaCliTargetPath) && !fs.existsSync(statusFilePath)) {\r\n                    console.log('Cordova tools from GIT repository' + decodedURI + 'already installed');\r\n                    try {\r\n                        cordova = require(cordovaCliTargetPath);\r\n                        deferred.resolve(cordova);\r\n                    }\r\n                    catch (e) {\r\n                        util.cleanFolderOnFailure(cordovaCliTargetPath, deferred);\r\n                        deferred.reject(new Error('ERROR: A module failed to load.'));\r\n                    }\r\n                }\r\n                else {\r\n                    // Delete the target path if it already exists and create an empty folder\r\n                    if (fs.existsSync(cordovaCliTargetPath)) {\r\n                        rimraf.sync(cordovaCliTargetPath);\r\n                    }\r\n                    mkdirp.sync(cordovaCliTargetPath);\r\n                    fs.closeSync(fs.openSync(statusFilePath, 'w'));\r\n                    util.CloneGitRepo(decodedURI, cordovaCliTargetPath).then(function () {\r\n                        exec(\"npm install\", { cwd: cordovaCliTargetPath }, function (error, stdout, stderr) {\r\n                            if (error) {\r\n                                console.warn(stdout);\r\n                                console.warn(stderr);\r\n                                console.log(error);\r\n                                util.cleanFolderOnFailure(cordovaCliTargetPath);\r\n                                deferred.reject(new Error('npm install error: cordova' + '@' + decodedURI));\r\n                            } else {\r\n                                console.log(stdout);\r\n                                console.log('npm install of cordova from' + decodedURI + 'completed.');\r\n                                try {\r\n                                    rimraf(statusFilePath, function (error) {\r\n                                        if (error) {\r\n                                            deferred.reject(error);\r\n                                        }\r\n                                    });\r\n                                    cordova = require(path.join(cordovaCliTargetPath, 'cordova'));\r\n                                    deferred.resolve(cordova);\r\n                                }\r\n                                catch (e) {\r\n                                    util.cleanFolderOnFailure(cordovaCliTargetPath, deferred);\r\n                                    deferred.reject(new Error('ERROR: A module failed to load.'));\r\n                                }\r\n                            }\r\n                        });\r\n                    }).done();\r\n                }\r\n            }\r\n            break;\r\n        case CordovaCliSpecType.Error:\r\n        default:\r\n            {\r\n                deferred.reject(new Error('Unknown Cordova CLI version'));\r\n            }\r\n    }\r\n    return deferred.promise;\r\n}\r\n// SIG // Begin signature block\r\n// SIG // MIIanQYJKoZIhvcNAQcCoIIajjCCGooCAQExCzAJBgUr\r\n// SIG // DgMCGgUAMGcGCisGAQQBgjcCAQSgWTBXMDIGCisGAQQB\r\n// SIG // gjcCAR4wJAIBAQQQEODJBs441BGiowAQS9NQkAIBAAIB\r\n// SIG // AAIBAAIBAAIBADAhMAkGBSsOAwIaBQAEFEZeWonIj6F8\r\n// SIG // rtwohCnSmOBY8kanoIIVgjCCBMMwggOroAMCAQICEzMA\r\n// SIG // AABvZS1YbQcRRigAAAAAAG8wDQYJKoZIhvcNAQEFBQAw\r\n// SIG // dzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWlj\r\n// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBMB4XDTE1MDMyMDE3\r\n// SIG // MzIwMloXDTE2MDYyMDE3MzIwMlowgbMxCzAJBgNVBAYT\r\n// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH\r\n// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y\r\n// SIG // cG9yYXRpb24xDTALBgNVBAsTBE1PUFIxJzAlBgNVBAsT\r\n// SIG // Hm5DaXBoZXIgRFNFIEVTTjpDMEY0LTMwODYtREVGODEl\r\n// SIG // MCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAgU2Vy\r\n// SIG // dmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\r\n// SIG // ggEBAM/mbc3BKs2uqF7YlU8tA0NHczu4QtLQV5rd9lM2\r\n// SIG // d9WIRSRqyKvQZumLxaoPnvKDRrYqydg2xvSg/xFvZvBe\r\n// SIG // FBmysWf48V6UhqqOJa/4NRP9gi/HOF5TwHYcxdN5O7Bj\r\n// SIG // 60+TmgXwohdx3MYMltMABS5MbVizf7QsJHB7lmksbIp4\r\n// SIG // CW1JmY46PmaVj09/eBtge1fJUfRLbVHDNLf4OgrWEd/D\r\n// SIG // OqUeoDjc662q+EPEg5qNlzQDNAQa761UNqTUGiz9w27w\r\n// SIG // eOcp8blEwHG0L8QQiwz3NmJ5/QdXfeoFfEyfTjA/J1A4\r\n// SIG // Zga7Xag+xZDb3zx2Vq2VIDRTcu1pWW7wVB9A1TkCAwEA\r\n// SIG // AaOCAQkwggEFMB0GA1UdDgQWBBTypkkpeHxXcFJiz+2s\r\n// SIG // t3sgNEfc/TAfBgNVHSMEGDAWgBQjNPjZUkZwCu1A+3b7\r\n// SIG // syuwwzWzDzBUBgNVHR8ETTBLMEmgR6BFhkNodHRwOi8v\r\n// SIG // Y3JsLm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0\r\n// SIG // cy9NaWNyb3NvZnRUaW1lU3RhbXBQQ0EuY3JsMFgGCCsG\r\n// SIG // AQUFBwEBBEwwSjBIBggrBgEFBQcwAoY8aHR0cDovL3d3\r\n// SIG // dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3Nv\r\n// SIG // ZnRUaW1lU3RhbXBQQ0EuY3J0MBMGA1UdJQQMMAoGCCsG\r\n// SIG // AQUFBwMIMA0GCSqGSIb3DQEBBQUAA4IBAQCNs0y22OwN\r\n// SIG // h4YZXuQA55e41c9MCjy991XT9PCgr1VynCOXuYIqxxYK\r\n// SIG // xScTWdDaMCuIQrpSA+ZeySVoJyeNZKdt+beaaqs+rELQ\r\n// SIG // HiQmzFSv9pCBax6tQ58bexBXajI2MaJEaAGYWisStIkx\r\n// SIG // 9kwMrhU8tyQkXbv/fFNMhMQNzUZ3finKn7JGYoK0NMf1\r\n// SIG // EmlcrXnNMe7pR474/FPz5AKQUWvO+p3jhb9ZgFkQ1Wej\r\n// SIG // TKby5KC02ME6oWpIpojOcPapnN7zU5M9cHEA/77rfPz/\r\n// SIG // CGMPS1FZqxUZkHQe/7u9qjWbPZ7zEBTVevYf1uJ185J0\r\n// SIG // Da0W2RLPoZut0hLqADsjFQzPMIIE7DCCA9SgAwIBAgIT\r\n// SIG // MwAAAMps1TISNcThVQABAAAAyjANBgkqhkiG9w0BAQUF\r\n// SIG // ADB5MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu\r\n// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV\r\n// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSMwIQYDVQQDExpN\r\n// SIG // aWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQTAeFw0xNDA0\r\n// SIG // MjIxNzM5MDBaFw0xNTA3MjIxNzM5MDBaMIGDMQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMQ0wCwYDVQQLEwRNT1BSMR4wHAYD\r\n// SIG // VQQDExVNaWNyb3NvZnQgQ29ycG9yYXRpb24wggEiMA0G\r\n// SIG // CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCWcV3tBkb6\r\n// SIG // hMudW7dGx7DhtBE5A62xFXNgnOuntm4aPD//ZeM08aal\r\n// SIG // IV5WmWxY5JKhClzC09xSLwxlmiBhQFMxnGyPIX26+f4T\r\n// SIG // UFJglTpbuVildGFBqZTgrSZOTKGXcEknXnxnyk8ecYRG\r\n// SIG // vB1LtuIPxcYnyQfmegqlFwAZTHBFOC2BtFCqxWfR+nm8\r\n// SIG // xcyhcpv0JTSY+FTfEjk4Ei+ka6Wafsdi0dzP7T00+Lnf\r\n// SIG // NTC67HkyqeGprFVNTH9MVsMTC3bxB/nMR6z7iNVSpR4o\r\n// SIG // +j0tz8+EmIZxZRHPhckJRIbhb+ex/KxARKWpiyM/gkmd\r\n// SIG // 1ZZZUBNZGHP/QwytK9R/MEBnAgMBAAGjggFgMIIBXDAT\r\n// SIG // BgNVHSUEDDAKBggrBgEFBQcDAzAdBgNVHQ4EFgQUH17i\r\n// SIG // XVCNVoa+SjzPBOinh7XLv4MwUQYDVR0RBEowSKRGMEQx\r\n// SIG // DTALBgNVBAsTBE1PUFIxMzAxBgNVBAUTKjMxNTk1K2I0\r\n// SIG // MjE4ZjEzLTZmY2EtNDkwZi05YzQ3LTNmYzU1N2RmYzQ0\r\n// SIG // MDAfBgNVHSMEGDAWgBTLEejK0rQWWAHJNy4zFha5TJoK\r\n// SIG // HzBWBgNVHR8ETzBNMEugSaBHhkVodHRwOi8vY3JsLm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0cy9NaWND\r\n// SIG // b2RTaWdQQ0FfMDgtMzEtMjAxMC5jcmwwWgYIKwYBBQUH\r\n// SIG // AQEETjBMMEoGCCsGAQUFBzAChj5odHRwOi8vd3d3Lm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NlcnRzL01pY0NvZFNpZ1BD\r\n// SIG // QV8wOC0zMS0yMDEwLmNydDANBgkqhkiG9w0BAQUFAAOC\r\n// SIG // AQEAd1zr15E9zb17g9mFqbBDnXN8F8kP7Tbbx7UsG177\r\n// SIG // VAU6g3FAgQmit3EmXtZ9tmw7yapfXQMYKh0nfgfpxWUf\r\n// SIG // tc8Nt1THKDhaiOd7wRm2VjK64szLk9uvbg9dRPXUsO8b\r\n// SIG // 1U7Brw7vIJvy4f4nXejF/2H2GdIoCiKd381wgp4Yctgj\r\n// SIG // zHosQ+7/6sDg5h2qnpczAFJvB7jTiGzepAY1p8JThmUR\r\n// SIG // dwmPNVm52IaoAP74MX0s9IwFncDB1XdybOlNWSaD8cKy\r\n// SIG // iFeTNQB8UCu8Wfz+HCk4gtPeUpdFKRhOlludul8bo/En\r\n// SIG // UOoHlehtNA04V9w3KDWVOjic1O1qhV0OIhFeezCCBbww\r\n// SIG // ggOkoAMCAQICCmEzJhoAAAAAADEwDQYJKoZIhvcNAQEF\r\n// SIG // BQAwXzETMBEGCgmSJomT8ixkARkWA2NvbTEZMBcGCgmS\r\n// SIG // JomT8ixkARkWCW1pY3Jvc29mdDEtMCsGA1UEAxMkTWlj\r\n// SIG // cm9zb2Z0IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5\r\n// SIG // MB4XDTEwMDgzMTIyMTkzMloXDTIwMDgzMTIyMjkzMlow\r\n// SIG // eTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEjMCEGA1UEAxMaTWlj\r\n// SIG // cm9zb2Z0IENvZGUgU2lnbmluZyBQQ0EwggEiMA0GCSqG\r\n// SIG // SIb3DQEBAQUAA4IBDwAwggEKAoIBAQCycllcGTBkvx2a\r\n// SIG // YCAgQpl2U2w+G9ZvzMvx6mv+lxYQ4N86dIMaty+gMuz/\r\n// SIG // 3sJCTiPVcgDbNVcKicquIEn08GisTUuNpb15S3GbRwfa\r\n// SIG // /SXfnXWIz6pzRH/XgdvzvfI2pMlcRdyvrT3gKGiXGqel\r\n// SIG // cnNW8ReU5P01lHKg1nZfHndFg4U4FtBzWwW6Z1KNpbJp\r\n// SIG // L9oZC/6SdCnidi9U3RQwWfjSjWL9y8lfRjFQuScT5EAw\r\n// SIG // z3IpECgixzdOPaAyPZDNoTgGhVxOVoIoKgUyt0vXT2Pn\r\n// SIG // 0i1i8UU956wIAPZGoZ7RW4wmU+h6qkryRs83PDietHdc\r\n// SIG // pReejcsRj1Y8wawJXwPTAgMBAAGjggFeMIIBWjAPBgNV\r\n// SIG // HRMBAf8EBTADAQH/MB0GA1UdDgQWBBTLEejK0rQWWAHJ\r\n// SIG // Ny4zFha5TJoKHzALBgNVHQ8EBAMCAYYwEgYJKwYBBAGC\r\n// SIG // NxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU/dExTtMm\r\n// SIG // ipXhmGA7qDFvpjy82C0wGQYJKwYBBAGCNxQCBAweCgBT\r\n// SIG // AHUAYgBDAEEwHwYDVR0jBBgwFoAUDqyCYEBWJ5flJRP8\r\n// SIG // KuEKU5VZ5KQwUAYDVR0fBEkwRzBFoEOgQYY/aHR0cDov\r\n// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj\r\n// SIG // dHMvbWljcm9zb2Z0cm9vdGNlcnQuY3JsMFQGCCsGAQUF\r\n// SIG // BwEBBEgwRjBEBggrBgEFBQcwAoY4aHR0cDovL3d3dy5t\r\n// SIG // aWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3NvZnRS\r\n// SIG // b290Q2VydC5jcnQwDQYJKoZIhvcNAQEFBQADggIBAFk5\r\n// SIG // Pn8mRq/rb0CxMrVq6w4vbqhJ9+tfde1MOy3XQ60L/svp\r\n// SIG // LTGjI8x8UJiAIV2sPS9MuqKoVpzjcLu4tPh5tUly9z7q\r\n// SIG // QX/K4QwXaculnCAt+gtQxFbNLeNK0rxw56gNogOlVuC4\r\n// SIG // iktX8pVCnPHz7+7jhh80PLhWmvBTI4UqpIIck+KUBx3y\r\n// SIG // 4k74jKHK6BOlkU7IG9KPcpUqcW2bGvgc8FPWZ8wi/1wd\r\n// SIG // zaKMvSeyeWNWRKJRzfnpo1hW3ZsCRUQvX/TartSCMm78\r\n// SIG // pJUT5Otp56miLL7IKxAOZY6Z2/Wi+hImCWU4lPF6H0q7\r\n// SIG // 0eFW6NB4lhhcyTUWX92THUmOLb6tNEQc7hAVGgBd3TVb\r\n// SIG // Ic6YxwnuhQ6MT20OE049fClInHLR82zKwexwo1eSV32U\r\n// SIG // jaAbSANa98+jZwp0pTbtLS8XyOZyNxL0b7E8Z4L5UrKN\r\n// SIG // MxZlHg6K3RDeZPRvzkbU0xfpecQEtNP7LN8fip6sCvsT\r\n// SIG // J0Ct5PnhqX9GuwdgR2VgQE6wQuxO7bN2edgKNAltHIAx\r\n// SIG // H+IOVN3lofvlRxCtZJj/UBYufL8FIXrilUEnacOTj5XJ\r\n// SIG // jdibIa4NXJzwoq6GaIMMai27dmsAHZat8hZ79haDJLmI\r\n// SIG // z2qoRzEvmtzjcT3XAH5iR9HOiMm4GPoOco3Boz2vAkBq\r\n// SIG // /2mbluIQqBC0N1AI1sM9MIIGBzCCA++gAwIBAgIKYRZo\r\n// SIG // NAAAAAAAHDANBgkqhkiG9w0BAQUFADBfMRMwEQYKCZIm\r\n// SIG // iZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJbWlj\r\n// SIG // cm9zb2Z0MS0wKwYDVQQDEyRNaWNyb3NvZnQgUm9vdCBD\r\n// SIG // ZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMDcwNDAzMTI1\r\n// SIG // MzA5WhcNMjEwNDAzMTMwMzA5WjB3MQswCQYDVQQGEwJV\r\n// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH\r\n// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv\r\n// SIG // cmF0aW9uMSEwHwYDVQQDExhNaWNyb3NvZnQgVGltZS1T\r\n// SIG // dGFtcCBQQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\r\n// SIG // ggEKAoIBAQCfoWyx39tIkip8ay4Z4b3i48WZUSNQrc7d\r\n// SIG // GE4kD+7Rp9FMrXQwIBHrB9VUlRVJlBtCkq6YXDAm2gBr\r\n// SIG // 6Hu97IkHD/cOBJjwicwfyzMkh53y9GccLPx754gd6udO\r\n// SIG // o6HBI1PKjfpFzwnQXq/QsEIEovmmbJNn1yjcRlOwhtDl\r\n// SIG // KEYuJ6yGT1VSDOQDLPtqkJAwbofzWTCd+n7Wl7PoIZd+\r\n// SIG // +NIT8wi3U21StEWQn0gASkdmEScpZqiX5NMGgUqi+YSn\r\n// SIG // EUcUCYKfhO1VeP4Bmh1QCIUAEDBG7bfeI0a7xC1Un68e\r\n// SIG // eEExd8yb3zuDk6FhArUdDbH895uyAc4iS1T/+QXDwiAL\r\n// SIG // AgMBAAGjggGrMIIBpzAPBgNVHRMBAf8EBTADAQH/MB0G\r\n// SIG // A1UdDgQWBBQjNPjZUkZwCu1A+3b7syuwwzWzDzALBgNV\r\n// SIG // HQ8EBAMCAYYwEAYJKwYBBAGCNxUBBAMCAQAwgZgGA1Ud\r\n// SIG // IwSBkDCBjYAUDqyCYEBWJ5flJRP8KuEKU5VZ5KShY6Rh\r\n// SIG // MF8xEzARBgoJkiaJk/IsZAEZFgNjb20xGTAXBgoJkiaJ\r\n// SIG // k/IsZAEZFgltaWNyb3NvZnQxLTArBgNVBAMTJE1pY3Jv\r\n// SIG // c29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eYIQ\r\n// SIG // ea0WoUqgpa1Mc1j0BxMuZTBQBgNVHR8ESTBHMEWgQ6BB\r\n// SIG // hj9odHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpL2Ny\r\n// SIG // bC9wcm9kdWN0cy9taWNyb3NvZnRyb290Y2VydC5jcmww\r\n// SIG // VAYIKwYBBQUHAQEESDBGMEQGCCsGAQUFBzAChjhodHRw\r\n// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL2NlcnRzL01p\r\n// SIG // Y3Jvc29mdFJvb3RDZXJ0LmNydDATBgNVHSUEDDAKBggr\r\n// SIG // BgEFBQcDCDANBgkqhkiG9w0BAQUFAAOCAgEAEJeKw1wD\r\n// SIG // RDbd6bStd9vOeVFNAbEudHFbbQwTq86+e4+4LtQSooxt\r\n// SIG // YrhXAstOIBNQmd16QOJXu69YmhzhHQGGrLt48ovQ7DsB\r\n// SIG // 7uK+jwoFyI1I4vBTFd1Pq5Lk541q1YDB5pTyBi+FA+mR\r\n// SIG // KiQicPv2/OR4mS4N9wficLwYTp2OawpylbihOZxnLcVR\r\n// SIG // DupiXD8WmIsgP+IHGjL5zDFKdjE9K3ILyOpwPf+FChPf\r\n// SIG // wgphjvDXuBfrTot/xTUrXqO/67x9C0J71FNyIe4wyrt4\r\n// SIG // ZVxbARcKFA7S2hSY9Ty5ZlizLS/n+YWGzFFW6J1wlGys\r\n// SIG // OUzU9nm/qhh6YinvopspNAZ3GmLJPR5tH4LwC8csu89D\r\n// SIG // s+X57H2146SodDW4TsVxIxImdgs8UoxxWkZDFLyzs7BN\r\n// SIG // Z8ifQv+AeSGAnhUwZuhCEl4ayJ4iIdBD6Svpu/RIzCzU\r\n// SIG // 2DKATCYqSCRfWupW76bemZ3KOm+9gSd0BhHudiG/m4LB\r\n// SIG // J1S2sWo9iaF2YbRuoROmv6pH8BJv/YoybLL+31HIjCPJ\r\n// SIG // Zr2dHYcSZAI9La9Zj7jkIeW1sMpjtHhUBdRBLlCslLCl\r\n// SIG // eKuzoJZ1GtmShxN1Ii8yqAhuoFuMJb+g74TKIdbrHk/J\r\n// SIG // mu5J4PcBZW+JC33Iacjmbuqnl84xKf8OxVtc2E0bodj6\r\n// SIG // L54/LlUWa8kTo/0xggSHMIIEgwIBATCBkDB5MQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMSMwIQYDVQQDExpNaWNyb3NvZnQg\r\n// SIG // Q29kZSBTaWduaW5nIFBDQQITMwAAAMps1TISNcThVQAB\r\n// SIG // AAAAyjAJBgUrDgMCGgUAoIGgMBkGCSqGSIb3DQEJAzEM\r\n// SIG // BgorBgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAMBgor\r\n// SIG // BgEEAYI3AgEVMCMGCSqGSIb3DQEJBDEWBBTo7mIAGlFG\r\n// SIG // UNeheaA1J9qdGLVhBzBABgorBgEEAYI3AgEMMTIwMKAQ\r\n// SIG // gA4AdQB0AGkAbAAuAGoAc6EcgBpodHRwOi8vZXhwcmVz\r\n// SIG // c2lvbi91dGlsLmpzIDANBgkqhkiG9w0BAQEFAASCAQAP\r\n// SIG // 64VKFGGwonHCzpc1Q2hcPh6l9AonjDsVsfiVM/SKI6w1\r\n// SIG // JuRQ2N8w5m67BIGYj02Kvx29BYyzoUgVZHGBkMHcY6Qx\r\n// SIG // yTDicpyD2BhoTohAB3NUJ1szQp58vrqcdPU81EGJpcZZ\r\n// SIG // uLiQPOZ2KkrWXf5pkTi+5iJxyqfjbWwbdNkBfjFYfuZ9\r\n// SIG // upFr+33sLq3shiYqkIceVsY80S6DZpifxzpRWUW7xfTT\r\n// SIG // vRBqg9uHM56Czyp0et/fbe4yp9wzFnr4mwnfHcXs39sG\r\n// SIG // XHxmX6mEzsS4wkbujkqxXA6DtiAP8s/2mcYN32PsHIom\r\n// SIG // +MgHPOHNLmjadJzoFPh2A/+m3CtAMBRMoYICKDCCAiQG\r\n// SIG // CSqGSIb3DQEJBjGCAhUwggIRAgEBMIGOMHcxCzAJBgNV\r\n// SIG // BAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYD\r\n// SIG // VQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQg\r\n// SIG // Q29ycG9yYXRpb24xITAfBgNVBAMTGE1pY3Jvc29mdCBU\r\n// SIG // aW1lLVN0YW1wIFBDQQITMwAAAG9lLVhtBxFGKAAAAAAA\r\n// SIG // bzAJBgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqG\r\n// SIG // SIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTUwNDIzMDIx\r\n// SIG // MzUwWjAjBgkqhkiG9w0BCQQxFgQUZ6FYBxhwyBb0MlbM\r\n// SIG // xcvS8tSlBzQwDQYJKoZIhvcNAQEFBQAEggEAXYnYh8We\r\n// SIG // Nj8vZkc3Wii9OH2AtX5a8C/E+NO6LfLoD0C3nGuNvbNh\r\n// SIG // AufVuRVEvnrgZSAYOgoK7gucOaBO+yRWD78fz8NdNtiI\r\n// SIG // IGPlICjFZgqqzxsX1SpnwZFe1f9CKrFRoLi5xsePp/Zk\r\n// SIG // i6ZWSY+SjhnJK2XMqZoqrLgEUZ300fEie9WyR0ZWD+CY\r\n// SIG // sUdFKvvAo8B60bAC82yNhujYTcoMPtxnFFdBRhYddSYl\r\n// SIG // SNe+WvlSgqclam7ITiWoimhdiveQ++uTGP3mR4+PVO1T\r\n// SIG // VXwhzFuVDUxravCNwtYv/shnBf2BrRSMKiuRO9kIMkIY\r\n// SIG // ++7TRRd1jJ4gD+P7cOtSIrrYuw==\r\n// SIG // End signature block\r\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/node_modules/vs-mda-remote/lib/BuildLogger.js":"/********************************************************\n*                                                       *\n*   Copyright (C) Microsoft. All rights reserved.       *\n*                                                       *\n********************************************************/\n\"use strict\";\n\nvar fs = require('fs'),\n    path = require('path');\n\nvar BuildLogger = exports = module.exports = function BuildLogger() {\n    this.stream = null;\n};\n\nBuildLogger.prototype = {\n    begin: function(buildDir, logFileName, buildProcess) {\n        var pathToBuildLog = path.join(buildDir, logFileName);\n        this.stream = fs.createWriteStream(pathToBuildLog);\n        console.info('Opened build log file %s', pathToBuildLog);\n        this.stream.on('error', function(err) {\n            console.error('Error from writing to stream at %s: %s', pathToBuildLog, err);\n        });\n        var me = this;\n        buildProcess.stdout.on('data', function(data) {\n            me.log(data);\n        });\n        buildProcess.stderr.on('data', function(data) {\n            me.log(data);\n        });\n    },\n\n    end: function() {\n        if (this.stream !== null) {\n            this.stream.end();\n        }\n        this.stream = null;\n    },\n\n    log: function(message) {\n        this.stream.write(message);\n    }\n};\n\r\n// SIG // Begin signature block\r\n// SIG // MIIasQYJKoZIhvcNAQcCoIIaojCCGp4CAQExCzAJBgUr\r\n// SIG // DgMCGgUAMGcGCisGAQQBgjcCAQSgWTBXMDIGCisGAQQB\r\n// SIG // gjcCAR4wJAIBAQQQEODJBs441BGiowAQS9NQkAIBAAIB\r\n// SIG // AAIBAAIBAAIBADAhMAkGBSsOAwIaBQAEFLthkVjPHgg9\r\n// SIG // GH+r8+IMZkIGWsueoIIVgjCCBMMwggOroAMCAQICEzMA\r\n// SIG // AABxsy6Ka4KqH04AAAAAAHEwDQYJKoZIhvcNAQEFBQAw\r\n// SIG // dzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWlj\r\n// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBMB4XDTE1MDMyMDE3\r\n// SIG // MzIwM1oXDTE2MDYyMDE3MzIwM1owgbMxCzAJBgNVBAYT\r\n// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH\r\n// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y\r\n// SIG // cG9yYXRpb24xDTALBgNVBAsTBE1PUFIxJzAlBgNVBAsT\r\n// SIG // Hm5DaXBoZXIgRFNFIEVTTjpCOEVDLTMwQTQtNzE0NDEl\r\n// SIG // MCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAgU2Vy\r\n// SIG // dmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\r\n// SIG // ggEBAOqRvbKI/RRvITYoA2YzOmYI+1tLpKugKDRKQzII\r\n// SIG // wIblyT3VJbx7PmKH1n3vD3RTo/GRY4h0f+gkzQNQxfHK\r\n// SIG // ABZ7pTmwBhw8RH7568SygbwXI7r9ZTgZhX/KoCn99jrA\r\n// SIG // Cy9o9OA0Tn1vF8Bumar6f2El0SZw0nR932FzXM5UKjlR\r\n// SIG // AzMJ+FCteMeJCLbUhSo/19gfUerv/GhetcHnB2gyjS9y\r\n// SIG // Uf4DMUdRxdLrcgevIJX42mr4d2fkYJpwTKtFy34Ir+WB\r\n// SIG // 1FfPOswTdZ0mzaCiaVC8OoiU37BUON6JOc2GMqWQD36/\r\n// SIG // 7cyUJaZBhmEmx903flwN6BfKN3/oJLZOtPgbI+sCAwEA\r\n// SIG // AaOCAQkwggEFMB0GA1UdDgQWBBT4/SOHBZSAVs0zpUHC\r\n// SIG // bMwINsiyojAfBgNVHSMEGDAWgBQjNPjZUkZwCu1A+3b7\r\n// SIG // syuwwzWzDzBUBgNVHR8ETTBLMEmgR6BFhkNodHRwOi8v\r\n// SIG // Y3JsLm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0\r\n// SIG // cy9NaWNyb3NvZnRUaW1lU3RhbXBQQ0EuY3JsMFgGCCsG\r\n// SIG // AQUFBwEBBEwwSjBIBggrBgEFBQcwAoY8aHR0cDovL3d3\r\n// SIG // dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3Nv\r\n// SIG // ZnRUaW1lU3RhbXBQQ0EuY3J0MBMGA1UdJQQMMAoGCCsG\r\n// SIG // AQUFBwMIMA0GCSqGSIb3DQEBBQUAA4IBAQAtBLTKKQtZ\r\n// SIG // /C7qoK9MTmgE+JLtKcJmzGtwyYfovof8XfTdT6Uab3iX\r\n// SIG // rWsFOFFBcp055Bobw21x/HC208y2kFgEKD/WHu+DsxQY\r\n// SIG // DJUL96URE5jGhVZe7jO0DDe1gOr1EmjZLnuGCHI7FHvU\r\n// SIG // 2dAWT8AvCx8tyuUb0K7phLCPC11zuBaBQCNYLOphqv69\r\n// SIG // f9ONWnD8ec1mlmVjtQUSduIqOyvtgqya7CdBp5cOIxaf\r\n// SIG // QchObVMRQATMYJnamOwrrpf74H31uosA9CUXf2J6u1FX\r\n// SIG // wfDwzZwbYXOtlYwrdiKoq3A4tAEofWZCU96f9Ad8WjAO\r\n// SIG // ggNZ9oSGuRUlYrAL0s/x25ZFMIIE7DCCA9SgAwIBAgIT\r\n// SIG // MwAAAMps1TISNcThVQABAAAAyjANBgkqhkiG9w0BAQUF\r\n// SIG // ADB5MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu\r\n// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV\r\n// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSMwIQYDVQQDExpN\r\n// SIG // aWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQTAeFw0xNDA0\r\n// SIG // MjIxNzM5MDBaFw0xNTA3MjIxNzM5MDBaMIGDMQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMQ0wCwYDVQQLEwRNT1BSMR4wHAYD\r\n// SIG // VQQDExVNaWNyb3NvZnQgQ29ycG9yYXRpb24wggEiMA0G\r\n// SIG // CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCWcV3tBkb6\r\n// SIG // hMudW7dGx7DhtBE5A62xFXNgnOuntm4aPD//ZeM08aal\r\n// SIG // IV5WmWxY5JKhClzC09xSLwxlmiBhQFMxnGyPIX26+f4T\r\n// SIG // UFJglTpbuVildGFBqZTgrSZOTKGXcEknXnxnyk8ecYRG\r\n// SIG // vB1LtuIPxcYnyQfmegqlFwAZTHBFOC2BtFCqxWfR+nm8\r\n// SIG // xcyhcpv0JTSY+FTfEjk4Ei+ka6Wafsdi0dzP7T00+Lnf\r\n// SIG // NTC67HkyqeGprFVNTH9MVsMTC3bxB/nMR6z7iNVSpR4o\r\n// SIG // +j0tz8+EmIZxZRHPhckJRIbhb+ex/KxARKWpiyM/gkmd\r\n// SIG // 1ZZZUBNZGHP/QwytK9R/MEBnAgMBAAGjggFgMIIBXDAT\r\n// SIG // BgNVHSUEDDAKBggrBgEFBQcDAzAdBgNVHQ4EFgQUH17i\r\n// SIG // XVCNVoa+SjzPBOinh7XLv4MwUQYDVR0RBEowSKRGMEQx\r\n// SIG // DTALBgNVBAsTBE1PUFIxMzAxBgNVBAUTKjMxNTk1K2I0\r\n// SIG // MjE4ZjEzLTZmY2EtNDkwZi05YzQ3LTNmYzU1N2RmYzQ0\r\n// SIG // MDAfBgNVHSMEGDAWgBTLEejK0rQWWAHJNy4zFha5TJoK\r\n// SIG // HzBWBgNVHR8ETzBNMEugSaBHhkVodHRwOi8vY3JsLm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0cy9NaWND\r\n// SIG // b2RTaWdQQ0FfMDgtMzEtMjAxMC5jcmwwWgYIKwYBBQUH\r\n// SIG // AQEETjBMMEoGCCsGAQUFBzAChj5odHRwOi8vd3d3Lm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NlcnRzL01pY0NvZFNpZ1BD\r\n// SIG // QV8wOC0zMS0yMDEwLmNydDANBgkqhkiG9w0BAQUFAAOC\r\n// SIG // AQEAd1zr15E9zb17g9mFqbBDnXN8F8kP7Tbbx7UsG177\r\n// SIG // VAU6g3FAgQmit3EmXtZ9tmw7yapfXQMYKh0nfgfpxWUf\r\n// SIG // tc8Nt1THKDhaiOd7wRm2VjK64szLk9uvbg9dRPXUsO8b\r\n// SIG // 1U7Brw7vIJvy4f4nXejF/2H2GdIoCiKd381wgp4Yctgj\r\n// SIG // zHosQ+7/6sDg5h2qnpczAFJvB7jTiGzepAY1p8JThmUR\r\n// SIG // dwmPNVm52IaoAP74MX0s9IwFncDB1XdybOlNWSaD8cKy\r\n// SIG // iFeTNQB8UCu8Wfz+HCk4gtPeUpdFKRhOlludul8bo/En\r\n// SIG // UOoHlehtNA04V9w3KDWVOjic1O1qhV0OIhFeezCCBbww\r\n// SIG // ggOkoAMCAQICCmEzJhoAAAAAADEwDQYJKoZIhvcNAQEF\r\n// SIG // BQAwXzETMBEGCgmSJomT8ixkARkWA2NvbTEZMBcGCgmS\r\n// SIG // JomT8ixkARkWCW1pY3Jvc29mdDEtMCsGA1UEAxMkTWlj\r\n// SIG // cm9zb2Z0IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5\r\n// SIG // MB4XDTEwMDgzMTIyMTkzMloXDTIwMDgzMTIyMjkzMlow\r\n// SIG // eTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEjMCEGA1UEAxMaTWlj\r\n// SIG // cm9zb2Z0IENvZGUgU2lnbmluZyBQQ0EwggEiMA0GCSqG\r\n// SIG // SIb3DQEBAQUAA4IBDwAwggEKAoIBAQCycllcGTBkvx2a\r\n// SIG // YCAgQpl2U2w+G9ZvzMvx6mv+lxYQ4N86dIMaty+gMuz/\r\n// SIG // 3sJCTiPVcgDbNVcKicquIEn08GisTUuNpb15S3GbRwfa\r\n// SIG // /SXfnXWIz6pzRH/XgdvzvfI2pMlcRdyvrT3gKGiXGqel\r\n// SIG // cnNW8ReU5P01lHKg1nZfHndFg4U4FtBzWwW6Z1KNpbJp\r\n// SIG // L9oZC/6SdCnidi9U3RQwWfjSjWL9y8lfRjFQuScT5EAw\r\n// SIG // z3IpECgixzdOPaAyPZDNoTgGhVxOVoIoKgUyt0vXT2Pn\r\n// SIG // 0i1i8UU956wIAPZGoZ7RW4wmU+h6qkryRs83PDietHdc\r\n// SIG // pReejcsRj1Y8wawJXwPTAgMBAAGjggFeMIIBWjAPBgNV\r\n// SIG // HRMBAf8EBTADAQH/MB0GA1UdDgQWBBTLEejK0rQWWAHJ\r\n// SIG // Ny4zFha5TJoKHzALBgNVHQ8EBAMCAYYwEgYJKwYBBAGC\r\n// SIG // NxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU/dExTtMm\r\n// SIG // ipXhmGA7qDFvpjy82C0wGQYJKwYBBAGCNxQCBAweCgBT\r\n// SIG // AHUAYgBDAEEwHwYDVR0jBBgwFoAUDqyCYEBWJ5flJRP8\r\n// SIG // KuEKU5VZ5KQwUAYDVR0fBEkwRzBFoEOgQYY/aHR0cDov\r\n// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj\r\n// SIG // dHMvbWljcm9zb2Z0cm9vdGNlcnQuY3JsMFQGCCsGAQUF\r\n// SIG // BwEBBEgwRjBEBggrBgEFBQcwAoY4aHR0cDovL3d3dy5t\r\n// SIG // aWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3NvZnRS\r\n// SIG // b290Q2VydC5jcnQwDQYJKoZIhvcNAQEFBQADggIBAFk5\r\n// SIG // Pn8mRq/rb0CxMrVq6w4vbqhJ9+tfde1MOy3XQ60L/svp\r\n// SIG // LTGjI8x8UJiAIV2sPS9MuqKoVpzjcLu4tPh5tUly9z7q\r\n// SIG // QX/K4QwXaculnCAt+gtQxFbNLeNK0rxw56gNogOlVuC4\r\n// SIG // iktX8pVCnPHz7+7jhh80PLhWmvBTI4UqpIIck+KUBx3y\r\n// SIG // 4k74jKHK6BOlkU7IG9KPcpUqcW2bGvgc8FPWZ8wi/1wd\r\n// SIG // zaKMvSeyeWNWRKJRzfnpo1hW3ZsCRUQvX/TartSCMm78\r\n// SIG // pJUT5Otp56miLL7IKxAOZY6Z2/Wi+hImCWU4lPF6H0q7\r\n// SIG // 0eFW6NB4lhhcyTUWX92THUmOLb6tNEQc7hAVGgBd3TVb\r\n// SIG // Ic6YxwnuhQ6MT20OE049fClInHLR82zKwexwo1eSV32U\r\n// SIG // jaAbSANa98+jZwp0pTbtLS8XyOZyNxL0b7E8Z4L5UrKN\r\n// SIG // MxZlHg6K3RDeZPRvzkbU0xfpecQEtNP7LN8fip6sCvsT\r\n// SIG // J0Ct5PnhqX9GuwdgR2VgQE6wQuxO7bN2edgKNAltHIAx\r\n// SIG // H+IOVN3lofvlRxCtZJj/UBYufL8FIXrilUEnacOTj5XJ\r\n// SIG // jdibIa4NXJzwoq6GaIMMai27dmsAHZat8hZ79haDJLmI\r\n// SIG // z2qoRzEvmtzjcT3XAH5iR9HOiMm4GPoOco3Boz2vAkBq\r\n// SIG // /2mbluIQqBC0N1AI1sM9MIIGBzCCA++gAwIBAgIKYRZo\r\n// SIG // NAAAAAAAHDANBgkqhkiG9w0BAQUFADBfMRMwEQYKCZIm\r\n// SIG // iZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJbWlj\r\n// SIG // cm9zb2Z0MS0wKwYDVQQDEyRNaWNyb3NvZnQgUm9vdCBD\r\n// SIG // ZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMDcwNDAzMTI1\r\n// SIG // MzA5WhcNMjEwNDAzMTMwMzA5WjB3MQswCQYDVQQGEwJV\r\n// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH\r\n// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv\r\n// SIG // cmF0aW9uMSEwHwYDVQQDExhNaWNyb3NvZnQgVGltZS1T\r\n// SIG // dGFtcCBQQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\r\n// SIG // ggEKAoIBAQCfoWyx39tIkip8ay4Z4b3i48WZUSNQrc7d\r\n// SIG // GE4kD+7Rp9FMrXQwIBHrB9VUlRVJlBtCkq6YXDAm2gBr\r\n// SIG // 6Hu97IkHD/cOBJjwicwfyzMkh53y9GccLPx754gd6udO\r\n// SIG // o6HBI1PKjfpFzwnQXq/QsEIEovmmbJNn1yjcRlOwhtDl\r\n// SIG // KEYuJ6yGT1VSDOQDLPtqkJAwbofzWTCd+n7Wl7PoIZd+\r\n// SIG // +NIT8wi3U21StEWQn0gASkdmEScpZqiX5NMGgUqi+YSn\r\n// SIG // EUcUCYKfhO1VeP4Bmh1QCIUAEDBG7bfeI0a7xC1Un68e\r\n// SIG // eEExd8yb3zuDk6FhArUdDbH895uyAc4iS1T/+QXDwiAL\r\n// SIG // AgMBAAGjggGrMIIBpzAPBgNVHRMBAf8EBTADAQH/MB0G\r\n// SIG // A1UdDgQWBBQjNPjZUkZwCu1A+3b7syuwwzWzDzALBgNV\r\n// SIG // HQ8EBAMCAYYwEAYJKwYBBAGCNxUBBAMCAQAwgZgGA1Ud\r\n// SIG // IwSBkDCBjYAUDqyCYEBWJ5flJRP8KuEKU5VZ5KShY6Rh\r\n// SIG // MF8xEzARBgoJkiaJk/IsZAEZFgNjb20xGTAXBgoJkiaJ\r\n// SIG // k/IsZAEZFgltaWNyb3NvZnQxLTArBgNVBAMTJE1pY3Jv\r\n// SIG // c29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eYIQ\r\n// SIG // ea0WoUqgpa1Mc1j0BxMuZTBQBgNVHR8ESTBHMEWgQ6BB\r\n// SIG // hj9odHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpL2Ny\r\n// SIG // bC9wcm9kdWN0cy9taWNyb3NvZnRyb290Y2VydC5jcmww\r\n// SIG // VAYIKwYBBQUHAQEESDBGMEQGCCsGAQUFBzAChjhodHRw\r\n// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL2NlcnRzL01p\r\n// SIG // Y3Jvc29mdFJvb3RDZXJ0LmNydDATBgNVHSUEDDAKBggr\r\n// SIG // BgEFBQcDCDANBgkqhkiG9w0BAQUFAAOCAgEAEJeKw1wD\r\n// SIG // RDbd6bStd9vOeVFNAbEudHFbbQwTq86+e4+4LtQSooxt\r\n// SIG // YrhXAstOIBNQmd16QOJXu69YmhzhHQGGrLt48ovQ7DsB\r\n// SIG // 7uK+jwoFyI1I4vBTFd1Pq5Lk541q1YDB5pTyBi+FA+mR\r\n// SIG // KiQicPv2/OR4mS4N9wficLwYTp2OawpylbihOZxnLcVR\r\n// SIG // DupiXD8WmIsgP+IHGjL5zDFKdjE9K3ILyOpwPf+FChPf\r\n// SIG // wgphjvDXuBfrTot/xTUrXqO/67x9C0J71FNyIe4wyrt4\r\n// SIG // ZVxbARcKFA7S2hSY9Ty5ZlizLS/n+YWGzFFW6J1wlGys\r\n// SIG // OUzU9nm/qhh6YinvopspNAZ3GmLJPR5tH4LwC8csu89D\r\n// SIG // s+X57H2146SodDW4TsVxIxImdgs8UoxxWkZDFLyzs7BN\r\n// SIG // Z8ifQv+AeSGAnhUwZuhCEl4ayJ4iIdBD6Svpu/RIzCzU\r\n// SIG // 2DKATCYqSCRfWupW76bemZ3KOm+9gSd0BhHudiG/m4LB\r\n// SIG // J1S2sWo9iaF2YbRuoROmv6pH8BJv/YoybLL+31HIjCPJ\r\n// SIG // Zr2dHYcSZAI9La9Zj7jkIeW1sMpjtHhUBdRBLlCslLCl\r\n// SIG // eKuzoJZ1GtmShxN1Ii8yqAhuoFuMJb+g74TKIdbrHk/J\r\n// SIG // mu5J4PcBZW+JC33Iacjmbuqnl84xKf8OxVtc2E0bodj6\r\n// SIG // L54/LlUWa8kTo/0xggSbMIIElwIBATCBkDB5MQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMSMwIQYDVQQDExpNaWNyb3NvZnQg\r\n// SIG // Q29kZSBTaWduaW5nIFBDQQITMwAAAMps1TISNcThVQAB\r\n// SIG // AAAAyjAJBgUrDgMCGgUAoIG0MBkGCSqGSIb3DQEJAzEM\r\n// SIG // BgorBgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAMBgor\r\n// SIG // BgEEAYI3AgEVMCMGCSqGSIb3DQEJBDEWBBQFuUBGkhH8\r\n// SIG // svNNR7EoPU0jPMKiMjBUBgorBgEEAYI3AgEMMUYwRKAe\r\n// SIG // gBwAQgB1AGkAbABkAEwAbwBnAGcAZQByAC4AagBzoSKA\r\n// SIG // IGh0dHA6Ly9leHByZXNzaW9uL2J1aWxkbG9nZ2VyLmpz\r\n// SIG // MA0GCSqGSIb3DQEBAQUABIIBAEh3zBEQbLx+LMM727ur\r\n// SIG // qXL2Xfvs5H590OoMRkqa0D3DMBHfWM+qsWkJ5NIeNcFv\r\n// SIG // PpojzmGLlggzHzCCbfHd3COFqzY1tN8ZtbuwmWkj32Zw\r\n// SIG // mW/9BDdxnjv8V3zanWnCI0HSxBmMXTVpnRAKEEezlTmH\r\n// SIG // 1D2e/bQ8MbE511HBB1A26s4R8cITNABTzqMsgM8WlaUv\r\n// SIG // 9PINMdHeLRLOR5eBqYYPUUb/nlzw4Bm8O1eAuzSGNaWI\r\n// SIG // Ocax0Kx4dz2V2i5NnwtoIqdKQ5Efhev66Qgi8Yn25t9Y\r\n// SIG // rBpDeL4eXSmgE4BiqOsWc1Y2S1QPn17aj+efhCRbGZar\r\n// SIG // VGUvRJDosCY/5ZWhggIoMIICJAYJKoZIhvcNAQkGMYIC\r\n// SIG // FTCCAhECAQEwgY4wdzELMAkGA1UEBhMCVVMxEzARBgNV\r\n// SIG // BAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQx\r\n// SIG // HjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEh\r\n// SIG // MB8GA1UEAxMYTWljcm9zb2Z0IFRpbWUtU3RhbXAgUENB\r\n// SIG // AhMzAAAAcbMuimuCqh9OAAAAAABxMAkGBSsOAwIaBQCg\r\n// SIG // XTAYBgkqhkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqG\r\n// SIG // SIb3DQEJBTEPFw0xNTA0MjMwMTU0MjlaMCMGCSqGSIb3\r\n// SIG // DQEJBDEWBBRFYq5prrnN8egJpZA+UoSAXIo4ETANBgkq\r\n// SIG // hkiG9w0BAQUFAASCAQCvy+jNQzWuBhZ8Myp3oTRi0f3p\r\n// SIG // 0OfdurPJIJzA8Qm6iIz3oFUoPkl8sPiKUE+6UtcTB4fx\r\n// SIG // rpiSBC1k3oR9DtoGWdsBhm2NHyMKofRh7NCzY2c/SNRM\r\n// SIG // XIgsAgU+DWmJ4h9xjbRQAlNES6ldGYqksjvVfgcxULZG\r\n// SIG // ZJ75ZFZ+q3Dx7J7nHLY475K8p8ypPDbjGmcxEO3+xLBv\r\n// SIG // Fzp2tuRbqbZtqz3FzInTKVxREy6pIst3S9F9dZmQkNKD\r\n// SIG // NsF/QjklAF+qF7+MLlg42JgxWx6UEmI21XuI02bbtOGU\r\n// SIG // 94Hl3aKfFrIXDDOjM38NcttW762z3ljo8P5fBdNTXCfE\r\n// SIG // fKObTXIT\r\n// SIG // End signature block\r\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/node_modules/vs-mda-remote/lib/buildManager.js":"/********************************************************\r\n*                                                       *\r\n*   Copyright (C) Microsoft. All rights reserved.       *\r\n*                                                       *\r\n********************************************************/\r\n\"use strict\";\r\n\r\nvar path = require('path'),\r\n\tfs = require('fs'),\r\n\tfstream = require('fstream'),\r\n\ttar = require('tar'),\r\n\tzlib = require('zlib'),\r\n\tQ = require('q'),\r\n\tpacker = require('zip-stream'),\r\n\texec = require('child_process').exec,\r\n\tCordovaConfig = require('./CordovaConfig'),\r\n\tbi = require('./BuildInfo'),\r\n\tBuildLogger = require('./BuildLogger'),\r\n\tsemver = require('semver'),\r\n\trimraf = require('rimraf'),\r\n\tmkdirp = require('mkdirp'),\r\n\tbuildRetention = require('./buildRetention'),\r\n\tplist = require('./plist'),\r\n\tutil = require('./util'),\r\n\tres = require('./resources'),\r\n\tinstaller = require('./appInstaller'),\r\n\trunner = require('./appRunner');\r\n\r\nvar serverDir,\r\n    baseBuildDir,\r\n\tmaxBuildsInQueue,\r\n\tallowsEmulate,\r\n\tnextBuildNumber,\r\n\tdeleteBuildsOnShutdown,\r\n\tbuilds,\r\n\tcurrentBuild,\r\n\tqueuedBuilds,\r\n\tbuildMetrics,\r\n\tnativeDebugProxyPort,\r\n\twebDebugProxyDevicePort,\r\n\twebDebugProxyPortMin,\r\n\twebDebugProxyPortMax;\r\n\r\nvar mgr = exports = module.exports = {};\r\n\r\nmgr.init = function (conf) {\r\n    serverDir = conf.get('serverDir'),\r\n    baseBuildDir = path.resolve(process.cwd(), serverDir, 'builds');\r\n    util.createDirectoryIfNecessary(baseBuildDir);\r\n    maxBuildsInQueue = conf.get('maxBuildsInQueue');\r\n    deleteBuildsOnShutdown = util.argToBool(conf.get('deleteBuildsOnShutdown'));\r\n    allowsEmulate = util.argToBool(conf.get('allowsEmulate'));\r\n    nativeDebugProxyPort = conf.get('nativeDebugProxyPort');\r\n    webDebugProxyDevicePort = conf.get('webDebugProxyDevicePort');\r\n    webDebugProxyPortMin = conf.get('webDebugProxyRangeMin');\r\n    webDebugProxyPortMax = conf.get('webDebugProxyRangeMax');\r\n    if (allowsEmulate === true) {\r\n        require('./emulate').init();\r\n    }\r\n    buildRetention.init(baseBuildDir, conf);\r\n    // For now, using process startup pid as the initial build number is good enough to avoid collisions with prior server runs against \r\n    // the same base build dir, especially when build cleanup is used.\r\n    nextBuildNumber = process.pid;\r\n    builds = {};\r\n    buildMetrics = {\r\n        submitted: 0,\r\n        accepted: 0,\r\n        rejected: 0,\r\n        failed: 0,\r\n        succeeded: 0,\r\n        downloaded: 0\r\n    };\r\n    currentBuild = null;\r\n    queuedBuilds = [];\r\n    console.info('Initialized BuildManager with baseBuildDir %s; maxBuildsInQueue %d; ' +\r\n                 'deleteBuildsOnShutdown %s; allowsEmulate %s; nextBuildNumber %d',\r\n                 baseBuildDir, maxBuildsInQueue, deleteBuildsOnShutdown, allowsEmulate, nextBuildNumber);\r\n};\r\n\r\nmgr.shutdown = function () {\r\n    if (deleteBuildsOnShutdown === true) {\r\n        buildRetention.deleteAllSync(builds);\r\n    }\r\n    runner.shutdown();\r\n};\r\n\r\n// Submit new build from the http request, calls the callback when the build has been validated and queued up\r\nmgr.submitNewBuild = function (req, callback) {\r\n    console.info('New build request submitted:');\r\n    console.info(req.url);\r\n    console.info(req.headers);\r\n\r\n    buildMetrics.submitted++;\r\n\r\n    if (queuedBuilds.length === maxBuildsInQueue) {\r\n        // Ideally we would return a Http 503 Service Unavailable\r\n        callback('Build request rejected. The build queue is full. Limit is ' + maxBuildsInQueue + ' queued builds.');\r\n        return;\r\n    }\r\n\r\n    // For now these are part of the request query (after the ?) but might look to make these part of the path, or headers, as most are not really optional parameters\r\n    var cordovaVersion = req.query.vcordova || null;\r\n    var buildCommand = req.query.command || 'build';\r\n    var configuration = req.query.cfg || 'release';\r\n    var options = req.query.options || '';\r\n    var buildNumber = req.query.buildNumber || null;\r\n\r\n    console.info('New build request submitted for cordovaVersion: ' + cordovaVersion + '; buildCommand: ' + buildCommand + '; configuration: ' + configuration);\r\n    var requestErrors = validateBuildRequest(req.headers['accept-language'], cordovaVersion, buildCommand, configuration);\r\n    if (requestErrors.length > 0) {\r\n        callback(requestErrors);\r\n        buildMetrics.rejected++;\r\n        return;\r\n    }\r\n    buildMetrics.accepted++;\r\n\r\n    if (!buildNumber) {\r\n        buildNumber = ++nextBuildNumber;\r\n    }\r\n    var buildDir = path.join(baseBuildDir, '' + buildNumber);\r\n    if (!fs.existsSync(buildDir)) {\r\n        fs.mkdirSync(buildDir);\r\n    }\r\n    console.info('Build will be executed under: ' + buildDir);\r\n\r\n    var buildInfo = new bi.BuildInfo(buildNumber, bi.UPLOADING, cordovaVersion, buildCommand, configuration, options, buildDir, serverDir);\r\n    builds[buildNumber] = buildInfo;\r\n\r\n    saveUploadedTgzFile(buildInfo, req, function (err, result) {\r\n        if (err) {\r\n            callback(err);\r\n        } else {\r\n            callback(null, buildInfo);\r\n            beginBuild(buildInfo);\r\n        }\r\n    });\r\n};\r\n\r\n// Downloads the requested build.\r\nmgr.downloadBuild = function (id, res, callback) {\r\n    console.info('Transferring result of build ' + id + ' ...');\r\n    var buildInfo = builds[id];\r\n    if (buildInfo === null) {\r\n        var msg = 'Unknown build ' + id + ' in transfer request';\r\n        console.info(msg);\r\n        callback(msg);\r\n        return;\r\n    }\r\n    else if (buildInfo.status !== bi.COMPLETE && buildInfo.status !== bi.DOWNLOADED) {\r\n        var msg = 'Requested build is not available for transfer. Status: ' + buildInfo.status;\r\n        console.info(msg);\r\n        callback(msg, buildInfo);\r\n        return;\r\n    }\r\n    var platformOutputDir = path.join(buildInfo.appDir, 'platforms', 'ios', 'build', 'device');\r\n    var pathToPlistFile = path.join(platformOutputDir, buildInfo.appName + '.plist');\r\n    var pathToIpaFile = path.join(platformOutputDir, buildInfo.appName + '.ipa');\r\n    if (!fs.existsSync(pathToPlistFile) || !fs.existsSync(pathToIpaFile)) {\r\n        var msg = 'One or both of expected build outputs ' + pathToPlistFile + ' and ' + pathToIpaFile + ' are missing on file system.';\r\n        console.info(msg);\r\n        callback(msg, buildInfo);\r\n        return;\r\n    }\r\n\r\n    var archive = new packer();\r\n    archive.on('error', function (err) {\r\n        console.error('Error from archiving ' + err.message, err);\r\n        callback(err, buildInfo);\r\n    });\r\n    res.set({ 'Content-Type': 'application/zip' });\r\n    archive.pipe(res);\r\n    archive.entry(fs.createReadStream(pathToPlistFile), { name: buildInfo.appName + '.plist' }, function (err, file) {\r\n        if (err) {\r\n            console.error('Error from archiving plist file ' + err.message, err);\r\n            callback(err, buildInfo);\r\n            return;\r\n        }\r\n        archive.entry(fs.createReadStream(pathToIpaFile), { name: buildInfo.appName + '.ipa' }, function (err, file) {\r\n            if (err) {\r\n                console.error('Error from archiving ipa file ' + err.message, err);\r\n                callback(err, buildInfo);\r\n                return;\r\n            }\r\n            archive.finalize();\r\n            console.info('Trasnferred build ' + id);\r\n            buildInfo.updateStatus(bi.DOWNLOADED);\r\n            buildMetrics.downloaded++;\r\n            callback(null, buildInfo);\r\n        });\r\n    });\r\n};\r\n\r\nmgr.getBuildInfo = function (id) {\r\n    return builds[id] || null;\r\n};\r\n\r\nmgr.getDebugPort = function () {\r\n    return webDebugProxyDevicePort;\r\n}\r\n\r\nmgr.getAllBuildInfo = function () {\r\n    return {\r\n        metrics: buildMetrics,\r\n        queued: queuedBuilds.length,\r\n        currentBuild: currentBuild,\r\n        queuedBuilds: queuedBuilds,\r\n        allBuilds: builds\r\n    };\r\n};\r\n\r\nmgr.downloadBuildLog = function (id, res) {\r\n    var buildInfo = builds[id];\r\n    if (buildInfo === null) {\r\n        res.end();\r\n        return;\r\n    }\r\n    var buildLog = path.join(buildInfo.buildDir, 'build.log');\r\n    if (!fs.existsSync(buildLog)) {\r\n        res.end();\r\n        return;\r\n    }\r\n    var logStream = fs.createReadStream(buildLog);\r\n    logStream.on('error', function (err) {\r\n        console.info('Error from reading build log file ' + buildLog + ': ' + err);\r\n    });\r\n    logStream.pipe(res);\r\n};\r\n\r\nmgr.emulateBuild = function (id, target, callback) {\r\n    if (allowsEmulate === false) {\r\n        callback('Emulate is not enabled on this server.');\r\n        return;\r\n    }\r\n    console.info('Emulate build %s %s ...', id, target);\r\n    var buildInfo = builds[id];\r\n    if (buildInfo === null) {\r\n        var msg = 'Unknown build ' + id + ' in emulateBuild request';\r\n        console.info(msg);\r\n        callback(msg);\r\n        return;\r\n    }\r\n    var cfg = new CordovaConfig(path.join(buildInfo.appDir, 'config.xml'));\r\n    var cordovaAppDir = path.join(buildInfo.buildDir, 'cordovaApp');\r\n    if (!fs.existsSync(cordovaAppDir)) {\r\n        var msg = 'App does not exist in build directory ' + cordovaAppDir;\r\n        console.info(msg);\r\n        callback(msg);\r\n        return;\r\n    }\r\n    console.info('Emulating app under ' + cordovaAppDir);\r\n    var emulate = require('child_process').fork(path.join(__dirname, 'emulate.js'), [], { silent: true });\r\n    var emulateLogger = new BuildLogger();\r\n    emulateLogger.begin(buildInfo.buildDir, 'emulate.log', emulate);\r\n    emulate.send({ appDir: cordovaAppDir, appName: cfg.id(), target: target });\r\n    emulate.on('message', function (result) {\r\n        console.info('Result from emulate child process: ' + result.status + '; ' + result.messageId + '; ' + result.messageArgs);\r\n        buildInfo.updateStatus(result.status, result.messageId, result.messageArgs);\r\n        callback(null, buildInfo);\r\n        emulate.kill();\r\n        emulateLogger.end();\r\n        return;\r\n    });\r\n};\r\n\r\nmgr.installBuild = function (id, callback) {\r\n    console.info('Deploy build %s ...', id);\r\n    var buildInfo = builds[id];\r\n    if (buildInfo === null) {\r\n        var msg = 'Unknown build ' + id + ' in deploy request';\r\n        console.info(msg);\r\n        callback(msg);\r\n        return;\r\n    }\r\n    var pathToIpaFile = path.join(buildInfo.appDir, 'platforms', 'ios', 'build', 'device', buildInfo.appName + '.ipa');\r\n    installer.install(pathToIpaFile).then(function (success) {\r\n        buildInfo.updateStatus(bi.INSTALLED, 'InstallSuccess');\r\n        callback(null, buildInfo);\r\n    }, function (error) {\r\n        callback(error);\r\n    })\r\n}\r\n\r\nmgr.runBuild = function (id, callback) {\r\n    console.info('Run build %s ...', id);\r\n    var buildInfo = builds[id];\r\n    if (buildInfo === null) {\r\n        var msg = 'Unknown build ' + id + ' in runBuild request';\r\n        console.info(msg);\r\n        callback(msg);\r\n        return;\r\n    }\r\n\r\n    var cfg = new CordovaConfig(path.join(buildInfo.appDir, 'config.xml'));\r\n    var packageId = cfg.id()\r\n\r\n    runner.startDebugProxy(nativeDebugProxyPort).then(function (success) {\r\n        var proxy = success;\r\n        return runner.startApp(packageId, nativeDebugProxyPort);\r\n    }).then(function (success) {\r\n        var socket = success;\r\n        buildInfo.updateStatus(bi.RUNNING, 'RunSuccess');\r\n        callback(null, buildInfo);\r\n    }, function (failure) {\r\n        console.info(failure);\r\n        callback(failure);\r\n    })\r\n}\r\n\r\nmgr.debugBuild = function (id, callback) {\r\n    console.info('Debug build %s ...', id);\r\n    var buildInfo = builds[id];\r\n    if (buildInfo === null) {\r\n        var msg = 'Unknown build ' + id + ' in runBuild request';\r\n        console.info(msg);\r\n        callback(msg);\r\n        return;\r\n    }\r\n\r\n    runner.startiOSWebkitDebugProxy(webDebugProxyDevicePort, webDebugProxyPortMin, webDebugProxyPortMax).then(function (webkitDebugProxy) {\r\n        buildInfo.webDebugProxyPort = webDebugProxyDevicePort;\r\n        buildInfo.updateStatus(bi.DEBUGGING, 'DebugSuccess');\r\n        callback(null, buildInfo);\r\n    }, function (failure) {\r\n        callback(failure);\r\n    })\r\n}\r\n\r\nmgr.getBaseBuildDir = function () {\r\n    return baseBuildDir;\r\n};\r\n\r\nfunction validateBuildRequest(acceptLangsHeader, cordovaVersion, buildCommand, configuration) {\r\n    var errors = [];\r\n    if (cordovaVersion === null) {\r\n        errors.push(res.getString(acceptLangsHeader, 'BuildRequestMissingCordovaVersion'));\r\n    }\r\n    if (buildCommand !== 'build') {\r\n        errors.push(res.getString(acceptLangsHeader, 'BuildRequestUnsupportedCommand', buildCommand));\r\n    }\r\n    if (configuration !== 'debug' && configuration !== 'release') {\r\n        errors.push(res.getString(acceptLangsHeader, 'BuildRequestUnsupportedConfiguration', configuration));\r\n    }\r\n    return errors;\r\n}\r\n\r\nfunction saveUploadedTgzFile(buildInfo, req, callback) {\r\n    console.info('Saving build request payload to : ' + buildInfo.buildDir);\r\n    buildInfo.tgzFilePath = path.join(buildInfo.buildDir, 'upload_' + buildInfo.buildNumber + '.tgz');\r\n    var tgzFile = fs.createWriteStream(buildInfo.tgzFilePath);\r\n    req.pipe(tgzFile);\r\n    tgzFile.on('finish', function () {\r\n        buildInfo.updateStatus(bi.UPLOADED);\r\n        console.info('Saved upload to ' + buildInfo.tgzFilePath);\r\n        callback(null, buildInfo);\r\n    });\r\n    tgzFile.on('error', function (err) {\r\n        buildInfo.updateStatus(bi.ERROR, 'An error occurred in saving the uploaded tgz file to ' + tgzFile + ': ' + err.message);\r\n        console.error('Could not save the uploaded tgz file to ' + tgzFile + ' : ' + err);\r\n        buildMetrics.failed++;\r\n        callback(err, buildInfo);\r\n    });\r\n}\r\n\r\nfunction beginBuild(buildInfo) {\r\n    var extractToDir = path.join(buildInfo.buildDir, 'cordovaApp');\r\n    try {\r\n        if (!fs.existsSync(extractToDir)) {\r\n            fs.mkdirSync(extractToDir);\r\n        }\r\n    } catch (e) {\r\n        buildInfo.updateStatus(bi.ERROR, 'Unable to create extract directory ' + extractToDir + ': ' + e.message);\r\n        console.error('Build tgz file no longer exists on file system at ' + buildInfo.tgzFilePath);\r\n        buildMetrics.failed++;\r\n        return;\r\n    }\r\n\r\n    console.info('Extracting ' + buildInfo.tgzFilePath + ' to ' + extractToDir + '...');\r\n    if (!fs.existsSync(buildInfo.tgzFilePath)) {\r\n        buildInfo.updateStatus(bi.ERROR, 'The tgz file for the build no longer exists on file system: ' + buildInfo.tgzFilePath);\r\n        console.error('Build tgz file no longer exists on file system at ' + buiildInfo.tgzFilePath);\r\n        buildMetrics.failed++;\r\n        return;\r\n    }\r\n    var onError = function (err) {\r\n        buildInfo.updateStatus(bi.ERROR, 'An error occurred in extracting contents from ' + buildInfo.tgzFilePath + ': ' + err.message);\r\n        console.info('An error occurred in extracting contents from ' + buildInfo.tgzFilePath);\r\n        buildMetrics.failed++;\r\n    };\r\n\r\n    // A tar file created on windows has no notion of 'rwx' attributes on a directory, so directories are not executable when \r\n    // extracting to unix, causing the extract to fail because the directory cannot be navigated. \r\n    // Also, the tar module does not handle an 'error' event from it's underlying stream, so we have no way of catching errors like an unwritable\r\n    // directory in the tar gracefully- they cause an uncaughtException and server shutdown. For safety sake we force 'rwx' for all on everything.\r\n    var tarFilter = function (who) {\r\n        if (path.basename(who.props.path) === 'config.json' && path.basename(path.dirname(who.props.path)) === '.cordova') {\r\n            console.info('Not extracting .cordova/config.json. It is used on individual developer machines to customize locations of libraries ' +\r\n                        'and will not work on a remote machine.');\r\n            return false;\r\n        }\r\n        who.props.mode = 511; // \"chmod 777\"\r\n        return true;\r\n    }\r\n\r\n    // strip: 1 means take the top level directory name off when extracting (we want 'cordovaApp' to be the top level dir.)\r\n    var tarExtractor = tar.Extract({ path: extractToDir, strip: 1, filter: tarFilter });\r\n    tarExtractor.on('end', function () {\r\n        removeDeletedFiles(buildInfo);\r\n\r\n        buildInfo.updateStatus(bi.EXTRACTED);\r\n        console.info('Extracted app contents from uploaded build request to %s. Requesting build.', extractToDir);\r\n        build(buildInfo);\r\n    });\r\n    var unzip = zlib.createGunzip();\r\n    var tgzStream = fs.createReadStream(buildInfo.tgzFilePath);\r\n    tarExtractor.on('error', onError);\r\n    unzip.on('error', onError);\r\n    tgzStream.on('error', onError).pipe(unzip).on('error', onError).pipe(tarExtractor).on('error', onError);\r\n}\r\n\r\nfunction removeDeletedFiles(buildInfo) {\r\n    var cordovaDir = path.join(buildInfo.buildDir, 'cordovaApp');\r\n    var changeListFile = path.join(cordovaDir, 'changeList.json');\r\n    if (fs.existsSync(changeListFile)) {\r\n        buildInfo.changeList = JSON.parse(fs.readFileSync(changeListFile, { encoding: 'utf-8' }));\r\n        if (buildInfo.changeList) {\r\n            buildInfo.changeList.deletedFiles.forEach(function (deletedFile) {\r\n                var fileToDelete = path.join(cordovaDir, path.normalize(deletedFile));\r\n                if (fs.existsSync(fileToDelete)) {\r\n                    fs.unlinkSync(fileToDelete);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n// Cordova build relies on changing current working directory to the cordova app dir. To build multiple builds in parallel we will\r\n// need to fork out child processes. For now, limiting to one build at a time, and queuing up new builds that come in while a current build is in progress.\r\nfunction build(buildInfo) {\r\n    if (currentBuild !== null) {\r\n        console.info('A build is currently building. Queuing up ' + buildInfo.buildNumber);\r\n        queuedBuilds.push(buildInfo);\r\n        return;\r\n    } else {\r\n        console.info('Taking ' + buildInfo.buildNumber + ' as current build');\r\n        currentBuild = buildInfo;\r\n    }\r\n\r\n    // Good point to purge old builds\r\n    buildRetention.purge(builds);\r\n\r\n    buildInfo.appDir = path.join(buildInfo.buildDir, 'cordovaApp');\r\n    if (!fs.existsSync(buildInfo.appDir)) {\r\n        var msg = 'Build directory ' + buildInfo.buildDir + ' does not exist.';\r\n        console.info(msg);\r\n        buildInfo.updateStatus(bi.ERROR, msg);\r\n        buildMetrics.failed++;\r\n        dequeueNextBuild();\r\n        return;\r\n    }\r\n\r\n    var cordovaAppError = validateCordovaApp(buildInfo.appDir);\r\n    if (cordovaAppError !== null) {\r\n        buildMetrics.rejected++;\r\n        buildInfo.updateStatus(bi.INVALID, cordovaAppError.id, cordovaAppError.args);\r\n        console.info('Not building buildNumber [' + buildInfo.buildNumber + '] because it is not a valid Cordova Application: ' + cordovaAppError);\r\n        dequeueNextBuild();\r\n        return;\r\n    }\r\n\r\n    var cfg = new CordovaConfig(path.join(buildInfo.appDir, 'config.xml'));\r\n    buildInfo.appName = cfg.name();\r\n\r\n    console.info('Building cordova app %s at appDir %s', buildInfo.appName, buildInfo.appDir);\r\n    buildInfo.updateStatus(bi.BUILDING);\r\n\r\n    // Fork off to a child build process. This allows us to save off all stdout for that build to it's own log file. And in future we can \r\n    // have multiple builds in parallel by forking multiple child processes (with some max limit.)\r\n    var buildProcess = require('child_process').fork(path.join(__dirname, 'build.js'), [], { silent: true });\r\n    var buildLogger = new BuildLogger();\r\n    buildLogger.begin(buildInfo.buildDir, 'build.log', buildProcess);\r\n    buildProcess.send(buildInfo);\r\n    buildProcess.on('message', function (resultBuildInfo) {\r\n        buildInfo.updateStatus(resultBuildInfo.status, resultBuildInfo.messageId, resultBuildInfo.messageArgs);\r\n        console.info('Done building %d : %s %s', buildInfo.buildNumber, buildInfo.status, buildInfo.messageId, buildInfo.messageArgs);\r\n        if (buildInfo.status === bi.COMPLETE) {\r\n            buildMetrics.succeeded++;\r\n        } else {\r\n            buildMetrics.failed++;\r\n        }\r\n        buildProcess.kill();\r\n        buildLogger.end();\r\n        dequeueNextBuild();\r\n    });\r\n    buildProcess.on('exit', function (exitCode) {\r\n        if (buildInfo.status === bi.BUILDING) {\r\n            buildInfo.updateStatus(bi.ERROR, 'BuildFailedWithError', 'Build process unexpectedly exited');\r\n            buildMetrics.failed++;\r\n            buildLogger.end();\r\n            dequeueNextBuild();\r\n        }\r\n    });\r\n}\r\n\r\nfunction dequeueNextBuild() {\r\n    console.info('Done with currentBuild. Checking for next build in queue.');\r\n    currentBuild = null;\r\n    var nextBuild = queuedBuilds.shift();\r\n    if (nextBuild) {\r\n        console.info('Dequeued ' + nextBuild.buildNumber + ' and will build that next');\r\n        build(nextBuild);\r\n    }\r\n}\r\n\r\n// This is basic validation. The build itself will fail if config.xml is not valid, or more detailed problems with the submission.\r\nfunction validateCordovaApp(appDir) {\r\n    if (!fs.existsSync(path.join(appDir, 'config.xml'))) {\r\n        return { id: 'InvalidCordovaAppMissingConfigXml' };\r\n    } else {\r\n        try {\r\n            var cfg = new CordovaConfig(path.join(currentBuild.appDir, 'config.xml'));\r\n            var appName = cfg.name();\r\n            if (!util.isValidCordovaAppName(appName)) {\r\n                return { id: 'InvalidCordovaAppUnsupportedAppName', args: [appName, util.invalidAppNameCharacters()] };\r\n                errors.push('Invalid iOS app name ' + appName + ' in config.xml. Check for characters that are not Printable ASCII, or that match any of the following characters: ' +\r\n                                util.invalidAppNameCharacters());\r\n            }\r\n            // TODO validate that start page exists (content src='index.html')\r\n        } catch (e) {\r\n            return { id: 'InvalidCordovaAppBadConfigXml', args: e.message };\r\n        }\r\n    }\r\n\r\n    if (!fs.existsSync(path.join(appDir, 'www'))) {\r\n        return { id: 'InvalidCordovaAppMissingWww' };\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nfunction deleteBuild(buildInfo) {\r\n    buildRetention.deleteBuildDirectory(buildInfo.buildDir, function (err) {\r\n        if (err) {\r\n            console.error('Failed to delete build directory: ' + buildInfo.buildDir);\r\n        } else {\r\n            buildInfo.updateStatus(bi.DELETED);\r\n            console.info('Deleted build directory: ' + buildInfo.buildDir);\r\n        }\r\n    });\r\n}\r\n\r\n// SIG // Begin signature block\r\n// SIG // MIIatQYJKoZIhvcNAQcCoIIapjCCGqICAQExCzAJBgUr\r\n// SIG // DgMCGgUAMGcGCisGAQQBgjcCAQSgWTBXMDIGCisGAQQB\r\n// SIG // gjcCAR4wJAIBAQQQEODJBs441BGiowAQS9NQkAIBAAIB\r\n// SIG // AAIBAAIBAAIBADAhMAkGBSsOAwIaBQAEFGrYV1dk6OXV\r\n// SIG // e9a668ELiRYQr8rioIIVgjCCBMMwggOroAMCAQICEzMA\r\n// SIG // AABxsy6Ka4KqH04AAAAAAHEwDQYJKoZIhvcNAQEFBQAw\r\n// SIG // dzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWlj\r\n// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBMB4XDTE1MDMyMDE3\r\n// SIG // MzIwM1oXDTE2MDYyMDE3MzIwM1owgbMxCzAJBgNVBAYT\r\n// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH\r\n// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y\r\n// SIG // cG9yYXRpb24xDTALBgNVBAsTBE1PUFIxJzAlBgNVBAsT\r\n// SIG // Hm5DaXBoZXIgRFNFIEVTTjpCOEVDLTMwQTQtNzE0NDEl\r\n// SIG // MCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAgU2Vy\r\n// SIG // dmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\r\n// SIG // ggEBAOqRvbKI/RRvITYoA2YzOmYI+1tLpKugKDRKQzII\r\n// SIG // wIblyT3VJbx7PmKH1n3vD3RTo/GRY4h0f+gkzQNQxfHK\r\n// SIG // ABZ7pTmwBhw8RH7568SygbwXI7r9ZTgZhX/KoCn99jrA\r\n// SIG // Cy9o9OA0Tn1vF8Bumar6f2El0SZw0nR932FzXM5UKjlR\r\n// SIG // AzMJ+FCteMeJCLbUhSo/19gfUerv/GhetcHnB2gyjS9y\r\n// SIG // Uf4DMUdRxdLrcgevIJX42mr4d2fkYJpwTKtFy34Ir+WB\r\n// SIG // 1FfPOswTdZ0mzaCiaVC8OoiU37BUON6JOc2GMqWQD36/\r\n// SIG // 7cyUJaZBhmEmx903flwN6BfKN3/oJLZOtPgbI+sCAwEA\r\n// SIG // AaOCAQkwggEFMB0GA1UdDgQWBBT4/SOHBZSAVs0zpUHC\r\n// SIG // bMwINsiyojAfBgNVHSMEGDAWgBQjNPjZUkZwCu1A+3b7\r\n// SIG // syuwwzWzDzBUBgNVHR8ETTBLMEmgR6BFhkNodHRwOi8v\r\n// SIG // Y3JsLm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0\r\n// SIG // cy9NaWNyb3NvZnRUaW1lU3RhbXBQQ0EuY3JsMFgGCCsG\r\n// SIG // AQUFBwEBBEwwSjBIBggrBgEFBQcwAoY8aHR0cDovL3d3\r\n// SIG // dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3Nv\r\n// SIG // ZnRUaW1lU3RhbXBQQ0EuY3J0MBMGA1UdJQQMMAoGCCsG\r\n// SIG // AQUFBwMIMA0GCSqGSIb3DQEBBQUAA4IBAQAtBLTKKQtZ\r\n// SIG // /C7qoK9MTmgE+JLtKcJmzGtwyYfovof8XfTdT6Uab3iX\r\n// SIG // rWsFOFFBcp055Bobw21x/HC208y2kFgEKD/WHu+DsxQY\r\n// SIG // DJUL96URE5jGhVZe7jO0DDe1gOr1EmjZLnuGCHI7FHvU\r\n// SIG // 2dAWT8AvCx8tyuUb0K7phLCPC11zuBaBQCNYLOphqv69\r\n// SIG // f9ONWnD8ec1mlmVjtQUSduIqOyvtgqya7CdBp5cOIxaf\r\n// SIG // QchObVMRQATMYJnamOwrrpf74H31uosA9CUXf2J6u1FX\r\n// SIG // wfDwzZwbYXOtlYwrdiKoq3A4tAEofWZCU96f9Ad8WjAO\r\n// SIG // ggNZ9oSGuRUlYrAL0s/x25ZFMIIE7DCCA9SgAwIBAgIT\r\n// SIG // MwAAAMps1TISNcThVQABAAAAyjANBgkqhkiG9w0BAQUF\r\n// SIG // ADB5MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu\r\n// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV\r\n// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSMwIQYDVQQDExpN\r\n// SIG // aWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQTAeFw0xNDA0\r\n// SIG // MjIxNzM5MDBaFw0xNTA3MjIxNzM5MDBaMIGDMQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMQ0wCwYDVQQLEwRNT1BSMR4wHAYD\r\n// SIG // VQQDExVNaWNyb3NvZnQgQ29ycG9yYXRpb24wggEiMA0G\r\n// SIG // CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCWcV3tBkb6\r\n// SIG // hMudW7dGx7DhtBE5A62xFXNgnOuntm4aPD//ZeM08aal\r\n// SIG // IV5WmWxY5JKhClzC09xSLwxlmiBhQFMxnGyPIX26+f4T\r\n// SIG // UFJglTpbuVildGFBqZTgrSZOTKGXcEknXnxnyk8ecYRG\r\n// SIG // vB1LtuIPxcYnyQfmegqlFwAZTHBFOC2BtFCqxWfR+nm8\r\n// SIG // xcyhcpv0JTSY+FTfEjk4Ei+ka6Wafsdi0dzP7T00+Lnf\r\n// SIG // NTC67HkyqeGprFVNTH9MVsMTC3bxB/nMR6z7iNVSpR4o\r\n// SIG // +j0tz8+EmIZxZRHPhckJRIbhb+ex/KxARKWpiyM/gkmd\r\n// SIG // 1ZZZUBNZGHP/QwytK9R/MEBnAgMBAAGjggFgMIIBXDAT\r\n// SIG // BgNVHSUEDDAKBggrBgEFBQcDAzAdBgNVHQ4EFgQUH17i\r\n// SIG // XVCNVoa+SjzPBOinh7XLv4MwUQYDVR0RBEowSKRGMEQx\r\n// SIG // DTALBgNVBAsTBE1PUFIxMzAxBgNVBAUTKjMxNTk1K2I0\r\n// SIG // MjE4ZjEzLTZmY2EtNDkwZi05YzQ3LTNmYzU1N2RmYzQ0\r\n// SIG // MDAfBgNVHSMEGDAWgBTLEejK0rQWWAHJNy4zFha5TJoK\r\n// SIG // HzBWBgNVHR8ETzBNMEugSaBHhkVodHRwOi8vY3JsLm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0cy9NaWND\r\n// SIG // b2RTaWdQQ0FfMDgtMzEtMjAxMC5jcmwwWgYIKwYBBQUH\r\n// SIG // AQEETjBMMEoGCCsGAQUFBzAChj5odHRwOi8vd3d3Lm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NlcnRzL01pY0NvZFNpZ1BD\r\n// SIG // QV8wOC0zMS0yMDEwLmNydDANBgkqhkiG9w0BAQUFAAOC\r\n// SIG // AQEAd1zr15E9zb17g9mFqbBDnXN8F8kP7Tbbx7UsG177\r\n// SIG // VAU6g3FAgQmit3EmXtZ9tmw7yapfXQMYKh0nfgfpxWUf\r\n// SIG // tc8Nt1THKDhaiOd7wRm2VjK64szLk9uvbg9dRPXUsO8b\r\n// SIG // 1U7Brw7vIJvy4f4nXejF/2H2GdIoCiKd381wgp4Yctgj\r\n// SIG // zHosQ+7/6sDg5h2qnpczAFJvB7jTiGzepAY1p8JThmUR\r\n// SIG // dwmPNVm52IaoAP74MX0s9IwFncDB1XdybOlNWSaD8cKy\r\n// SIG // iFeTNQB8UCu8Wfz+HCk4gtPeUpdFKRhOlludul8bo/En\r\n// SIG // UOoHlehtNA04V9w3KDWVOjic1O1qhV0OIhFeezCCBbww\r\n// SIG // ggOkoAMCAQICCmEzJhoAAAAAADEwDQYJKoZIhvcNAQEF\r\n// SIG // BQAwXzETMBEGCgmSJomT8ixkARkWA2NvbTEZMBcGCgmS\r\n// SIG // JomT8ixkARkWCW1pY3Jvc29mdDEtMCsGA1UEAxMkTWlj\r\n// SIG // cm9zb2Z0IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5\r\n// SIG // MB4XDTEwMDgzMTIyMTkzMloXDTIwMDgzMTIyMjkzMlow\r\n// SIG // eTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEjMCEGA1UEAxMaTWlj\r\n// SIG // cm9zb2Z0IENvZGUgU2lnbmluZyBQQ0EwggEiMA0GCSqG\r\n// SIG // SIb3DQEBAQUAA4IBDwAwggEKAoIBAQCycllcGTBkvx2a\r\n// SIG // YCAgQpl2U2w+G9ZvzMvx6mv+lxYQ4N86dIMaty+gMuz/\r\n// SIG // 3sJCTiPVcgDbNVcKicquIEn08GisTUuNpb15S3GbRwfa\r\n// SIG // /SXfnXWIz6pzRH/XgdvzvfI2pMlcRdyvrT3gKGiXGqel\r\n// SIG // cnNW8ReU5P01lHKg1nZfHndFg4U4FtBzWwW6Z1KNpbJp\r\n// SIG // L9oZC/6SdCnidi9U3RQwWfjSjWL9y8lfRjFQuScT5EAw\r\n// SIG // z3IpECgixzdOPaAyPZDNoTgGhVxOVoIoKgUyt0vXT2Pn\r\n// SIG // 0i1i8UU956wIAPZGoZ7RW4wmU+h6qkryRs83PDietHdc\r\n// SIG // pReejcsRj1Y8wawJXwPTAgMBAAGjggFeMIIBWjAPBgNV\r\n// SIG // HRMBAf8EBTADAQH/MB0GA1UdDgQWBBTLEejK0rQWWAHJ\r\n// SIG // Ny4zFha5TJoKHzALBgNVHQ8EBAMCAYYwEgYJKwYBBAGC\r\n// SIG // NxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU/dExTtMm\r\n// SIG // ipXhmGA7qDFvpjy82C0wGQYJKwYBBAGCNxQCBAweCgBT\r\n// SIG // AHUAYgBDAEEwHwYDVR0jBBgwFoAUDqyCYEBWJ5flJRP8\r\n// SIG // KuEKU5VZ5KQwUAYDVR0fBEkwRzBFoEOgQYY/aHR0cDov\r\n// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj\r\n// SIG // dHMvbWljcm9zb2Z0cm9vdGNlcnQuY3JsMFQGCCsGAQUF\r\n// SIG // BwEBBEgwRjBEBggrBgEFBQcwAoY4aHR0cDovL3d3dy5t\r\n// SIG // aWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3NvZnRS\r\n// SIG // b290Q2VydC5jcnQwDQYJKoZIhvcNAQEFBQADggIBAFk5\r\n// SIG // Pn8mRq/rb0CxMrVq6w4vbqhJ9+tfde1MOy3XQ60L/svp\r\n// SIG // LTGjI8x8UJiAIV2sPS9MuqKoVpzjcLu4tPh5tUly9z7q\r\n// SIG // QX/K4QwXaculnCAt+gtQxFbNLeNK0rxw56gNogOlVuC4\r\n// SIG // iktX8pVCnPHz7+7jhh80PLhWmvBTI4UqpIIck+KUBx3y\r\n// SIG // 4k74jKHK6BOlkU7IG9KPcpUqcW2bGvgc8FPWZ8wi/1wd\r\n// SIG // zaKMvSeyeWNWRKJRzfnpo1hW3ZsCRUQvX/TartSCMm78\r\n// SIG // pJUT5Otp56miLL7IKxAOZY6Z2/Wi+hImCWU4lPF6H0q7\r\n// SIG // 0eFW6NB4lhhcyTUWX92THUmOLb6tNEQc7hAVGgBd3TVb\r\n// SIG // Ic6YxwnuhQ6MT20OE049fClInHLR82zKwexwo1eSV32U\r\n// SIG // jaAbSANa98+jZwp0pTbtLS8XyOZyNxL0b7E8Z4L5UrKN\r\n// SIG // MxZlHg6K3RDeZPRvzkbU0xfpecQEtNP7LN8fip6sCvsT\r\n// SIG // J0Ct5PnhqX9GuwdgR2VgQE6wQuxO7bN2edgKNAltHIAx\r\n// SIG // H+IOVN3lofvlRxCtZJj/UBYufL8FIXrilUEnacOTj5XJ\r\n// SIG // jdibIa4NXJzwoq6GaIMMai27dmsAHZat8hZ79haDJLmI\r\n// SIG // z2qoRzEvmtzjcT3XAH5iR9HOiMm4GPoOco3Boz2vAkBq\r\n// SIG // /2mbluIQqBC0N1AI1sM9MIIGBzCCA++gAwIBAgIKYRZo\r\n// SIG // NAAAAAAAHDANBgkqhkiG9w0BAQUFADBfMRMwEQYKCZIm\r\n// SIG // iZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJbWlj\r\n// SIG // cm9zb2Z0MS0wKwYDVQQDEyRNaWNyb3NvZnQgUm9vdCBD\r\n// SIG // ZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMDcwNDAzMTI1\r\n// SIG // MzA5WhcNMjEwNDAzMTMwMzA5WjB3MQswCQYDVQQGEwJV\r\n// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH\r\n// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv\r\n// SIG // cmF0aW9uMSEwHwYDVQQDExhNaWNyb3NvZnQgVGltZS1T\r\n// SIG // dGFtcCBQQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\r\n// SIG // ggEKAoIBAQCfoWyx39tIkip8ay4Z4b3i48WZUSNQrc7d\r\n// SIG // GE4kD+7Rp9FMrXQwIBHrB9VUlRVJlBtCkq6YXDAm2gBr\r\n// SIG // 6Hu97IkHD/cOBJjwicwfyzMkh53y9GccLPx754gd6udO\r\n// SIG // o6HBI1PKjfpFzwnQXq/QsEIEovmmbJNn1yjcRlOwhtDl\r\n// SIG // KEYuJ6yGT1VSDOQDLPtqkJAwbofzWTCd+n7Wl7PoIZd+\r\n// SIG // +NIT8wi3U21StEWQn0gASkdmEScpZqiX5NMGgUqi+YSn\r\n// SIG // EUcUCYKfhO1VeP4Bmh1QCIUAEDBG7bfeI0a7xC1Un68e\r\n// SIG // eEExd8yb3zuDk6FhArUdDbH895uyAc4iS1T/+QXDwiAL\r\n// SIG // AgMBAAGjggGrMIIBpzAPBgNVHRMBAf8EBTADAQH/MB0G\r\n// SIG // A1UdDgQWBBQjNPjZUkZwCu1A+3b7syuwwzWzDzALBgNV\r\n// SIG // HQ8EBAMCAYYwEAYJKwYBBAGCNxUBBAMCAQAwgZgGA1Ud\r\n// SIG // IwSBkDCBjYAUDqyCYEBWJ5flJRP8KuEKU5VZ5KShY6Rh\r\n// SIG // MF8xEzARBgoJkiaJk/IsZAEZFgNjb20xGTAXBgoJkiaJ\r\n// SIG // k/IsZAEZFgltaWNyb3NvZnQxLTArBgNVBAMTJE1pY3Jv\r\n// SIG // c29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eYIQ\r\n// SIG // ea0WoUqgpa1Mc1j0BxMuZTBQBgNVHR8ESTBHMEWgQ6BB\r\n// SIG // hj9odHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpL2Ny\r\n// SIG // bC9wcm9kdWN0cy9taWNyb3NvZnRyb290Y2VydC5jcmww\r\n// SIG // VAYIKwYBBQUHAQEESDBGMEQGCCsGAQUFBzAChjhodHRw\r\n// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL2NlcnRzL01p\r\n// SIG // Y3Jvc29mdFJvb3RDZXJ0LmNydDATBgNVHSUEDDAKBggr\r\n// SIG // BgEFBQcDCDANBgkqhkiG9w0BAQUFAAOCAgEAEJeKw1wD\r\n// SIG // RDbd6bStd9vOeVFNAbEudHFbbQwTq86+e4+4LtQSooxt\r\n// SIG // YrhXAstOIBNQmd16QOJXu69YmhzhHQGGrLt48ovQ7DsB\r\n// SIG // 7uK+jwoFyI1I4vBTFd1Pq5Lk541q1YDB5pTyBi+FA+mR\r\n// SIG // KiQicPv2/OR4mS4N9wficLwYTp2OawpylbihOZxnLcVR\r\n// SIG // DupiXD8WmIsgP+IHGjL5zDFKdjE9K3ILyOpwPf+FChPf\r\n// SIG // wgphjvDXuBfrTot/xTUrXqO/67x9C0J71FNyIe4wyrt4\r\n// SIG // ZVxbARcKFA7S2hSY9Ty5ZlizLS/n+YWGzFFW6J1wlGys\r\n// SIG // OUzU9nm/qhh6YinvopspNAZ3GmLJPR5tH4LwC8csu89D\r\n// SIG // s+X57H2146SodDW4TsVxIxImdgs8UoxxWkZDFLyzs7BN\r\n// SIG // Z8ifQv+AeSGAnhUwZuhCEl4ayJ4iIdBD6Svpu/RIzCzU\r\n// SIG // 2DKATCYqSCRfWupW76bemZ3KOm+9gSd0BhHudiG/m4LB\r\n// SIG // J1S2sWo9iaF2YbRuoROmv6pH8BJv/YoybLL+31HIjCPJ\r\n// SIG // Zr2dHYcSZAI9La9Zj7jkIeW1sMpjtHhUBdRBLlCslLCl\r\n// SIG // eKuzoJZ1GtmShxN1Ii8yqAhuoFuMJb+g74TKIdbrHk/J\r\n// SIG // mu5J4PcBZW+JC33Iacjmbuqnl84xKf8OxVtc2E0bodj6\r\n// SIG // L54/LlUWa8kTo/0xggSfMIIEmwIBATCBkDB5MQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMSMwIQYDVQQDExpNaWNyb3NvZnQg\r\n// SIG // Q29kZSBTaWduaW5nIFBDQQITMwAAAMps1TISNcThVQAB\r\n// SIG // AAAAyjAJBgUrDgMCGgUAoIG4MBkGCSqGSIb3DQEJAzEM\r\n// SIG // BgorBgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAMBgor\r\n// SIG // BgEEAYI3AgEVMCMGCSqGSIb3DQEJBDEWBBQt1iotIZDj\r\n// SIG // gVTncBXnFhJv+ZApKDBYBgorBgEEAYI3AgEMMUowSKAg\r\n// SIG // gB4AYgB1AGkAbABkAE0AYQBuAGEAZwBlAHIALgBqAHOh\r\n// SIG // JIAiaHR0cDovL2V4cHJlc3Npb24vYnVpbGRtYW5hZ2Vy\r\n// SIG // LmpzIDANBgkqhkiG9w0BAQEFAASCAQCNhKNERpEmVkhI\r\n// SIG // DYwJxksok2yE6iuaUvcEqdSHb6nYhS4i5tsomxKrksnj\r\n// SIG // 2L264U6FvVcYPB/Ol+uGS0QGJPvFuvP5WkMNqRwJr1hq\r\n// SIG // qKKpys0qse8Ym9q+v01I/pCk0lHyG7TirfeGdzZXfAn0\r\n// SIG // 68gWC756YqoL1hzBTL2rX6sw0GsPLdcFPfgPapTbS46B\r\n// SIG // wkgj4ecwZxO19tLg1cjt8a0mFKYvvJlrKIWBc87Hs5te\r\n// SIG // KA2la9UFe/+n3N2al86Xi/bNVhqUQ+NoZqGXcY0O5leA\r\n// SIG // dfovDm48gkQs/rQvFG+Z3aM+0sefxD8cIn0115fWpnr/\r\n// SIG // bfmOqwS3kNMZ+5M0dhTpoYICKDCCAiQGCSqGSIb3DQEJ\r\n// SIG // BjGCAhUwggIRAgEBMIGOMHcxCzAJBgNVBAYTAlVTMRMw\r\n// SIG // EQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRt\r\n// SIG // b25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRp\r\n// SIG // b24xITAfBgNVBAMTGE1pY3Jvc29mdCBUaW1lLVN0YW1w\r\n// SIG // IFBDQQITMwAAAHGzLoprgqofTgAAAAAAcTAJBgUrDgMC\r\n// SIG // GgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAc\r\n// SIG // BgkqhkiG9w0BCQUxDxcNMTUwNDIzMDE1NTIxWjAjBgkq\r\n// SIG // hkiG9w0BCQQxFgQUCVldsRrq7r51gRTx2XhxhXzkjC8w\r\n// SIG // DQYJKoZIhvcNAQEFBQAEggEAlVH4V27Fm1e0xG3UkB9Z\r\n// SIG // C5o3YO1ZvlRAy/Do1EHJpCvgVtUJkzE6D0fS1FFSLmQr\r\n// SIG // /2QLKQPOsZ0Tc0tDKYE5q3wnSPbYsAWwnXYBawDQW+TD\r\n// SIG // t9dbdOWLhZe/IM5qynQ84kIQYn0TZ8xclgfQR1YvFNsp\r\n// SIG // WBKOpw7QYVUQnd17LujSufWCWvi3Sr5hxbRktw+4kfYJ\r\n// SIG // A8dujaQNQMfVsTwLFovrWTK9Nxcv4CVFX4HlpbvbaoID\r\n// SIG // Ca6xc2APFwryBbezSJV/UDtqHKLCr/2J3Sd9nXEX5j1M\r\n// SIG // 9ik/ESGufIvI8cWbQUq8VINlgOZ8yuDYyIWgXKEzGBZ7\r\n// SIG // /csTZ1qRV1a5/g==\r\n// SIG // End signature block\r\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/node_modules/vs-mda-remote/lib/buildRetention.js":"/********************************************************\n*                                                       *\n*   Copyright (C) Microsoft. All rights reserved.       *\n*                                                       *\n********************************************************/\n\"use strict\";\n\nvar bi = require('./BuildInfo'),\n    rimraf = require('rimraf');\n\nvar br = exports = module.exports = {};\n\nvar baseBuildDir;\nvar maxBuildsToKeep;\n\nbr.init = function(baseBuildDir, conf) {\n    maxBuildsToKeep = conf.get('maxBuildsToKeep');\n    console.info('Build Retention initialized with baseBuildDir %s, maxBuildsToKeep %d', baseBuildDir, maxBuildsToKeep);\n};\n\nbr.purge = function(builds) {\n    var buildNumbers = Object.keys(builds);\n    var nBuildsToDelete = buildNumbers.length - maxBuildsToKeep;\n    if (nBuildsToDelete <= 0) {\n        return;\n    }\n\n    // eligible builds do not include those queued up or currently building.\n    var eligibleBuilds = [];\n    for (var i = 0; i < buildNumbers.length; i++) {\n        var buildInfo = builds[buildNumbers[i]];\n        if (buildInfo.status === bi.COMPLETE || buildInfo.status === bi.DOWNLOADED ||\n            buildInfo.status === bi.DELETED || buildInfo.status === bi.ERROR ||\n            buildInfo.status === bi.EMULATED || buildInfo.status === bi.INVALID) {\n            eligibleBuilds.push(buildInfo);\n        }\n    };\n    // sort eligible builds by oldest first, then delete required number\n    eligibleBuilds.sort(function(b1, b2) {\n        var diff = b1.submissionTime - b2.submissionTime;\n        return (diff === 0) ? 0 : (diff > 0 ? +1 : -1);\n    });\n    if (nBuildsToDelete > eligibleBuilds.length) {\n        nBuildsToDelete = eligibleBuilds.length;\n    }\n    console.info('Deleting eligible builds. Will delete %d builds.', nBuildsToDelete);\n    for (var i = 0; i < nBuildsToDelete; i++) {\n        var buildInfo = eligibleBuilds[i];\n        console.info('Deleting build %d from %s', buildInfo.buildNumber, buildInfo.buildDir);\n        br.deleteBuildDirectory(buildInfo.buildDir);\n        delete builds[eligibleBuilds[i].buildNumber];\n    }\n};\n\nbr.deleteAllSync = function(builds) {\n    var buildNumbers = Object.keys(builds);\n    for (var i = 0; i < buildNumbers.length; i++) {\n        var buildInfo = builds[buildNumbers[i]];\n        console.info('Deleting build %d from %s', buildInfo.buildNumber, buildInfo.buildDir);\n        rimraf.sync(buildInfo.buildDir);\n        delete builds[buildNumbers[i]];\n    }\n};\n\nbr.deleteBuildDirectory = function(buildDir, callback) {\n    rimraf(buildDir, function(err) {\n        if (callback) {\n            callback(err);\n        }\n    });\n};\n\r\n// SIG // Begin signature block\r\n// SIG // MIIauwYJKoZIhvcNAQcCoIIarDCCGqgCAQExCzAJBgUr\r\n// SIG // DgMCGgUAMGcGCisGAQQBgjcCAQSgWTBXMDIGCisGAQQB\r\n// SIG // gjcCAR4wJAIBAQQQEODJBs441BGiowAQS9NQkAIBAAIB\r\n// SIG // AAIBAAIBAAIBADAhMAkGBSsOAwIaBQAEFHDLk0IJxU0A\r\n// SIG // hMkIMWceiIhU33pdoIIVgjCCBMMwggOroAMCAQICEzMA\r\n// SIG // AABxsy6Ka4KqH04AAAAAAHEwDQYJKoZIhvcNAQEFBQAw\r\n// SIG // dzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWlj\r\n// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBMB4XDTE1MDMyMDE3\r\n// SIG // MzIwM1oXDTE2MDYyMDE3MzIwM1owgbMxCzAJBgNVBAYT\r\n// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH\r\n// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y\r\n// SIG // cG9yYXRpb24xDTALBgNVBAsTBE1PUFIxJzAlBgNVBAsT\r\n// SIG // Hm5DaXBoZXIgRFNFIEVTTjpCOEVDLTMwQTQtNzE0NDEl\r\n// SIG // MCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAgU2Vy\r\n// SIG // dmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\r\n// SIG // ggEBAOqRvbKI/RRvITYoA2YzOmYI+1tLpKugKDRKQzII\r\n// SIG // wIblyT3VJbx7PmKH1n3vD3RTo/GRY4h0f+gkzQNQxfHK\r\n// SIG // ABZ7pTmwBhw8RH7568SygbwXI7r9ZTgZhX/KoCn99jrA\r\n// SIG // Cy9o9OA0Tn1vF8Bumar6f2El0SZw0nR932FzXM5UKjlR\r\n// SIG // AzMJ+FCteMeJCLbUhSo/19gfUerv/GhetcHnB2gyjS9y\r\n// SIG // Uf4DMUdRxdLrcgevIJX42mr4d2fkYJpwTKtFy34Ir+WB\r\n// SIG // 1FfPOswTdZ0mzaCiaVC8OoiU37BUON6JOc2GMqWQD36/\r\n// SIG // 7cyUJaZBhmEmx903flwN6BfKN3/oJLZOtPgbI+sCAwEA\r\n// SIG // AaOCAQkwggEFMB0GA1UdDgQWBBT4/SOHBZSAVs0zpUHC\r\n// SIG // bMwINsiyojAfBgNVHSMEGDAWgBQjNPjZUkZwCu1A+3b7\r\n// SIG // syuwwzWzDzBUBgNVHR8ETTBLMEmgR6BFhkNodHRwOi8v\r\n// SIG // Y3JsLm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0\r\n// SIG // cy9NaWNyb3NvZnRUaW1lU3RhbXBQQ0EuY3JsMFgGCCsG\r\n// SIG // AQUFBwEBBEwwSjBIBggrBgEFBQcwAoY8aHR0cDovL3d3\r\n// SIG // dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3Nv\r\n// SIG // ZnRUaW1lU3RhbXBQQ0EuY3J0MBMGA1UdJQQMMAoGCCsG\r\n// SIG // AQUFBwMIMA0GCSqGSIb3DQEBBQUAA4IBAQAtBLTKKQtZ\r\n// SIG // /C7qoK9MTmgE+JLtKcJmzGtwyYfovof8XfTdT6Uab3iX\r\n// SIG // rWsFOFFBcp055Bobw21x/HC208y2kFgEKD/WHu+DsxQY\r\n// SIG // DJUL96URE5jGhVZe7jO0DDe1gOr1EmjZLnuGCHI7FHvU\r\n// SIG // 2dAWT8AvCx8tyuUb0K7phLCPC11zuBaBQCNYLOphqv69\r\n// SIG // f9ONWnD8ec1mlmVjtQUSduIqOyvtgqya7CdBp5cOIxaf\r\n// SIG // QchObVMRQATMYJnamOwrrpf74H31uosA9CUXf2J6u1FX\r\n// SIG // wfDwzZwbYXOtlYwrdiKoq3A4tAEofWZCU96f9Ad8WjAO\r\n// SIG // ggNZ9oSGuRUlYrAL0s/x25ZFMIIE7DCCA9SgAwIBAgIT\r\n// SIG // MwAAAMps1TISNcThVQABAAAAyjANBgkqhkiG9w0BAQUF\r\n// SIG // ADB5MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu\r\n// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV\r\n// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSMwIQYDVQQDExpN\r\n// SIG // aWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQTAeFw0xNDA0\r\n// SIG // MjIxNzM5MDBaFw0xNTA3MjIxNzM5MDBaMIGDMQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMQ0wCwYDVQQLEwRNT1BSMR4wHAYD\r\n// SIG // VQQDExVNaWNyb3NvZnQgQ29ycG9yYXRpb24wggEiMA0G\r\n// SIG // CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCWcV3tBkb6\r\n// SIG // hMudW7dGx7DhtBE5A62xFXNgnOuntm4aPD//ZeM08aal\r\n// SIG // IV5WmWxY5JKhClzC09xSLwxlmiBhQFMxnGyPIX26+f4T\r\n// SIG // UFJglTpbuVildGFBqZTgrSZOTKGXcEknXnxnyk8ecYRG\r\n// SIG // vB1LtuIPxcYnyQfmegqlFwAZTHBFOC2BtFCqxWfR+nm8\r\n// SIG // xcyhcpv0JTSY+FTfEjk4Ei+ka6Wafsdi0dzP7T00+Lnf\r\n// SIG // NTC67HkyqeGprFVNTH9MVsMTC3bxB/nMR6z7iNVSpR4o\r\n// SIG // +j0tz8+EmIZxZRHPhckJRIbhb+ex/KxARKWpiyM/gkmd\r\n// SIG // 1ZZZUBNZGHP/QwytK9R/MEBnAgMBAAGjggFgMIIBXDAT\r\n// SIG // BgNVHSUEDDAKBggrBgEFBQcDAzAdBgNVHQ4EFgQUH17i\r\n// SIG // XVCNVoa+SjzPBOinh7XLv4MwUQYDVR0RBEowSKRGMEQx\r\n// SIG // DTALBgNVBAsTBE1PUFIxMzAxBgNVBAUTKjMxNTk1K2I0\r\n// SIG // MjE4ZjEzLTZmY2EtNDkwZi05YzQ3LTNmYzU1N2RmYzQ0\r\n// SIG // MDAfBgNVHSMEGDAWgBTLEejK0rQWWAHJNy4zFha5TJoK\r\n// SIG // HzBWBgNVHR8ETzBNMEugSaBHhkVodHRwOi8vY3JsLm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0cy9NaWND\r\n// SIG // b2RTaWdQQ0FfMDgtMzEtMjAxMC5jcmwwWgYIKwYBBQUH\r\n// SIG // AQEETjBMMEoGCCsGAQUFBzAChj5odHRwOi8vd3d3Lm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NlcnRzL01pY0NvZFNpZ1BD\r\n// SIG // QV8wOC0zMS0yMDEwLmNydDANBgkqhkiG9w0BAQUFAAOC\r\n// SIG // AQEAd1zr15E9zb17g9mFqbBDnXN8F8kP7Tbbx7UsG177\r\n// SIG // VAU6g3FAgQmit3EmXtZ9tmw7yapfXQMYKh0nfgfpxWUf\r\n// SIG // tc8Nt1THKDhaiOd7wRm2VjK64szLk9uvbg9dRPXUsO8b\r\n// SIG // 1U7Brw7vIJvy4f4nXejF/2H2GdIoCiKd381wgp4Yctgj\r\n// SIG // zHosQ+7/6sDg5h2qnpczAFJvB7jTiGzepAY1p8JThmUR\r\n// SIG // dwmPNVm52IaoAP74MX0s9IwFncDB1XdybOlNWSaD8cKy\r\n// SIG // iFeTNQB8UCu8Wfz+HCk4gtPeUpdFKRhOlludul8bo/En\r\n// SIG // UOoHlehtNA04V9w3KDWVOjic1O1qhV0OIhFeezCCBbww\r\n// SIG // ggOkoAMCAQICCmEzJhoAAAAAADEwDQYJKoZIhvcNAQEF\r\n// SIG // BQAwXzETMBEGCgmSJomT8ixkARkWA2NvbTEZMBcGCgmS\r\n// SIG // JomT8ixkARkWCW1pY3Jvc29mdDEtMCsGA1UEAxMkTWlj\r\n// SIG // cm9zb2Z0IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5\r\n// SIG // MB4XDTEwMDgzMTIyMTkzMloXDTIwMDgzMTIyMjkzMlow\r\n// SIG // eTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEjMCEGA1UEAxMaTWlj\r\n// SIG // cm9zb2Z0IENvZGUgU2lnbmluZyBQQ0EwggEiMA0GCSqG\r\n// SIG // SIb3DQEBAQUAA4IBDwAwggEKAoIBAQCycllcGTBkvx2a\r\n// SIG // YCAgQpl2U2w+G9ZvzMvx6mv+lxYQ4N86dIMaty+gMuz/\r\n// SIG // 3sJCTiPVcgDbNVcKicquIEn08GisTUuNpb15S3GbRwfa\r\n// SIG // /SXfnXWIz6pzRH/XgdvzvfI2pMlcRdyvrT3gKGiXGqel\r\n// SIG // cnNW8ReU5P01lHKg1nZfHndFg4U4FtBzWwW6Z1KNpbJp\r\n// SIG // L9oZC/6SdCnidi9U3RQwWfjSjWL9y8lfRjFQuScT5EAw\r\n// SIG // z3IpECgixzdOPaAyPZDNoTgGhVxOVoIoKgUyt0vXT2Pn\r\n// SIG // 0i1i8UU956wIAPZGoZ7RW4wmU+h6qkryRs83PDietHdc\r\n// SIG // pReejcsRj1Y8wawJXwPTAgMBAAGjggFeMIIBWjAPBgNV\r\n// SIG // HRMBAf8EBTADAQH/MB0GA1UdDgQWBBTLEejK0rQWWAHJ\r\n// SIG // Ny4zFha5TJoKHzALBgNVHQ8EBAMCAYYwEgYJKwYBBAGC\r\n// SIG // NxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU/dExTtMm\r\n// SIG // ipXhmGA7qDFvpjy82C0wGQYJKwYBBAGCNxQCBAweCgBT\r\n// SIG // AHUAYgBDAEEwHwYDVR0jBBgwFoAUDqyCYEBWJ5flJRP8\r\n// SIG // KuEKU5VZ5KQwUAYDVR0fBEkwRzBFoEOgQYY/aHR0cDov\r\n// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj\r\n// SIG // dHMvbWljcm9zb2Z0cm9vdGNlcnQuY3JsMFQGCCsGAQUF\r\n// SIG // BwEBBEgwRjBEBggrBgEFBQcwAoY4aHR0cDovL3d3dy5t\r\n// SIG // aWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3NvZnRS\r\n// SIG // b290Q2VydC5jcnQwDQYJKoZIhvcNAQEFBQADggIBAFk5\r\n// SIG // Pn8mRq/rb0CxMrVq6w4vbqhJ9+tfde1MOy3XQ60L/svp\r\n// SIG // LTGjI8x8UJiAIV2sPS9MuqKoVpzjcLu4tPh5tUly9z7q\r\n// SIG // QX/K4QwXaculnCAt+gtQxFbNLeNK0rxw56gNogOlVuC4\r\n// SIG // iktX8pVCnPHz7+7jhh80PLhWmvBTI4UqpIIck+KUBx3y\r\n// SIG // 4k74jKHK6BOlkU7IG9KPcpUqcW2bGvgc8FPWZ8wi/1wd\r\n// SIG // zaKMvSeyeWNWRKJRzfnpo1hW3ZsCRUQvX/TartSCMm78\r\n// SIG // pJUT5Otp56miLL7IKxAOZY6Z2/Wi+hImCWU4lPF6H0q7\r\n// SIG // 0eFW6NB4lhhcyTUWX92THUmOLb6tNEQc7hAVGgBd3TVb\r\n// SIG // Ic6YxwnuhQ6MT20OE049fClInHLR82zKwexwo1eSV32U\r\n// SIG // jaAbSANa98+jZwp0pTbtLS8XyOZyNxL0b7E8Z4L5UrKN\r\n// SIG // MxZlHg6K3RDeZPRvzkbU0xfpecQEtNP7LN8fip6sCvsT\r\n// SIG // J0Ct5PnhqX9GuwdgR2VgQE6wQuxO7bN2edgKNAltHIAx\r\n// SIG // H+IOVN3lofvlRxCtZJj/UBYufL8FIXrilUEnacOTj5XJ\r\n// SIG // jdibIa4NXJzwoq6GaIMMai27dmsAHZat8hZ79haDJLmI\r\n// SIG // z2qoRzEvmtzjcT3XAH5iR9HOiMm4GPoOco3Boz2vAkBq\r\n// SIG // /2mbluIQqBC0N1AI1sM9MIIGBzCCA++gAwIBAgIKYRZo\r\n// SIG // NAAAAAAAHDANBgkqhkiG9w0BAQUFADBfMRMwEQYKCZIm\r\n// SIG // iZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJbWlj\r\n// SIG // cm9zb2Z0MS0wKwYDVQQDEyRNaWNyb3NvZnQgUm9vdCBD\r\n// SIG // ZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMDcwNDAzMTI1\r\n// SIG // MzA5WhcNMjEwNDAzMTMwMzA5WjB3MQswCQYDVQQGEwJV\r\n// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH\r\n// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv\r\n// SIG // cmF0aW9uMSEwHwYDVQQDExhNaWNyb3NvZnQgVGltZS1T\r\n// SIG // dGFtcCBQQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\r\n// SIG // ggEKAoIBAQCfoWyx39tIkip8ay4Z4b3i48WZUSNQrc7d\r\n// SIG // GE4kD+7Rp9FMrXQwIBHrB9VUlRVJlBtCkq6YXDAm2gBr\r\n// SIG // 6Hu97IkHD/cOBJjwicwfyzMkh53y9GccLPx754gd6udO\r\n// SIG // o6HBI1PKjfpFzwnQXq/QsEIEovmmbJNn1yjcRlOwhtDl\r\n// SIG // KEYuJ6yGT1VSDOQDLPtqkJAwbofzWTCd+n7Wl7PoIZd+\r\n// SIG // +NIT8wi3U21StEWQn0gASkdmEScpZqiX5NMGgUqi+YSn\r\n// SIG // EUcUCYKfhO1VeP4Bmh1QCIUAEDBG7bfeI0a7xC1Un68e\r\n// SIG // eEExd8yb3zuDk6FhArUdDbH895uyAc4iS1T/+QXDwiAL\r\n// SIG // AgMBAAGjggGrMIIBpzAPBgNVHRMBAf8EBTADAQH/MB0G\r\n// SIG // A1UdDgQWBBQjNPjZUkZwCu1A+3b7syuwwzWzDzALBgNV\r\n// SIG // HQ8EBAMCAYYwEAYJKwYBBAGCNxUBBAMCAQAwgZgGA1Ud\r\n// SIG // IwSBkDCBjYAUDqyCYEBWJ5flJRP8KuEKU5VZ5KShY6Rh\r\n// SIG // MF8xEzARBgoJkiaJk/IsZAEZFgNjb20xGTAXBgoJkiaJ\r\n// SIG // k/IsZAEZFgltaWNyb3NvZnQxLTArBgNVBAMTJE1pY3Jv\r\n// SIG // c29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eYIQ\r\n// SIG // ea0WoUqgpa1Mc1j0BxMuZTBQBgNVHR8ESTBHMEWgQ6BB\r\n// SIG // hj9odHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpL2Ny\r\n// SIG // bC9wcm9kdWN0cy9taWNyb3NvZnRyb290Y2VydC5jcmww\r\n// SIG // VAYIKwYBBQUHAQEESDBGMEQGCCsGAQUFBzAChjhodHRw\r\n// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL2NlcnRzL01p\r\n// SIG // Y3Jvc29mdFJvb3RDZXJ0LmNydDATBgNVHSUEDDAKBggr\r\n// SIG // BgEFBQcDCDANBgkqhkiG9w0BAQUFAAOCAgEAEJeKw1wD\r\n// SIG // RDbd6bStd9vOeVFNAbEudHFbbQwTq86+e4+4LtQSooxt\r\n// SIG // YrhXAstOIBNQmd16QOJXu69YmhzhHQGGrLt48ovQ7DsB\r\n// SIG // 7uK+jwoFyI1I4vBTFd1Pq5Lk541q1YDB5pTyBi+FA+mR\r\n// SIG // KiQicPv2/OR4mS4N9wficLwYTp2OawpylbihOZxnLcVR\r\n// SIG // DupiXD8WmIsgP+IHGjL5zDFKdjE9K3ILyOpwPf+FChPf\r\n// SIG // wgphjvDXuBfrTot/xTUrXqO/67x9C0J71FNyIe4wyrt4\r\n// SIG // ZVxbARcKFA7S2hSY9Ty5ZlizLS/n+YWGzFFW6J1wlGys\r\n// SIG // OUzU9nm/qhh6YinvopspNAZ3GmLJPR5tH4LwC8csu89D\r\n// SIG // s+X57H2146SodDW4TsVxIxImdgs8UoxxWkZDFLyzs7BN\r\n// SIG // Z8ifQv+AeSGAnhUwZuhCEl4ayJ4iIdBD6Svpu/RIzCzU\r\n// SIG // 2DKATCYqSCRfWupW76bemZ3KOm+9gSd0BhHudiG/m4LB\r\n// SIG // J1S2sWo9iaF2YbRuoROmv6pH8BJv/YoybLL+31HIjCPJ\r\n// SIG // Zr2dHYcSZAI9La9Zj7jkIeW1sMpjtHhUBdRBLlCslLCl\r\n// SIG // eKuzoJZ1GtmShxN1Ii8yqAhuoFuMJb+g74TKIdbrHk/J\r\n// SIG // mu5J4PcBZW+JC33Iacjmbuqnl84xKf8OxVtc2E0bodj6\r\n// SIG // L54/LlUWa8kTo/0xggSlMIIEoQIBATCBkDB5MQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMSMwIQYDVQQDExpNaWNyb3NvZnQg\r\n// SIG // Q29kZSBTaWduaW5nIFBDQQITMwAAAMps1TISNcThVQAB\r\n// SIG // AAAAyjAJBgUrDgMCGgUAoIG+MBkGCSqGSIb3DQEJAzEM\r\n// SIG // BgorBgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAMBgor\r\n// SIG // BgEEAYI3AgEVMCMGCSqGSIb3DQEJBDEWBBQaUpOJN/sn\r\n// SIG // IclRMuTkI3NiuVWyMTBeBgorBgEEAYI3AgEMMVAwTqAk\r\n// SIG // gCIAYgB1AGkAbABkAFIAZQB0AGUAbgB0AGkAbwBuAC4A\r\n// SIG // agBzoSaAJGh0dHA6Ly9leHByZXNzaW9uL2J1aWxkcmV0\r\n// SIG // ZW50aW9uLmpzIDANBgkqhkiG9w0BAQEFAASCAQARn1UG\r\n// SIG // MaZU2rRis0znULR3ZV4UgEWLwXx541eVe6QjiIHCQcpE\r\n// SIG // KKs8F1aiMbVFVgjtZ7bTXsuNkbyUQYux/AYhCAKFsQe8\r\n// SIG // hcCXq85EdTmlZXKsSuYGUu76fXpcDB4+/qJRZjPZ2nfD\r\n// SIG // cGEiXbN1aVSA/jFhQ9egbEYVNoZ4Pj+i66a+EFMJbr81\r\n// SIG // 4xKKKjMnHy8m6ioAoH5uRCNe6RYYBzUR0jO4/qlLwDCA\r\n// SIG // 8hnQW3BDwqudVOpUcVF4XVe29AsiaQAC0eJIO9ZmVbVg\r\n// SIG // Ho3uruVeKQCTjy8JkLax6FGasmFObdlVf3Krw4GZ3xgA\r\n// SIG // K7/w1iJOipCLYEDUYZwcNf8xGP6DoYICKDCCAiQGCSqG\r\n// SIG // SIb3DQEJBjGCAhUwggIRAgEBMIGOMHcxCzAJBgNVBAYT\r\n// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH\r\n// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y\r\n// SIG // cG9yYXRpb24xITAfBgNVBAMTGE1pY3Jvc29mdCBUaW1l\r\n// SIG // LVN0YW1wIFBDQQITMwAAAHGzLoprgqofTgAAAAAAcTAJ\r\n// SIG // BgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3\r\n// SIG // DQEHATAcBgkqhkiG9w0BCQUxDxcNMTUwNDIzMDE1NjE4\r\n// SIG // WjAjBgkqhkiG9w0BCQQxFgQUVe7Jkumk5GwcQzd25lUA\r\n// SIG // yc/d5RIwDQYJKoZIhvcNAQEFBQAEggEAdzjxFrvSaIOg\r\n// SIG // yAprJaJM+woEGDBYJuPSUegkbH2bctdAIT/6oj6JUUi0\r\n// SIG // mKaJq0O7zRiDilkodrYBvqcWbEOJPVWpU7VYa2ywsSLq\r\n// SIG // GkwopGxqUO1y7zSopAYhu2+PDa/ZA7o2pqmm6Fkx+JYD\r\n// SIG // 2hjOWmex1nvrsrYHCIOgNmLvtlvt9MQmI7zJa/+lgpje\r\n// SIG // xKJvBJ79GgV8zTwZvX1DLw9JnjKzOPosqTNHoqslerPH\r\n// SIG // HDQm8uNpaG1/JQU4tyRLKfjv4pXcC0GaufVTF6thqPfE\r\n// SIG // XEah45pw70smFVF7I1EJeaH1CJ14up7cf4fqdL3aOhTj\r\n// SIG // 0BE7LuV1Vmtbf/mlIMX9KA==\r\n// SIG // End signature block\r\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/node_modules/vs-mda-remote/lib/certs.js":"/********************************************************\r\n*                                                       *\r\n*   Copyright (C) Microsoft. All rights reserved.       *\r\n*                                                       *\r\n********************************************************/\r\n\"use strict\";\r\n\r\nvar exec = require(\"child_process\").exec,\r\n    path = require('path'),\r\n    fs = require('fs'),\r\n    os = require('os'),\r\n    readline = require('readline'),\r\n    Q = require('q'),\r\n    rimraf = require('rimraf'),\r\n    util = require('./util');\r\n\r\nvar certs = exports = module.exports = {};\r\n\r\nvar CERT_DEFAULTS = {\r\n    DAYS: 1825, // 5 years\r\n    COUNTRY: 'US',\r\n    CA_CN: 'vs-mda-remote-Certificate-Authority',\r\n    PFX_NAME: 'vs-mda-remote-Client-Certificate'\r\n};\r\n\r\nvar ONE_DAY_IN_MILLIS = 1000 * 60 * 60 * 24;\r\n\r\ncerts.initializeServerCerts = function(conf) {\r\n    var certsDir = path.join(conf.get('serverDir'), 'certs');\r\n    var certPaths = {\r\n        certsDir: certsDir,\r\n        caKeyPath: path.join(certsDir, 'ca-key.pem'),\r\n        caCertPath: path.join(certsDir, 'ca-cert.pem'),\r\n        serverKeyPath: path.join(certsDir, 'server-key.pem'),\r\n        serverCertPath: path.join(certsDir, 'server-cert.pem')\r\n    };\r\n\r\n    var certsExist = fs.existsSync(certPaths.caCertPath) && fs.existsSync(certPaths.serverKeyPath) && fs.existsSync(certPaths.serverCertPath);\r\n    certPaths.newCerts = !certsExist;\r\n    var promise;\r\n    if (certsExist) {\r\n        promise = certs.isExpired(certPaths.caCertPath).\r\n                    then(function(isExpired) {\r\n                        return isExpired === true || certs.isExpired(certPaths.serverCertPath);\r\n                    });\r\n    } else {\r\n        promise = Q(true); // do not exist, so true -> need making\r\n    }\r\n\r\n    promise = promise.then(function(shouldMake) {\r\n        if (shouldMake === false) {\r\n            return;\r\n        }\r\n        util.createDirectoryIfNecessary(certsDir);\r\n        var options = certOptionsFromConf(conf);\r\n        return certs.makeSelfSigningCACert(certPaths.caKeyPath, certPaths.caCertPath, options).\r\n            then(function() {\r\n                return certs.makeSelfSignedCert(certPaths.caKeyPath, certPaths.caCertPath, certPaths.serverKeyPath, certPaths.serverCertPath, options, conf);\r\n            }).\r\n            then(function() {\r\n                certPaths.newCerts = true;\r\n            });\r\n    }).then(function() {\r\n        return certPaths;\r\n    });\r\n    return promise;\r\n}\r\n\r\n// yesOrNoHandler is for unit testing without interactive user prompt. In production it will be undefined.\r\ncerts.resetServerCert = function(conf, yesOrNoHandler) {\r\n    var certsDir = path.join(conf.get('serverDir'), 'certs');\r\n\r\n    if (!fs.existsSync(certsDir)) {\r\n        return certs.initializeServerCerts(conf);\r\n    }\r\n\r\n    var shouldProceedDeferred = Q.defer();\r\n    yesOrNoHandler = yesOrNoHandler || readline.createInterface({input: process.stdin, output: process.stdout});\r\n    var answerCallback = function(answer) {\r\n        answer = answer.toLowerCase();\r\n        if (answer === 'y' || answer === 'yes') {\r\n            yesOrNoHandler.close();\r\n            shouldProceedDeferred.resolve(true);\r\n        } else if (answer === 'n' || answer === 'no') {\r\n            yesOrNoHandler.close();\r\n            shouldProceedDeferred.resolve(false);\r\n        } else {\r\n            yesOrNoHandler.question('Please answer [Y]es or [N]o.' + os.EOL, answerCallback);\r\n        }\r\n    };\r\n    yesOrNoHandler.question('Warning: This command deletes all current client certificates. ' +\r\n                        'You will need to generate and configure a new security PIN. Do you want to continue? [Y]es or [N]o' + os.EOL, answerCallback);\r\n    return shouldProceedDeferred.promise.\r\n            then(function(shouldProceed) {\r\n                if (shouldProceed == true) {\r\n                    rimraf.sync(certsDir);\r\n                    return certs.initializeServerCerts(conf);\r\n                }\r\n            });\r\n};\r\n\r\ncerts.generateClientCert = function(conf) {\r\n    var certsDir = path.join(conf.get('serverDir'), 'certs');\r\n    var caKeyPath = path.join(certsDir, 'ca-key.pem');\r\n    var caCertPath = path.join(certsDir, 'ca-cert.pem');\r\n    if (!fs.existsSync(caKeyPath) || !fs.existsSync(caCertPath)) {\r\n        return Q(console.info('One or both of required CA files %s and %s not found.', caKeyPath, caCertPath));\r\n    }\r\n    return makeClientPinAndSslCert(caKeyPath, caCertPath, certsDir, certOptionsFromConf(conf), conf).\r\n            then(function(pin) {\r\n                if (util.argToBool(conf.get('suppressVisualStudioMessage'))) {\r\n                    return pin;\r\n                }\r\n                certs.printVisualStudioSetupToConsole(conf, pin);\r\n                return pin;\r\n            });\r\n};\r\n\r\ncerts.printVisualStudioSetupToConsole = function(conf, pin) {\r\n    var host = conf.hostname || os.hostname();\r\n    var port = conf.get('port');\r\n    var pinTimeoutInMinutes = conf.get('pinTimeout');\r\n    console.info('');\r\n    console.info('First Time Setup');\r\n    console.info('---------------------');\r\n    console.info('Use the following information under Tools, Options, Tools for Apache Cordova, Remote Agent Configuration to configure this agent:');\r\n    console.info('');\r\n    console.info('Enable remote iOS processing: True');\r\n    console.info('Host: %s', host || '<IP address of your Mac>');\r\n    console.info('Port: %s', port || '3000 <or specific port you have configured for the agent to use>');\r\n    console.info('Secure mode: True');\r\n    console.info('Security PIN: %d', pin);\r\n    console.info('');\r\n    if (pinTimeoutInMinutes) {\r\n        console.info('The security PIN is for one-time use and expires in %d minutes. To generate additional PINs, use the following command:', pinTimeoutInMinutes);\r\n    } else {\r\n        console.info('The security PIN is for one-time use. To generate additional PINs, use the following command:');\r\n    }\r\n    console.info('vs-mda-remote generateClientCert');\r\n    console.info('');\r\n};\r\n\r\ncerts.removeAllCertsSync = function(conf) {\r\n    var certsDir = path.join(conf.get('serverDir'), 'certs');\r\n    if (fs.existsSync(certsDir)) {\r\n        rimraf.sync(certsDir);\r\n    }\r\n};\r\n\r\ncerts.purgeExpiredPinBasedClientCertsSync = function(conf) {\r\n    var clientCertsDir = path.join(conf.get('serverDir'), 'certs', 'client');\r\n    if (!fs.existsSync(clientCertsDir)) {\r\n        return;\r\n    }\r\n    var pinTimeoutInMinutes = conf.get('pinTimeout');\r\n    var expiredIfOlderThan = new Date().getTime() - (pinTimeoutInMinutes * 60 * 1000);\r\n    fs.readdirSync(clientCertsDir).forEach(function(f) {\r\n        var pfx = path.join(clientCertsDir, f, 'client.pfx');\r\n        if (fs.existsSync(pfx) && fs.statSync(pfx).mtime.getTime() < expiredIfOlderThan) {\r\n            rimraf.sync(path.join(clientCertsDir, f));\r\n        }\r\n    });\r\n};\r\n\r\n// Makes a CA cert that will be used for self-signing our server and client certs.\r\ncerts.makeSelfSigningCACert = function(caKeyPath, caCertPath, options) {\r\n    options = options || {};\r\n    var days = options.days || CERT_DEFAULTS.DAYS;\r\n    var country = options.country || CERT_DEFAULTS.COUNTRY;\r\n    var cn = options.cn || CERT_DEFAULTS.CA_CN;\r\n    return openSslPromise('req -newkey rsa:4096 -x509 -days ' + days + ' -nodes -subj /C=' + country + '/CN=' + cn + ' -keyout ' + caKeyPath + ' -out ' + caCertPath);\r\n};\r\n\r\n// Makes a new private key and certificate signed with the CA.\r\ncerts.makeSelfSignedCert = function(caKeyPath, caCertPath, outKeyPath, outCertPath, options, conf) {\r\n    options = options || {};\r\n    var csrPath = path.join(path.dirname(outCertPath), 'CSR-' + path.basename(outCertPath));\r\n    var days = options.days || CERT_DEFAULTS.DAYS;;\r\n    var cn = options.cn || os.hostname();\r\n    \r\n    var cnfPath = path.join(conf.get('serverDir'), 'certs', 'openssl.cnf');\r\n    certs.writeConfigFile(cnfPath);\r\n\r\n    return openSslPromise('genrsa -out ' + outKeyPath + ' 1024').\r\n        then(function() {\r\n            return openSslPromise('req -new -subj /CN=' + cn + ' -key ' + outKeyPath + ' -out ' + csrPath + ' -config ' + cnfPath);\r\n        }).\r\n        then(function() {\r\n            return openSslPromise('x509 -req -days ' + days + ' -in ' + csrPath + ' -CA ' + caCertPath + ' -CAkey ' + caKeyPath + \r\n                                    ' -extensions v3_req -extfile ' + cnfPath + ' -set_serial 01 -out ' + outCertPath);\r\n        }).\r\n        then(function() {\r\n            fs.unlinkSync(csrPath);\r\n        });\r\n};\r\n\r\ncerts.writeConfigFile = function(cnfPath) {\r\n    var net = os.networkInterfaces();\r\n    var cnf = '[req]\\ndistinguished_name = req_distinguished_name\\nreq_extensions = v3_req\\n[req_distinguished_name]\\nC_default = US\\n[ v3_req ]\\nbasicConstraints = CA:FALSE\\nkeyUsage = nonRepudiation, digitalSignature, keyEncipherment\\nsubjectAltName = @alt_names\\n[alt_names]\\nDNS.1 = ' + os.hostname() + '\\n';\r\n    var count = 1;\r\n\r\n    for (var key in net) {\r\n        for (var i = 0; i < net[key].length; i++) {\r\n            if (net[key][i].address && !net[key][i].internal) {\r\n                cnf += 'IP.' + count + ' = ' + net[key][i].address + '\\n';\r\n                count++;\r\n            }\r\n        }\r\n    }\r\n\r\n    fs.writeFileSync(cnfPath, cnf);\r\n}\r\n\r\ncerts.makePfx = function(caCertPath, keyPath, certPath, outPfxPath, options) {\r\n    options = options || {};\r\n    var name = options.name || CERT_DEFAULTS.PFX_NAME;\r\n    return openSslPromise('pkcs12 -export -in ' + certPath + ' -inkey ' + keyPath + ' -certfile ' + caCertPath + ' -out ' + outPfxPath + \r\n                            ' -name \\'' + name + '\\' -password pass:');\r\n}\r\n\r\ncerts.verifyCert = function(caCertPath, certPath) {\r\n    return openSslPromise('verify -CAfile ' + caCertPath + ' ' + certPath);\r\n};\r\n\r\n// display fields an array of any of these: 'subject', 'issuer', 'dates', etc. (see https://www.openssl.org/docs/apps/x509.html)\r\ncerts.displayCert = function(certPath, displayFields) {\r\n    //openssl x509 -noout -in selfsigned-cert.pem -subject -issuer -dates\r\n    var args = 'x509 -noout -in ' + certPath;\r\n    (displayFields || []).forEach(function(f) {\r\n        args += ' -' + f;\r\n    });\r\n    return openSslPromise(args);\r\n};\r\n\r\ncerts.isExpired = function(certPath) {\r\n    return certs.displayCert(certPath, ['dates']).\r\n            then(function(output) {\r\n                var notAfter = new Date(output.stdout.substring(output.stdout.indexOf('notAfter=')+9, output.stdout.length-1));\r\n                return (notAfter.getTime() < new Date().getTime());\r\n            });\r\n};\r\n\r\ncerts.verbose = false;\r\n\r\nfunction makeClientPinAndSslCert(caKeyPath, caCertPath, certsDir, options, conf) {\r\n    options = options || {};\r\n    options.cn = 'vs-mda-remote-client';\r\n    var clientCertsPath = path.join(certsDir, 'client');\r\n    util.createDirectoryIfNecessary(clientCertsPath);\r\n    // 6 digit random pin (Math.random excludes 1.0)\r\n    var pin = 100000 + Math.floor(Math.random() * 900000);\r\n    var pinDir = path.join(clientCertsPath, '' + pin);\r\n    var pfxPath = path.join(pinDir, 'client.pfx');\r\n    var clientKeyPath = path.join(pinDir, 'client-key.pem');\r\n    var clientCertPath = path.join(pinDir, 'client-cert.pem');\r\n\r\n    util.createDirectoryIfNecessary(pinDir);\r\n    return certs.makeSelfSignedCert(caKeyPath, caCertPath, clientKeyPath, clientCertPath, options, conf).\r\n            then(function() {\r\n                return certs.makePfx(caCertPath, clientKeyPath, clientCertPath, pfxPath);\r\n            }).\r\n            then(function() {\r\n                fs.unlinkSync(clientKeyPath);\r\n                fs.unlinkSync(clientCertPath);\r\n                return pin;\r\n            });\r\n}\r\n\r\nfunction certOptionsFromConf(conf) {\r\n    var options = {};\r\n    if (conf.get('certExpirationDays') < 1) {\r\n        console.info('certExpirationDays %d would result in expired certs. Default cert expiration %d days will be used instead.', conf.get('certExpirationDays'), CERT_DEFAULTS.DAYS);\r\n    } else {\r\n        options.days = conf.get('certExpirationDays');\r\n    }\r\n    return options;\r\n}\r\n\r\nfunction openSslPromise(args) {\r\n    var deferred = Q.defer();\r\n\r\n    exec('openssl ' + args, function(error, stdout, stderr) {\r\n        if (certs.verbose) {\r\n            console.info('exec openssl ' + args);\r\n            console.info('stdout: %s', stdout);\r\n            console.info('stderr: %s', stderr);\r\n        }\r\n        if (error !== null) {\r\n            deferred.reject(error);\r\n        } else {\r\n            deferred.resolve({stdout: stdout, stderr: stderr});\r\n        }\r\n    });\r\n\r\n    return deferred.promise;\r\n}\r\n\r\n// SIG // Begin signature block\r\n// SIG // MIIanwYJKoZIhvcNAQcCoIIakDCCGowCAQExCzAJBgUr\r\n// SIG // DgMCGgUAMGcGCisGAQQBgjcCAQSgWTBXMDIGCisGAQQB\r\n// SIG // gjcCAR4wJAIBAQQQEODJBs441BGiowAQS9NQkAIBAAIB\r\n// SIG // AAIBAAIBAAIBADAhMAkGBSsOAwIaBQAEFLU7j0ZAWXAA\r\n// SIG // suM/P2MIYJz3b2D5oIIVgjCCBMMwggOroAMCAQICEzMA\r\n// SIG // AABw9Bi/IyH8UJ0AAAAAAHAwDQYJKoZIhvcNAQEFBQAw\r\n// SIG // dzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWlj\r\n// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBMB4XDTE1MDMyMDE3\r\n// SIG // MzIwMloXDTE2MDYyMDE3MzIwMlowgbMxCzAJBgNVBAYT\r\n// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH\r\n// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y\r\n// SIG // cG9yYXRpb24xDTALBgNVBAsTBE1PUFIxJzAlBgNVBAsT\r\n// SIG // Hm5DaXBoZXIgRFNFIEVTTjpGNTI4LTM3NzctOEE3NjEl\r\n// SIG // MCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAgU2Vy\r\n// SIG // dmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\r\n// SIG // ggEBAKMU2e8coHkRvS2aBJ0jNIKlQh0rANHSGzEpyCor\r\n// SIG // 8y30bovd4hv4E/TAX3BTr+czD3RKBxRs3CgDuCoKeMRu\r\n// SIG // II4LgG9We5P0cU/C06vG7C2uldBjZ7BkpjQDDOOKrihS\r\n// SIG // Apk1+Txk2ysyd8I07lIeX5cGdAl/8KL31ZHq3GLbU4ZH\r\n// SIG // bowBW+Ile3j8PXKDIntZk6Kvk8kYLuf2ClQOmA1lBld3\r\n// SIG // k5GvlK+EvrhvrYT0+xXik+LYSDZ1WTIBDXF2AJVJaWzU\r\n// SIG // xjY6WjDQwMpzieaU9iMeEmBRAAjB3to/SITtta/U05o4\r\n// SIG // lam6o1i1eGhGvw+MY3G+OkNDWRDwSrp71uUGE90CAwEA\r\n// SIG // AaOCAQkwggEFMB0GA1UdDgQWBBRtz/O4hK73zHa9uHus\r\n// SIG // PZdhgXQrJzAfBgNVHSMEGDAWgBQjNPjZUkZwCu1A+3b7\r\n// SIG // syuwwzWzDzBUBgNVHR8ETTBLMEmgR6BFhkNodHRwOi8v\r\n// SIG // Y3JsLm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0\r\n// SIG // cy9NaWNyb3NvZnRUaW1lU3RhbXBQQ0EuY3JsMFgGCCsG\r\n// SIG // AQUFBwEBBEwwSjBIBggrBgEFBQcwAoY8aHR0cDovL3d3\r\n// SIG // dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3Nv\r\n// SIG // ZnRUaW1lU3RhbXBQQ0EuY3J0MBMGA1UdJQQMMAoGCCsG\r\n// SIG // AQUFBwMIMA0GCSqGSIb3DQEBBQUAA4IBAQBeOir1Z/QF\r\n// SIG // MCre4bnvZ/wq/25yKZ+efMcTw6PljjwE6SYVTffCZ4Jc\r\n// SIG // ClvFCu5V8KMtjqIdorMsLdAR4poqAdEwJmehpm6JMRxu\r\n// SIG // 3cRxVPAJot3B1jZzwAz/VQhr/KGU/V0sJyHs0SMG3AQs\r\n// SIG // 77kC2wO7R3MYCut9mc1fBuCI94qTxRIRG/NSlaNyoNJY\r\n// SIG // 2cMs4mt/d9RjU+qCuC9HZCiYx4M78WsoYfgKiIJFUpLp\r\n// SIG // gyZJXLfOPJp/r6BRk8W8usvRK7W7kBkKpqdqfvj9FX5G\r\n// SIG // RIelBtT8SnA4xui1SvTbri/sQ8mJoijFVdnBuluqYLul\r\n// SIG // u/nVAo4OD23CNXDAqOwNobK4MIIE7DCCA9SgAwIBAgIT\r\n// SIG // MwAAAMps1TISNcThVQABAAAAyjANBgkqhkiG9w0BAQUF\r\n// SIG // ADB5MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu\r\n// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV\r\n// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSMwIQYDVQQDExpN\r\n// SIG // aWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQTAeFw0xNDA0\r\n// SIG // MjIxNzM5MDBaFw0xNTA3MjIxNzM5MDBaMIGDMQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMQ0wCwYDVQQLEwRNT1BSMR4wHAYD\r\n// SIG // VQQDExVNaWNyb3NvZnQgQ29ycG9yYXRpb24wggEiMA0G\r\n// SIG // CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCWcV3tBkb6\r\n// SIG // hMudW7dGx7DhtBE5A62xFXNgnOuntm4aPD//ZeM08aal\r\n// SIG // IV5WmWxY5JKhClzC09xSLwxlmiBhQFMxnGyPIX26+f4T\r\n// SIG // UFJglTpbuVildGFBqZTgrSZOTKGXcEknXnxnyk8ecYRG\r\n// SIG // vB1LtuIPxcYnyQfmegqlFwAZTHBFOC2BtFCqxWfR+nm8\r\n// SIG // xcyhcpv0JTSY+FTfEjk4Ei+ka6Wafsdi0dzP7T00+Lnf\r\n// SIG // NTC67HkyqeGprFVNTH9MVsMTC3bxB/nMR6z7iNVSpR4o\r\n// SIG // +j0tz8+EmIZxZRHPhckJRIbhb+ex/KxARKWpiyM/gkmd\r\n// SIG // 1ZZZUBNZGHP/QwytK9R/MEBnAgMBAAGjggFgMIIBXDAT\r\n// SIG // BgNVHSUEDDAKBggrBgEFBQcDAzAdBgNVHQ4EFgQUH17i\r\n// SIG // XVCNVoa+SjzPBOinh7XLv4MwUQYDVR0RBEowSKRGMEQx\r\n// SIG // DTALBgNVBAsTBE1PUFIxMzAxBgNVBAUTKjMxNTk1K2I0\r\n// SIG // MjE4ZjEzLTZmY2EtNDkwZi05YzQ3LTNmYzU1N2RmYzQ0\r\n// SIG // MDAfBgNVHSMEGDAWgBTLEejK0rQWWAHJNy4zFha5TJoK\r\n// SIG // HzBWBgNVHR8ETzBNMEugSaBHhkVodHRwOi8vY3JsLm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0cy9NaWND\r\n// SIG // b2RTaWdQQ0FfMDgtMzEtMjAxMC5jcmwwWgYIKwYBBQUH\r\n// SIG // AQEETjBMMEoGCCsGAQUFBzAChj5odHRwOi8vd3d3Lm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NlcnRzL01pY0NvZFNpZ1BD\r\n// SIG // QV8wOC0zMS0yMDEwLmNydDANBgkqhkiG9w0BAQUFAAOC\r\n// SIG // AQEAd1zr15E9zb17g9mFqbBDnXN8F8kP7Tbbx7UsG177\r\n// SIG // VAU6g3FAgQmit3EmXtZ9tmw7yapfXQMYKh0nfgfpxWUf\r\n// SIG // tc8Nt1THKDhaiOd7wRm2VjK64szLk9uvbg9dRPXUsO8b\r\n// SIG // 1U7Brw7vIJvy4f4nXejF/2H2GdIoCiKd381wgp4Yctgj\r\n// SIG // zHosQ+7/6sDg5h2qnpczAFJvB7jTiGzepAY1p8JThmUR\r\n// SIG // dwmPNVm52IaoAP74MX0s9IwFncDB1XdybOlNWSaD8cKy\r\n// SIG // iFeTNQB8UCu8Wfz+HCk4gtPeUpdFKRhOlludul8bo/En\r\n// SIG // UOoHlehtNA04V9w3KDWVOjic1O1qhV0OIhFeezCCBbww\r\n// SIG // ggOkoAMCAQICCmEzJhoAAAAAADEwDQYJKoZIhvcNAQEF\r\n// SIG // BQAwXzETMBEGCgmSJomT8ixkARkWA2NvbTEZMBcGCgmS\r\n// SIG // JomT8ixkARkWCW1pY3Jvc29mdDEtMCsGA1UEAxMkTWlj\r\n// SIG // cm9zb2Z0IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5\r\n// SIG // MB4XDTEwMDgzMTIyMTkzMloXDTIwMDgzMTIyMjkzMlow\r\n// SIG // eTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEjMCEGA1UEAxMaTWlj\r\n// SIG // cm9zb2Z0IENvZGUgU2lnbmluZyBQQ0EwggEiMA0GCSqG\r\n// SIG // SIb3DQEBAQUAA4IBDwAwggEKAoIBAQCycllcGTBkvx2a\r\n// SIG // YCAgQpl2U2w+G9ZvzMvx6mv+lxYQ4N86dIMaty+gMuz/\r\n// SIG // 3sJCTiPVcgDbNVcKicquIEn08GisTUuNpb15S3GbRwfa\r\n// SIG // /SXfnXWIz6pzRH/XgdvzvfI2pMlcRdyvrT3gKGiXGqel\r\n// SIG // cnNW8ReU5P01lHKg1nZfHndFg4U4FtBzWwW6Z1KNpbJp\r\n// SIG // L9oZC/6SdCnidi9U3RQwWfjSjWL9y8lfRjFQuScT5EAw\r\n// SIG // z3IpECgixzdOPaAyPZDNoTgGhVxOVoIoKgUyt0vXT2Pn\r\n// SIG // 0i1i8UU956wIAPZGoZ7RW4wmU+h6qkryRs83PDietHdc\r\n// SIG // pReejcsRj1Y8wawJXwPTAgMBAAGjggFeMIIBWjAPBgNV\r\n// SIG // HRMBAf8EBTADAQH/MB0GA1UdDgQWBBTLEejK0rQWWAHJ\r\n// SIG // Ny4zFha5TJoKHzALBgNVHQ8EBAMCAYYwEgYJKwYBBAGC\r\n// SIG // NxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU/dExTtMm\r\n// SIG // ipXhmGA7qDFvpjy82C0wGQYJKwYBBAGCNxQCBAweCgBT\r\n// SIG // AHUAYgBDAEEwHwYDVR0jBBgwFoAUDqyCYEBWJ5flJRP8\r\n// SIG // KuEKU5VZ5KQwUAYDVR0fBEkwRzBFoEOgQYY/aHR0cDov\r\n// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj\r\n// SIG // dHMvbWljcm9zb2Z0cm9vdGNlcnQuY3JsMFQGCCsGAQUF\r\n// SIG // BwEBBEgwRjBEBggrBgEFBQcwAoY4aHR0cDovL3d3dy5t\r\n// SIG // aWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3NvZnRS\r\n// SIG // b290Q2VydC5jcnQwDQYJKoZIhvcNAQEFBQADggIBAFk5\r\n// SIG // Pn8mRq/rb0CxMrVq6w4vbqhJ9+tfde1MOy3XQ60L/svp\r\n// SIG // LTGjI8x8UJiAIV2sPS9MuqKoVpzjcLu4tPh5tUly9z7q\r\n// SIG // QX/K4QwXaculnCAt+gtQxFbNLeNK0rxw56gNogOlVuC4\r\n// SIG // iktX8pVCnPHz7+7jhh80PLhWmvBTI4UqpIIck+KUBx3y\r\n// SIG // 4k74jKHK6BOlkU7IG9KPcpUqcW2bGvgc8FPWZ8wi/1wd\r\n// SIG // zaKMvSeyeWNWRKJRzfnpo1hW3ZsCRUQvX/TartSCMm78\r\n// SIG // pJUT5Otp56miLL7IKxAOZY6Z2/Wi+hImCWU4lPF6H0q7\r\n// SIG // 0eFW6NB4lhhcyTUWX92THUmOLb6tNEQc7hAVGgBd3TVb\r\n// SIG // Ic6YxwnuhQ6MT20OE049fClInHLR82zKwexwo1eSV32U\r\n// SIG // jaAbSANa98+jZwp0pTbtLS8XyOZyNxL0b7E8Z4L5UrKN\r\n// SIG // MxZlHg6K3RDeZPRvzkbU0xfpecQEtNP7LN8fip6sCvsT\r\n// SIG // J0Ct5PnhqX9GuwdgR2VgQE6wQuxO7bN2edgKNAltHIAx\r\n// SIG // H+IOVN3lofvlRxCtZJj/UBYufL8FIXrilUEnacOTj5XJ\r\n// SIG // jdibIa4NXJzwoq6GaIMMai27dmsAHZat8hZ79haDJLmI\r\n// SIG // z2qoRzEvmtzjcT3XAH5iR9HOiMm4GPoOco3Boz2vAkBq\r\n// SIG // /2mbluIQqBC0N1AI1sM9MIIGBzCCA++gAwIBAgIKYRZo\r\n// SIG // NAAAAAAAHDANBgkqhkiG9w0BAQUFADBfMRMwEQYKCZIm\r\n// SIG // iZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJbWlj\r\n// SIG // cm9zb2Z0MS0wKwYDVQQDEyRNaWNyb3NvZnQgUm9vdCBD\r\n// SIG // ZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMDcwNDAzMTI1\r\n// SIG // MzA5WhcNMjEwNDAzMTMwMzA5WjB3MQswCQYDVQQGEwJV\r\n// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH\r\n// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv\r\n// SIG // cmF0aW9uMSEwHwYDVQQDExhNaWNyb3NvZnQgVGltZS1T\r\n// SIG // dGFtcCBQQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\r\n// SIG // ggEKAoIBAQCfoWyx39tIkip8ay4Z4b3i48WZUSNQrc7d\r\n// SIG // GE4kD+7Rp9FMrXQwIBHrB9VUlRVJlBtCkq6YXDAm2gBr\r\n// SIG // 6Hu97IkHD/cOBJjwicwfyzMkh53y9GccLPx754gd6udO\r\n// SIG // o6HBI1PKjfpFzwnQXq/QsEIEovmmbJNn1yjcRlOwhtDl\r\n// SIG // KEYuJ6yGT1VSDOQDLPtqkJAwbofzWTCd+n7Wl7PoIZd+\r\n// SIG // +NIT8wi3U21StEWQn0gASkdmEScpZqiX5NMGgUqi+YSn\r\n// SIG // EUcUCYKfhO1VeP4Bmh1QCIUAEDBG7bfeI0a7xC1Un68e\r\n// SIG // eEExd8yb3zuDk6FhArUdDbH895uyAc4iS1T/+QXDwiAL\r\n// SIG // AgMBAAGjggGrMIIBpzAPBgNVHRMBAf8EBTADAQH/MB0G\r\n// SIG // A1UdDgQWBBQjNPjZUkZwCu1A+3b7syuwwzWzDzALBgNV\r\n// SIG // HQ8EBAMCAYYwEAYJKwYBBAGCNxUBBAMCAQAwgZgGA1Ud\r\n// SIG // IwSBkDCBjYAUDqyCYEBWJ5flJRP8KuEKU5VZ5KShY6Rh\r\n// SIG // MF8xEzARBgoJkiaJk/IsZAEZFgNjb20xGTAXBgoJkiaJ\r\n// SIG // k/IsZAEZFgltaWNyb3NvZnQxLTArBgNVBAMTJE1pY3Jv\r\n// SIG // c29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eYIQ\r\n// SIG // ea0WoUqgpa1Mc1j0BxMuZTBQBgNVHR8ESTBHMEWgQ6BB\r\n// SIG // hj9odHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpL2Ny\r\n// SIG // bC9wcm9kdWN0cy9taWNyb3NvZnRyb290Y2VydC5jcmww\r\n// SIG // VAYIKwYBBQUHAQEESDBGMEQGCCsGAQUFBzAChjhodHRw\r\n// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL2NlcnRzL01p\r\n// SIG // Y3Jvc29mdFJvb3RDZXJ0LmNydDATBgNVHSUEDDAKBggr\r\n// SIG // BgEFBQcDCDANBgkqhkiG9w0BAQUFAAOCAgEAEJeKw1wD\r\n// SIG // RDbd6bStd9vOeVFNAbEudHFbbQwTq86+e4+4LtQSooxt\r\n// SIG // YrhXAstOIBNQmd16QOJXu69YmhzhHQGGrLt48ovQ7DsB\r\n// SIG // 7uK+jwoFyI1I4vBTFd1Pq5Lk541q1YDB5pTyBi+FA+mR\r\n// SIG // KiQicPv2/OR4mS4N9wficLwYTp2OawpylbihOZxnLcVR\r\n// SIG // DupiXD8WmIsgP+IHGjL5zDFKdjE9K3ILyOpwPf+FChPf\r\n// SIG // wgphjvDXuBfrTot/xTUrXqO/67x9C0J71FNyIe4wyrt4\r\n// SIG // ZVxbARcKFA7S2hSY9Ty5ZlizLS/n+YWGzFFW6J1wlGys\r\n// SIG // OUzU9nm/qhh6YinvopspNAZ3GmLJPR5tH4LwC8csu89D\r\n// SIG // s+X57H2146SodDW4TsVxIxImdgs8UoxxWkZDFLyzs7BN\r\n// SIG // Z8ifQv+AeSGAnhUwZuhCEl4ayJ4iIdBD6Svpu/RIzCzU\r\n// SIG // 2DKATCYqSCRfWupW76bemZ3KOm+9gSd0BhHudiG/m4LB\r\n// SIG // J1S2sWo9iaF2YbRuoROmv6pH8BJv/YoybLL+31HIjCPJ\r\n// SIG // Zr2dHYcSZAI9La9Zj7jkIeW1sMpjtHhUBdRBLlCslLCl\r\n// SIG // eKuzoJZ1GtmShxN1Ii8yqAhuoFuMJb+g74TKIdbrHk/J\r\n// SIG // mu5J4PcBZW+JC33Iacjmbuqnl84xKf8OxVtc2E0bodj6\r\n// SIG // L54/LlUWa8kTo/0xggSJMIIEhQIBATCBkDB5MQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMSMwIQYDVQQDExpNaWNyb3NvZnQg\r\n// SIG // Q29kZSBTaWduaW5nIFBDQQITMwAAAMps1TISNcThVQAB\r\n// SIG // AAAAyjAJBgUrDgMCGgUAoIGiMBkGCSqGSIb3DQEJAzEM\r\n// SIG // BgorBgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAMBgor\r\n// SIG // BgEEAYI3AgEVMCMGCSqGSIb3DQEJBDEWBBTUPwDsBCGG\r\n// SIG // yIad25V/oxqSZnxyjTBCBgorBgEEAYI3AgEMMTQwMqAS\r\n// SIG // gBAAYwBlAHIAdABzAC4AagBzoRyAGmh0dHA6Ly9leHBy\r\n// SIG // ZXNzaW9uL2NlcnRzLmpzMA0GCSqGSIb3DQEBAQUABIIB\r\n// SIG // AD9rE1iXyEY9zPZ9A+U7Hn9eTI160/wcvXWGjcBV/Utj\r\n// SIG // aCFZZHc13szkCiUftrSAaV9UtYE48LNVIRKt6IrQp/Pp\r\n// SIG // OR8cSQK/ybX+TpfZTXrBeKxGPzXA5uhaDlDHwacpA78v\r\n// SIG // yc/LW24zPCWU6GAiS1dZckFIqJu3w4SWL3xrqlCpgxdI\r\n// SIG // zAn7N8o2n2+iy8uO8Qf9+MQwruZG8c1pbR+FcD/P+gr5\r\n// SIG // mA64EOtlmyUCU6uv6mTMa2xhucBfe/ryemqKNvrH8Jge\r\n// SIG // FXzrYk+65ilMeMYzEV8hYlyVmH1uBUvBzon3zOpIpwQP\r\n// SIG // JTNrH+o5nuTWKlELwsuYVO/tqeOZGep+cgWhggIoMIIC\r\n// SIG // JAYJKoZIhvcNAQkGMYICFTCCAhECAQEwgY4wdzELMAkG\r\n// SIG // A1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAO\r\n// SIG // BgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29m\r\n// SIG // dCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWljcm9zb2Z0\r\n// SIG // IFRpbWUtU3RhbXAgUENBAhMzAAAAcPQYvyMh/FCdAAAA\r\n// SIG // AABwMAkGBSsOAwIaBQCgXTAYBgkqhkiG9w0BCQMxCwYJ\r\n// SIG // KoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0xNTA0MjMw\r\n// SIG // MjA1MzVaMCMGCSqGSIb3DQEJBDEWBBTBeKzAe0hKmOTJ\r\n// SIG // DMZgUD3u6i6eSTANBgkqhkiG9w0BAQUFAASCAQA4jQsa\r\n// SIG // FZroY41LWERvsq93Bg6s2bZwVGlNlwKcg7sEy+DLcxgs\r\n// SIG // 5la42MFTwdodxhjEDc5KE2/NWrlhDkSx2/uhOSF8kRJ5\r\n// SIG // avdpgtHRtSc6OKfQq7hhmteL3u1sS3hQoodkb+bI9NCw\r\n// SIG // zE1dIaEM+P9LBLG3ECy4nsm5vqsJ/bYfBI73qLW3gGtC\r\n// SIG // GRJ10O1kSnwAIFisLL7sHdMdjq4xfyMaP2tISLEEiQ+O\r\n// SIG // UTM/mIerSdvSfhAzpkjKIu31zi44qIDotEcLi0qoCKsK\r\n// SIG // hNyR3YsUZvhIaEzOZjaWlkvey8MxSRoie1Mlxwxi1CQA\r\n// SIG // gn0oKx40pvhuzkuPNjVUbYfRg2fB\r\n// SIG // End signature block\r\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/node_modules/vs-mda-remote/lib/CordovaConfig.js":"/********************************************************\n*                                                       *\n*   Copyright (C) Microsoft. All rights reserved.       *\n*                                                       *\n********************************************************/\n\"use strict\";\n\nvar et = require('elementtree'),\n    path = require('path'),\n\tutil = require('./util'),\n\tunorm = require('unorm');\n\nfunction CordovaConfig(configXmlPath) {\n    var contents = util.readFileContentsSync(configXmlPath, 'utf-8');\n    this.doc = new et.ElementTree(et.XML(contents));\n}\n\nfunction getNodeTextSafe(doc, nodeName) {\n    var el = doc.find(nodeName);\n    return el && el.text && el.text.trim().normalize();\n}\n\nfunction getRootAttributeValueSafe(doc, attribName) {\n    var el = doc.getroot();\n    return el && el.attrib && el.attrib[attribName];\r\n}\n\nfunction getPreferences(doc) {\r\n    var data = {};\r\n    \r\n    var preferences = doc.findall('preference');\r\n    preferences.forEach(function (preference) {\r\n        data[preference.attrib['name']] = preference.attrib['value'];\r\n    });\r\n    \r\n    return data;\r\n}\n\nCordovaConfig.prototype = {\n    id: function() {\n        return this.doc.getroot().attrib.id;\n    },\n    name: function() {\n        return getNodeTextSafe(this.doc, 'name');\n    },\n    version: function() {\n        return getRootAttributeValueSafe(this.doc, 'version');\r\n    },\n    preferences: function() {\r\n\t    return getPreferences(this.doc);\r\n    },\n};\n\nmodule.exports = CordovaConfig;\n\r\n// SIG // Begin signature block\r\n// SIG // MIIatwYJKoZIhvcNAQcCoIIaqDCCGqQCAQExCzAJBgUr\r\n// SIG // DgMCGgUAMGcGCisGAQQBgjcCAQSgWTBXMDIGCisGAQQB\r\n// SIG // gjcCAR4wJAIBAQQQEODJBs441BGiowAQS9NQkAIBAAIB\r\n// SIG // AAIBAAIBAAIBADAhMAkGBSsOAwIaBQAEFLXx0UcVYo5u\r\n// SIG // 6ypkayMoBobnTNC6oIIVgjCCBMMwggOroAMCAQICEzMA\r\n// SIG // AABw9Bi/IyH8UJ0AAAAAAHAwDQYJKoZIhvcNAQEFBQAw\r\n// SIG // dzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWlj\r\n// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBMB4XDTE1MDMyMDE3\r\n// SIG // MzIwMloXDTE2MDYyMDE3MzIwMlowgbMxCzAJBgNVBAYT\r\n// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH\r\n// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y\r\n// SIG // cG9yYXRpb24xDTALBgNVBAsTBE1PUFIxJzAlBgNVBAsT\r\n// SIG // Hm5DaXBoZXIgRFNFIEVTTjpGNTI4LTM3NzctOEE3NjEl\r\n// SIG // MCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAgU2Vy\r\n// SIG // dmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\r\n// SIG // ggEBAKMU2e8coHkRvS2aBJ0jNIKlQh0rANHSGzEpyCor\r\n// SIG // 8y30bovd4hv4E/TAX3BTr+czD3RKBxRs3CgDuCoKeMRu\r\n// SIG // II4LgG9We5P0cU/C06vG7C2uldBjZ7BkpjQDDOOKrihS\r\n// SIG // Apk1+Txk2ysyd8I07lIeX5cGdAl/8KL31ZHq3GLbU4ZH\r\n// SIG // bowBW+Ile3j8PXKDIntZk6Kvk8kYLuf2ClQOmA1lBld3\r\n// SIG // k5GvlK+EvrhvrYT0+xXik+LYSDZ1WTIBDXF2AJVJaWzU\r\n// SIG // xjY6WjDQwMpzieaU9iMeEmBRAAjB3to/SITtta/U05o4\r\n// SIG // lam6o1i1eGhGvw+MY3G+OkNDWRDwSrp71uUGE90CAwEA\r\n// SIG // AaOCAQkwggEFMB0GA1UdDgQWBBRtz/O4hK73zHa9uHus\r\n// SIG // PZdhgXQrJzAfBgNVHSMEGDAWgBQjNPjZUkZwCu1A+3b7\r\n// SIG // syuwwzWzDzBUBgNVHR8ETTBLMEmgR6BFhkNodHRwOi8v\r\n// SIG // Y3JsLm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0\r\n// SIG // cy9NaWNyb3NvZnRUaW1lU3RhbXBQQ0EuY3JsMFgGCCsG\r\n// SIG // AQUFBwEBBEwwSjBIBggrBgEFBQcwAoY8aHR0cDovL3d3\r\n// SIG // dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3Nv\r\n// SIG // ZnRUaW1lU3RhbXBQQ0EuY3J0MBMGA1UdJQQMMAoGCCsG\r\n// SIG // AQUFBwMIMA0GCSqGSIb3DQEBBQUAA4IBAQBeOir1Z/QF\r\n// SIG // MCre4bnvZ/wq/25yKZ+efMcTw6PljjwE6SYVTffCZ4Jc\r\n// SIG // ClvFCu5V8KMtjqIdorMsLdAR4poqAdEwJmehpm6JMRxu\r\n// SIG // 3cRxVPAJot3B1jZzwAz/VQhr/KGU/V0sJyHs0SMG3AQs\r\n// SIG // 77kC2wO7R3MYCut9mc1fBuCI94qTxRIRG/NSlaNyoNJY\r\n// SIG // 2cMs4mt/d9RjU+qCuC9HZCiYx4M78WsoYfgKiIJFUpLp\r\n// SIG // gyZJXLfOPJp/r6BRk8W8usvRK7W7kBkKpqdqfvj9FX5G\r\n// SIG // RIelBtT8SnA4xui1SvTbri/sQ8mJoijFVdnBuluqYLul\r\n// SIG // u/nVAo4OD23CNXDAqOwNobK4MIIE7DCCA9SgAwIBAgIT\r\n// SIG // MwAAAMps1TISNcThVQABAAAAyjANBgkqhkiG9w0BAQUF\r\n// SIG // ADB5MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu\r\n// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV\r\n// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSMwIQYDVQQDExpN\r\n// SIG // aWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQTAeFw0xNDA0\r\n// SIG // MjIxNzM5MDBaFw0xNTA3MjIxNzM5MDBaMIGDMQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMQ0wCwYDVQQLEwRNT1BSMR4wHAYD\r\n// SIG // VQQDExVNaWNyb3NvZnQgQ29ycG9yYXRpb24wggEiMA0G\r\n// SIG // CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCWcV3tBkb6\r\n// SIG // hMudW7dGx7DhtBE5A62xFXNgnOuntm4aPD//ZeM08aal\r\n// SIG // IV5WmWxY5JKhClzC09xSLwxlmiBhQFMxnGyPIX26+f4T\r\n// SIG // UFJglTpbuVildGFBqZTgrSZOTKGXcEknXnxnyk8ecYRG\r\n// SIG // vB1LtuIPxcYnyQfmegqlFwAZTHBFOC2BtFCqxWfR+nm8\r\n// SIG // xcyhcpv0JTSY+FTfEjk4Ei+ka6Wafsdi0dzP7T00+Lnf\r\n// SIG // NTC67HkyqeGprFVNTH9MVsMTC3bxB/nMR6z7iNVSpR4o\r\n// SIG // +j0tz8+EmIZxZRHPhckJRIbhb+ex/KxARKWpiyM/gkmd\r\n// SIG // 1ZZZUBNZGHP/QwytK9R/MEBnAgMBAAGjggFgMIIBXDAT\r\n// SIG // BgNVHSUEDDAKBggrBgEFBQcDAzAdBgNVHQ4EFgQUH17i\r\n// SIG // XVCNVoa+SjzPBOinh7XLv4MwUQYDVR0RBEowSKRGMEQx\r\n// SIG // DTALBgNVBAsTBE1PUFIxMzAxBgNVBAUTKjMxNTk1K2I0\r\n// SIG // MjE4ZjEzLTZmY2EtNDkwZi05YzQ3LTNmYzU1N2RmYzQ0\r\n// SIG // MDAfBgNVHSMEGDAWgBTLEejK0rQWWAHJNy4zFha5TJoK\r\n// SIG // HzBWBgNVHR8ETzBNMEugSaBHhkVodHRwOi8vY3JsLm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0cy9NaWND\r\n// SIG // b2RTaWdQQ0FfMDgtMzEtMjAxMC5jcmwwWgYIKwYBBQUH\r\n// SIG // AQEETjBMMEoGCCsGAQUFBzAChj5odHRwOi8vd3d3Lm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NlcnRzL01pY0NvZFNpZ1BD\r\n// SIG // QV8wOC0zMS0yMDEwLmNydDANBgkqhkiG9w0BAQUFAAOC\r\n// SIG // AQEAd1zr15E9zb17g9mFqbBDnXN8F8kP7Tbbx7UsG177\r\n// SIG // VAU6g3FAgQmit3EmXtZ9tmw7yapfXQMYKh0nfgfpxWUf\r\n// SIG // tc8Nt1THKDhaiOd7wRm2VjK64szLk9uvbg9dRPXUsO8b\r\n// SIG // 1U7Brw7vIJvy4f4nXejF/2H2GdIoCiKd381wgp4Yctgj\r\n// SIG // zHosQ+7/6sDg5h2qnpczAFJvB7jTiGzepAY1p8JThmUR\r\n// SIG // dwmPNVm52IaoAP74MX0s9IwFncDB1XdybOlNWSaD8cKy\r\n// SIG // iFeTNQB8UCu8Wfz+HCk4gtPeUpdFKRhOlludul8bo/En\r\n// SIG // UOoHlehtNA04V9w3KDWVOjic1O1qhV0OIhFeezCCBbww\r\n// SIG // ggOkoAMCAQICCmEzJhoAAAAAADEwDQYJKoZIhvcNAQEF\r\n// SIG // BQAwXzETMBEGCgmSJomT8ixkARkWA2NvbTEZMBcGCgmS\r\n// SIG // JomT8ixkARkWCW1pY3Jvc29mdDEtMCsGA1UEAxMkTWlj\r\n// SIG // cm9zb2Z0IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5\r\n// SIG // MB4XDTEwMDgzMTIyMTkzMloXDTIwMDgzMTIyMjkzMlow\r\n// SIG // eTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEjMCEGA1UEAxMaTWlj\r\n// SIG // cm9zb2Z0IENvZGUgU2lnbmluZyBQQ0EwggEiMA0GCSqG\r\n// SIG // SIb3DQEBAQUAA4IBDwAwggEKAoIBAQCycllcGTBkvx2a\r\n// SIG // YCAgQpl2U2w+G9ZvzMvx6mv+lxYQ4N86dIMaty+gMuz/\r\n// SIG // 3sJCTiPVcgDbNVcKicquIEn08GisTUuNpb15S3GbRwfa\r\n// SIG // /SXfnXWIz6pzRH/XgdvzvfI2pMlcRdyvrT3gKGiXGqel\r\n// SIG // cnNW8ReU5P01lHKg1nZfHndFg4U4FtBzWwW6Z1KNpbJp\r\n// SIG // L9oZC/6SdCnidi9U3RQwWfjSjWL9y8lfRjFQuScT5EAw\r\n// SIG // z3IpECgixzdOPaAyPZDNoTgGhVxOVoIoKgUyt0vXT2Pn\r\n// SIG // 0i1i8UU956wIAPZGoZ7RW4wmU+h6qkryRs83PDietHdc\r\n// SIG // pReejcsRj1Y8wawJXwPTAgMBAAGjggFeMIIBWjAPBgNV\r\n// SIG // HRMBAf8EBTADAQH/MB0GA1UdDgQWBBTLEejK0rQWWAHJ\r\n// SIG // Ny4zFha5TJoKHzALBgNVHQ8EBAMCAYYwEgYJKwYBBAGC\r\n// SIG // NxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU/dExTtMm\r\n// SIG // ipXhmGA7qDFvpjy82C0wGQYJKwYBBAGCNxQCBAweCgBT\r\n// SIG // AHUAYgBDAEEwHwYDVR0jBBgwFoAUDqyCYEBWJ5flJRP8\r\n// SIG // KuEKU5VZ5KQwUAYDVR0fBEkwRzBFoEOgQYY/aHR0cDov\r\n// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj\r\n// SIG // dHMvbWljcm9zb2Z0cm9vdGNlcnQuY3JsMFQGCCsGAQUF\r\n// SIG // BwEBBEgwRjBEBggrBgEFBQcwAoY4aHR0cDovL3d3dy5t\r\n// SIG // aWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3NvZnRS\r\n// SIG // b290Q2VydC5jcnQwDQYJKoZIhvcNAQEFBQADggIBAFk5\r\n// SIG // Pn8mRq/rb0CxMrVq6w4vbqhJ9+tfde1MOy3XQ60L/svp\r\n// SIG // LTGjI8x8UJiAIV2sPS9MuqKoVpzjcLu4tPh5tUly9z7q\r\n// SIG // QX/K4QwXaculnCAt+gtQxFbNLeNK0rxw56gNogOlVuC4\r\n// SIG // iktX8pVCnPHz7+7jhh80PLhWmvBTI4UqpIIck+KUBx3y\r\n// SIG // 4k74jKHK6BOlkU7IG9KPcpUqcW2bGvgc8FPWZ8wi/1wd\r\n// SIG // zaKMvSeyeWNWRKJRzfnpo1hW3ZsCRUQvX/TartSCMm78\r\n// SIG // pJUT5Otp56miLL7IKxAOZY6Z2/Wi+hImCWU4lPF6H0q7\r\n// SIG // 0eFW6NB4lhhcyTUWX92THUmOLb6tNEQc7hAVGgBd3TVb\r\n// SIG // Ic6YxwnuhQ6MT20OE049fClInHLR82zKwexwo1eSV32U\r\n// SIG // jaAbSANa98+jZwp0pTbtLS8XyOZyNxL0b7E8Z4L5UrKN\r\n// SIG // MxZlHg6K3RDeZPRvzkbU0xfpecQEtNP7LN8fip6sCvsT\r\n// SIG // J0Ct5PnhqX9GuwdgR2VgQE6wQuxO7bN2edgKNAltHIAx\r\n// SIG // H+IOVN3lofvlRxCtZJj/UBYufL8FIXrilUEnacOTj5XJ\r\n// SIG // jdibIa4NXJzwoq6GaIMMai27dmsAHZat8hZ79haDJLmI\r\n// SIG // z2qoRzEvmtzjcT3XAH5iR9HOiMm4GPoOco3Boz2vAkBq\r\n// SIG // /2mbluIQqBC0N1AI1sM9MIIGBzCCA++gAwIBAgIKYRZo\r\n// SIG // NAAAAAAAHDANBgkqhkiG9w0BAQUFADBfMRMwEQYKCZIm\r\n// SIG // iZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJbWlj\r\n// SIG // cm9zb2Z0MS0wKwYDVQQDEyRNaWNyb3NvZnQgUm9vdCBD\r\n// SIG // ZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMDcwNDAzMTI1\r\n// SIG // MzA5WhcNMjEwNDAzMTMwMzA5WjB3MQswCQYDVQQGEwJV\r\n// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH\r\n// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv\r\n// SIG // cmF0aW9uMSEwHwYDVQQDExhNaWNyb3NvZnQgVGltZS1T\r\n// SIG // dGFtcCBQQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\r\n// SIG // ggEKAoIBAQCfoWyx39tIkip8ay4Z4b3i48WZUSNQrc7d\r\n// SIG // GE4kD+7Rp9FMrXQwIBHrB9VUlRVJlBtCkq6YXDAm2gBr\r\n// SIG // 6Hu97IkHD/cOBJjwicwfyzMkh53y9GccLPx754gd6udO\r\n// SIG // o6HBI1PKjfpFzwnQXq/QsEIEovmmbJNn1yjcRlOwhtDl\r\n// SIG // KEYuJ6yGT1VSDOQDLPtqkJAwbofzWTCd+n7Wl7PoIZd+\r\n// SIG // +NIT8wi3U21StEWQn0gASkdmEScpZqiX5NMGgUqi+YSn\r\n// SIG // EUcUCYKfhO1VeP4Bmh1QCIUAEDBG7bfeI0a7xC1Un68e\r\n// SIG // eEExd8yb3zuDk6FhArUdDbH895uyAc4iS1T/+QXDwiAL\r\n// SIG // AgMBAAGjggGrMIIBpzAPBgNVHRMBAf8EBTADAQH/MB0G\r\n// SIG // A1UdDgQWBBQjNPjZUkZwCu1A+3b7syuwwzWzDzALBgNV\r\n// SIG // HQ8EBAMCAYYwEAYJKwYBBAGCNxUBBAMCAQAwgZgGA1Ud\r\n// SIG // IwSBkDCBjYAUDqyCYEBWJ5flJRP8KuEKU5VZ5KShY6Rh\r\n// SIG // MF8xEzARBgoJkiaJk/IsZAEZFgNjb20xGTAXBgoJkiaJ\r\n// SIG // k/IsZAEZFgltaWNyb3NvZnQxLTArBgNVBAMTJE1pY3Jv\r\n// SIG // c29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eYIQ\r\n// SIG // ea0WoUqgpa1Mc1j0BxMuZTBQBgNVHR8ESTBHMEWgQ6BB\r\n// SIG // hj9odHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpL2Ny\r\n// SIG // bC9wcm9kdWN0cy9taWNyb3NvZnRyb290Y2VydC5jcmww\r\n// SIG // VAYIKwYBBQUHAQEESDBGMEQGCCsGAQUFBzAChjhodHRw\r\n// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL2NlcnRzL01p\r\n// SIG // Y3Jvc29mdFJvb3RDZXJ0LmNydDATBgNVHSUEDDAKBggr\r\n// SIG // BgEFBQcDCDANBgkqhkiG9w0BAQUFAAOCAgEAEJeKw1wD\r\n// SIG // RDbd6bStd9vOeVFNAbEudHFbbQwTq86+e4+4LtQSooxt\r\n// SIG // YrhXAstOIBNQmd16QOJXu69YmhzhHQGGrLt48ovQ7DsB\r\n// SIG // 7uK+jwoFyI1I4vBTFd1Pq5Lk541q1YDB5pTyBi+FA+mR\r\n// SIG // KiQicPv2/OR4mS4N9wficLwYTp2OawpylbihOZxnLcVR\r\n// SIG // DupiXD8WmIsgP+IHGjL5zDFKdjE9K3ILyOpwPf+FChPf\r\n// SIG // wgphjvDXuBfrTot/xTUrXqO/67x9C0J71FNyIe4wyrt4\r\n// SIG // ZVxbARcKFA7S2hSY9Ty5ZlizLS/n+YWGzFFW6J1wlGys\r\n// SIG // OUzU9nm/qhh6YinvopspNAZ3GmLJPR5tH4LwC8csu89D\r\n// SIG // s+X57H2146SodDW4TsVxIxImdgs8UoxxWkZDFLyzs7BN\r\n// SIG // Z8ifQv+AeSGAnhUwZuhCEl4ayJ4iIdBD6Svpu/RIzCzU\r\n// SIG // 2DKATCYqSCRfWupW76bemZ3KOm+9gSd0BhHudiG/m4LB\r\n// SIG // J1S2sWo9iaF2YbRuoROmv6pH8BJv/YoybLL+31HIjCPJ\r\n// SIG // Zr2dHYcSZAI9La9Zj7jkIeW1sMpjtHhUBdRBLlCslLCl\r\n// SIG // eKuzoJZ1GtmShxN1Ii8yqAhuoFuMJb+g74TKIdbrHk/J\r\n// SIG // mu5J4PcBZW+JC33Iacjmbuqnl84xKf8OxVtc2E0bodj6\r\n// SIG // L54/LlUWa8kTo/0xggShMIIEnQIBATCBkDB5MQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMSMwIQYDVQQDExpNaWNyb3NvZnQg\r\n// SIG // Q29kZSBTaWduaW5nIFBDQQITMwAAAMps1TISNcThVQAB\r\n// SIG // AAAAyjAJBgUrDgMCGgUAoIG6MBkGCSqGSIb3DQEJAzEM\r\n// SIG // BgorBgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAMBgor\r\n// SIG // BgEEAYI3AgEVMCMGCSqGSIb3DQEJBDEWBBRyUgLKi5XA\r\n// SIG // 3lZ9wwMx29sS/aCS3zBaBgorBgEEAYI3AgEMMUwwSqAi\r\n// SIG // gCAAQwBvAHIAZABvAHYAYQBDAG8AbgBmAGkAZwAuAGoA\r\n// SIG // c6EkgCJodHRwOi8vZXhwcmVzc2lvbi9jb3Jkb3ZhY29u\r\n// SIG // ZmlnLmpzMA0GCSqGSIb3DQEBAQUABIIBAIxJr3QrDgFt\r\n// SIG // pUF9x2cbpC/TacrDj0f7EeFiiq5AtWptJDfeW8gyXGJL\r\n// SIG // iudB7TcnuFuRuvsxOp9bO9ltQciLMxGq+KWC5WaOM8/i\r\n// SIG // 51//HvlG99240M4Z9JYk2PNAxbkjk/8oi44sdfXZR03d\r\n// SIG // tmebKCCmeNTkguUQTwutPVkW7dgBoomo4kzNhFNiVoNg\r\n// SIG // QEObns0TayI8B6SaOrSHjCs8WFMc0qf5WQmNl8UUZSeD\r\n// SIG // fulsf0v4bBalwfe3uNMPHqdV7hI2U3FfO8JaSQFdEe5/\r\n// SIG // qw3bYPyTByLMIq9IcTDRaEJ71miatOqUCMGED77lCyca\r\n// SIG // wabrMjbfPbfyDipTlpSagQChggIoMIICJAYJKoZIhvcN\r\n// SIG // AQkGMYICFTCCAhECAQEwgY4wdzELMAkGA1UEBhMCVVMx\r\n// SIG // EzARBgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1Jl\r\n// SIG // ZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3Jh\r\n// SIG // dGlvbjEhMB8GA1UEAxMYTWljcm9zb2Z0IFRpbWUtU3Rh\r\n// SIG // bXAgUENBAhMzAAAAcPQYvyMh/FCdAAAAAABwMAkGBSsO\r\n// SIG // AwIaBQCgXTAYBgkqhkiG9w0BCQMxCwYJKoZIhvcNAQcB\r\n// SIG // MBwGCSqGSIb3DQEJBTEPFw0xNTA0MjMwMjA2MzFaMCMG\r\n// SIG // CSqGSIb3DQEJBDEWBBRBKuysuIOZLgead+RgQzgjSifl\r\n// SIG // DjANBgkqhkiG9w0BAQUFAASCAQBTWAb3Jy9Jq2nfpVKC\r\n// SIG // 0SryJh/IUzpfsNGg724DPiy9AERraVi/Xb329nlaopG9\r\n// SIG // i1GCQu8IdoSD/Do8B6gOHOqiaYRcel6GlDZGH+zqSzoJ\r\n// SIG // XGFaW5S7ojkK0qzLD/j+4ikyD6G8fKww36yTaF4/9nq/\r\n// SIG // vvMbtA/E6qZPoNJqr5c2wVTfaNiwgG7CuR+KiAWrc3o3\r\n// SIG // 54fy82a7v2LkhsWAUS7rp85BIxaglaUUcACwfrG7mckK\r\n// SIG // zlazRebML79SNGGEuDkZQPXmOmP+2Ao/h1jI15yZs1RL\r\n// SIG // CgxmsZuWH+fJiN7K3uMpgB7PuMYYY1rHbMw8Di3Hc8fD\r\n// SIG // ZN9MxZ96JuZCqhdR\r\n// SIG // End signature block\r\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/node_modules/vs-mda-remote/lib/emulate.js":"/********************************************************\r\n*                                                       *\r\n*   Copyright (C) Microsoft. All rights reserved.       *\r\n*                                                       *\r\n********************************************************/\r\n\"use strict\";\r\n\r\nvar path = require('path'),\r\n    fs = require('fs'),\r\n    exec = require('child_process').exec,\r\n    Q = require('q'),\r\n    util = require('./util');\r\n\r\nvar e = exports = module.exports = {};\r\n\r\n// will run as a forked child process because we do not want to change cwd on main process, where cordova relies on cwd being the app it is currently building\r\nprocess.on('message', function (emulateRequest) {\r\n    e.emulate(emulateRequest, function (result) {\r\n        process.send(result);\r\n    });\r\n});\r\n\r\ne.emulate = function(emulateRequest, callback) {\r\n    console.info('Emulating app at ' + emulateRequest.appDir + ' for target ' + emulateRequest.target);\r\n    var error = null;\r\n\r\n    try {\r\n        Q(cdToAppDir(emulateRequest)).\r\n        then(cordovaEmulate).\r\n        fail(function (err) {\r\n            error = err;\r\n        }).\r\n        done(function () {\r\n            if (error !== null) {\r\n                callback({status: 'error', messageId: 'EmulateFailedWithError', messageArgs: error.message});\r\n            } else {\r\n                callback({status: 'emulated', messageId: 'EmulateSuccess'});\r\n            }\r\n        });\r\n    } catch (e) {\r\n        callback({status: 'error', messageId: 'EmulateFailedWithError', messageArgs: e.message});\r\n    }\r\n};\r\n\r\ne.init = function() {\r\n    process.env['PATH'] = path.resolve(__dirname, path.join('..','node_modules','ios-sim','build','release')) + ':' + process.env['PATH'];\r\n    require('child_process').exec('which ios-sim', function(err, stdout, stderr) {\r\n        if (err !== null) {\r\n            console.error('****** ios-sim is not installed on path. `sudo npm install -g ios-sim` if you want this server to support emulator.');\r\n        } else {\r\n            console.info('ios-sim is installed on path at: %s', stdout);\r\n        }\r\n    });\r\n};\r\n\r\nfunction cdToAppDir(emulateRequest) {\r\n    process.chdir(emulateRequest.appDir);\r\n    return emulateRequest;\r\n}\r\n\r\nfunction cordovaEmulate(emulateRequest) {\r\n    var deferred = Q.defer();\r\n    var emulatorAppPath = util.quotesAroundIfNecessary(path.join(emulateRequest.appDir, 'platforms', 'ios', 'build', 'emulator', emulateRequest.appName + '.app'));\r\n    exec('killall \\'iPhone Simulator\\'', function (error, stdout, stderr) {\r\n        exec('ios-sim launch ' + emulatorAppPath + ' ' + iosSimTarget(emulateRequest.target) + ' --exit', function (error, stdout, stderr) {\r\n            if (error !== null) {\r\n                deferred.reject(error);\r\n            } else {\r\n                deferred.resolve();\r\n            }\r\n        });\r\n    });\r\n    return deferred.promise;\r\n}\r\n\r\nvar iosSimTargets = {\r\n    'iphone 4s': '--retina',\r\n    'iphone 5': '--retina --tall',\r\n    'iphone 5s': '--retina --tall --64bit',\r\n    'iphone 6': '--devicetypeid com.apple.CoreSimulator.SimDeviceType.iPhone-6',\r\n    'iphone 6 plus': '--devicetypeid com.apple.CoreSimulator.SimDeviceType.iPhone-6-Plus',\r\n    'ipad 2': '--family ipad',\r\n    'ipad air': '--family ipad --retina --64bit',\r\n    'ipad retina': '--family ipad --retina'\r\n};\r\n\r\nfunction iosSimTarget(emulateRequestTarget) {\r\n    emulateRequestTarget = emulateRequestTarget.toLowerCase();\r\n    var iosSimTarget = iosSimTargets[emulateRequestTarget] || '--family iphone --retina';\r\n    return iosSimTarget;\r\n}\r\n// SIG // Begin signature block\r\n// SIG // MIIapQYJKoZIhvcNAQcCoIIaljCCGpICAQExCzAJBgUr\r\n// SIG // DgMCGgUAMGcGCisGAQQBgjcCAQSgWTBXMDIGCisGAQQB\r\n// SIG // gjcCAR4wJAIBAQQQEODJBs441BGiowAQS9NQkAIBAAIB\r\n// SIG // AAIBAAIBAAIBADAhMAkGBSsOAwIaBQAEFO0QVRfjI9mz\r\n// SIG // 4BthwUJ8j33DUgznoIIVgjCCBMMwggOroAMCAQICEzMA\r\n// SIG // AABvZS1YbQcRRigAAAAAAG8wDQYJKoZIhvcNAQEFBQAw\r\n// SIG // dzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWlj\r\n// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBMB4XDTE1MDMyMDE3\r\n// SIG // MzIwMloXDTE2MDYyMDE3MzIwMlowgbMxCzAJBgNVBAYT\r\n// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH\r\n// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y\r\n// SIG // cG9yYXRpb24xDTALBgNVBAsTBE1PUFIxJzAlBgNVBAsT\r\n// SIG // Hm5DaXBoZXIgRFNFIEVTTjpDMEY0LTMwODYtREVGODEl\r\n// SIG // MCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAgU2Vy\r\n// SIG // dmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\r\n// SIG // ggEBAM/mbc3BKs2uqF7YlU8tA0NHczu4QtLQV5rd9lM2\r\n// SIG // d9WIRSRqyKvQZumLxaoPnvKDRrYqydg2xvSg/xFvZvBe\r\n// SIG // FBmysWf48V6UhqqOJa/4NRP9gi/HOF5TwHYcxdN5O7Bj\r\n// SIG // 60+TmgXwohdx3MYMltMABS5MbVizf7QsJHB7lmksbIp4\r\n// SIG // CW1JmY46PmaVj09/eBtge1fJUfRLbVHDNLf4OgrWEd/D\r\n// SIG // OqUeoDjc662q+EPEg5qNlzQDNAQa761UNqTUGiz9w27w\r\n// SIG // eOcp8blEwHG0L8QQiwz3NmJ5/QdXfeoFfEyfTjA/J1A4\r\n// SIG // Zga7Xag+xZDb3zx2Vq2VIDRTcu1pWW7wVB9A1TkCAwEA\r\n// SIG // AaOCAQkwggEFMB0GA1UdDgQWBBTypkkpeHxXcFJiz+2s\r\n// SIG // t3sgNEfc/TAfBgNVHSMEGDAWgBQjNPjZUkZwCu1A+3b7\r\n// SIG // syuwwzWzDzBUBgNVHR8ETTBLMEmgR6BFhkNodHRwOi8v\r\n// SIG // Y3JsLm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0\r\n// SIG // cy9NaWNyb3NvZnRUaW1lU3RhbXBQQ0EuY3JsMFgGCCsG\r\n// SIG // AQUFBwEBBEwwSjBIBggrBgEFBQcwAoY8aHR0cDovL3d3\r\n// SIG // dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3Nv\r\n// SIG // ZnRUaW1lU3RhbXBQQ0EuY3J0MBMGA1UdJQQMMAoGCCsG\r\n// SIG // AQUFBwMIMA0GCSqGSIb3DQEBBQUAA4IBAQCNs0y22OwN\r\n// SIG // h4YZXuQA55e41c9MCjy991XT9PCgr1VynCOXuYIqxxYK\r\n// SIG // xScTWdDaMCuIQrpSA+ZeySVoJyeNZKdt+beaaqs+rELQ\r\n// SIG // HiQmzFSv9pCBax6tQ58bexBXajI2MaJEaAGYWisStIkx\r\n// SIG // 9kwMrhU8tyQkXbv/fFNMhMQNzUZ3finKn7JGYoK0NMf1\r\n// SIG // EmlcrXnNMe7pR474/FPz5AKQUWvO+p3jhb9ZgFkQ1Wej\r\n// SIG // TKby5KC02ME6oWpIpojOcPapnN7zU5M9cHEA/77rfPz/\r\n// SIG // CGMPS1FZqxUZkHQe/7u9qjWbPZ7zEBTVevYf1uJ185J0\r\n// SIG // Da0W2RLPoZut0hLqADsjFQzPMIIE7DCCA9SgAwIBAgIT\r\n// SIG // MwAAAMps1TISNcThVQABAAAAyjANBgkqhkiG9w0BAQUF\r\n// SIG // ADB5MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu\r\n// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV\r\n// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSMwIQYDVQQDExpN\r\n// SIG // aWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQTAeFw0xNDA0\r\n// SIG // MjIxNzM5MDBaFw0xNTA3MjIxNzM5MDBaMIGDMQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMQ0wCwYDVQQLEwRNT1BSMR4wHAYD\r\n// SIG // VQQDExVNaWNyb3NvZnQgQ29ycG9yYXRpb24wggEiMA0G\r\n// SIG // CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCWcV3tBkb6\r\n// SIG // hMudW7dGx7DhtBE5A62xFXNgnOuntm4aPD//ZeM08aal\r\n// SIG // IV5WmWxY5JKhClzC09xSLwxlmiBhQFMxnGyPIX26+f4T\r\n// SIG // UFJglTpbuVildGFBqZTgrSZOTKGXcEknXnxnyk8ecYRG\r\n// SIG // vB1LtuIPxcYnyQfmegqlFwAZTHBFOC2BtFCqxWfR+nm8\r\n// SIG // xcyhcpv0JTSY+FTfEjk4Ei+ka6Wafsdi0dzP7T00+Lnf\r\n// SIG // NTC67HkyqeGprFVNTH9MVsMTC3bxB/nMR6z7iNVSpR4o\r\n// SIG // +j0tz8+EmIZxZRHPhckJRIbhb+ex/KxARKWpiyM/gkmd\r\n// SIG // 1ZZZUBNZGHP/QwytK9R/MEBnAgMBAAGjggFgMIIBXDAT\r\n// SIG // BgNVHSUEDDAKBggrBgEFBQcDAzAdBgNVHQ4EFgQUH17i\r\n// SIG // XVCNVoa+SjzPBOinh7XLv4MwUQYDVR0RBEowSKRGMEQx\r\n// SIG // DTALBgNVBAsTBE1PUFIxMzAxBgNVBAUTKjMxNTk1K2I0\r\n// SIG // MjE4ZjEzLTZmY2EtNDkwZi05YzQ3LTNmYzU1N2RmYzQ0\r\n// SIG // MDAfBgNVHSMEGDAWgBTLEejK0rQWWAHJNy4zFha5TJoK\r\n// SIG // HzBWBgNVHR8ETzBNMEugSaBHhkVodHRwOi8vY3JsLm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0cy9NaWND\r\n// SIG // b2RTaWdQQ0FfMDgtMzEtMjAxMC5jcmwwWgYIKwYBBQUH\r\n// SIG // AQEETjBMMEoGCCsGAQUFBzAChj5odHRwOi8vd3d3Lm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NlcnRzL01pY0NvZFNpZ1BD\r\n// SIG // QV8wOC0zMS0yMDEwLmNydDANBgkqhkiG9w0BAQUFAAOC\r\n// SIG // AQEAd1zr15E9zb17g9mFqbBDnXN8F8kP7Tbbx7UsG177\r\n// SIG // VAU6g3FAgQmit3EmXtZ9tmw7yapfXQMYKh0nfgfpxWUf\r\n// SIG // tc8Nt1THKDhaiOd7wRm2VjK64szLk9uvbg9dRPXUsO8b\r\n// SIG // 1U7Brw7vIJvy4f4nXejF/2H2GdIoCiKd381wgp4Yctgj\r\n// SIG // zHosQ+7/6sDg5h2qnpczAFJvB7jTiGzepAY1p8JThmUR\r\n// SIG // dwmPNVm52IaoAP74MX0s9IwFncDB1XdybOlNWSaD8cKy\r\n// SIG // iFeTNQB8UCu8Wfz+HCk4gtPeUpdFKRhOlludul8bo/En\r\n// SIG // UOoHlehtNA04V9w3KDWVOjic1O1qhV0OIhFeezCCBbww\r\n// SIG // ggOkoAMCAQICCmEzJhoAAAAAADEwDQYJKoZIhvcNAQEF\r\n// SIG // BQAwXzETMBEGCgmSJomT8ixkARkWA2NvbTEZMBcGCgmS\r\n// SIG // JomT8ixkARkWCW1pY3Jvc29mdDEtMCsGA1UEAxMkTWlj\r\n// SIG // cm9zb2Z0IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5\r\n// SIG // MB4XDTEwMDgzMTIyMTkzMloXDTIwMDgzMTIyMjkzMlow\r\n// SIG // eTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEjMCEGA1UEAxMaTWlj\r\n// SIG // cm9zb2Z0IENvZGUgU2lnbmluZyBQQ0EwggEiMA0GCSqG\r\n// SIG // SIb3DQEBAQUAA4IBDwAwggEKAoIBAQCycllcGTBkvx2a\r\n// SIG // YCAgQpl2U2w+G9ZvzMvx6mv+lxYQ4N86dIMaty+gMuz/\r\n// SIG // 3sJCTiPVcgDbNVcKicquIEn08GisTUuNpb15S3GbRwfa\r\n// SIG // /SXfnXWIz6pzRH/XgdvzvfI2pMlcRdyvrT3gKGiXGqel\r\n// SIG // cnNW8ReU5P01lHKg1nZfHndFg4U4FtBzWwW6Z1KNpbJp\r\n// SIG // L9oZC/6SdCnidi9U3RQwWfjSjWL9y8lfRjFQuScT5EAw\r\n// SIG // z3IpECgixzdOPaAyPZDNoTgGhVxOVoIoKgUyt0vXT2Pn\r\n// SIG // 0i1i8UU956wIAPZGoZ7RW4wmU+h6qkryRs83PDietHdc\r\n// SIG // pReejcsRj1Y8wawJXwPTAgMBAAGjggFeMIIBWjAPBgNV\r\n// SIG // HRMBAf8EBTADAQH/MB0GA1UdDgQWBBTLEejK0rQWWAHJ\r\n// SIG // Ny4zFha5TJoKHzALBgNVHQ8EBAMCAYYwEgYJKwYBBAGC\r\n// SIG // NxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU/dExTtMm\r\n// SIG // ipXhmGA7qDFvpjy82C0wGQYJKwYBBAGCNxQCBAweCgBT\r\n// SIG // AHUAYgBDAEEwHwYDVR0jBBgwFoAUDqyCYEBWJ5flJRP8\r\n// SIG // KuEKU5VZ5KQwUAYDVR0fBEkwRzBFoEOgQYY/aHR0cDov\r\n// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj\r\n// SIG // dHMvbWljcm9zb2Z0cm9vdGNlcnQuY3JsMFQGCCsGAQUF\r\n// SIG // BwEBBEgwRjBEBggrBgEFBQcwAoY4aHR0cDovL3d3dy5t\r\n// SIG // aWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3NvZnRS\r\n// SIG // b290Q2VydC5jcnQwDQYJKoZIhvcNAQEFBQADggIBAFk5\r\n// SIG // Pn8mRq/rb0CxMrVq6w4vbqhJ9+tfde1MOy3XQ60L/svp\r\n// SIG // LTGjI8x8UJiAIV2sPS9MuqKoVpzjcLu4tPh5tUly9z7q\r\n// SIG // QX/K4QwXaculnCAt+gtQxFbNLeNK0rxw56gNogOlVuC4\r\n// SIG // iktX8pVCnPHz7+7jhh80PLhWmvBTI4UqpIIck+KUBx3y\r\n// SIG // 4k74jKHK6BOlkU7IG9KPcpUqcW2bGvgc8FPWZ8wi/1wd\r\n// SIG // zaKMvSeyeWNWRKJRzfnpo1hW3ZsCRUQvX/TartSCMm78\r\n// SIG // pJUT5Otp56miLL7IKxAOZY6Z2/Wi+hImCWU4lPF6H0q7\r\n// SIG // 0eFW6NB4lhhcyTUWX92THUmOLb6tNEQc7hAVGgBd3TVb\r\n// SIG // Ic6YxwnuhQ6MT20OE049fClInHLR82zKwexwo1eSV32U\r\n// SIG // jaAbSANa98+jZwp0pTbtLS8XyOZyNxL0b7E8Z4L5UrKN\r\n// SIG // MxZlHg6K3RDeZPRvzkbU0xfpecQEtNP7LN8fip6sCvsT\r\n// SIG // J0Ct5PnhqX9GuwdgR2VgQE6wQuxO7bN2edgKNAltHIAx\r\n// SIG // H+IOVN3lofvlRxCtZJj/UBYufL8FIXrilUEnacOTj5XJ\r\n// SIG // jdibIa4NXJzwoq6GaIMMai27dmsAHZat8hZ79haDJLmI\r\n// SIG // z2qoRzEvmtzjcT3XAH5iR9HOiMm4GPoOco3Boz2vAkBq\r\n// SIG // /2mbluIQqBC0N1AI1sM9MIIGBzCCA++gAwIBAgIKYRZo\r\n// SIG // NAAAAAAAHDANBgkqhkiG9w0BAQUFADBfMRMwEQYKCZIm\r\n// SIG // iZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJbWlj\r\n// SIG // cm9zb2Z0MS0wKwYDVQQDEyRNaWNyb3NvZnQgUm9vdCBD\r\n// SIG // ZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMDcwNDAzMTI1\r\n// SIG // MzA5WhcNMjEwNDAzMTMwMzA5WjB3MQswCQYDVQQGEwJV\r\n// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH\r\n// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv\r\n// SIG // cmF0aW9uMSEwHwYDVQQDExhNaWNyb3NvZnQgVGltZS1T\r\n// SIG // dGFtcCBQQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\r\n// SIG // ggEKAoIBAQCfoWyx39tIkip8ay4Z4b3i48WZUSNQrc7d\r\n// SIG // GE4kD+7Rp9FMrXQwIBHrB9VUlRVJlBtCkq6YXDAm2gBr\r\n// SIG // 6Hu97IkHD/cOBJjwicwfyzMkh53y9GccLPx754gd6udO\r\n// SIG // o6HBI1PKjfpFzwnQXq/QsEIEovmmbJNn1yjcRlOwhtDl\r\n// SIG // KEYuJ6yGT1VSDOQDLPtqkJAwbofzWTCd+n7Wl7PoIZd+\r\n// SIG // +NIT8wi3U21StEWQn0gASkdmEScpZqiX5NMGgUqi+YSn\r\n// SIG // EUcUCYKfhO1VeP4Bmh1QCIUAEDBG7bfeI0a7xC1Un68e\r\n// SIG // eEExd8yb3zuDk6FhArUdDbH895uyAc4iS1T/+QXDwiAL\r\n// SIG // AgMBAAGjggGrMIIBpzAPBgNVHRMBAf8EBTADAQH/MB0G\r\n// SIG // A1UdDgQWBBQjNPjZUkZwCu1A+3b7syuwwzWzDzALBgNV\r\n// SIG // HQ8EBAMCAYYwEAYJKwYBBAGCNxUBBAMCAQAwgZgGA1Ud\r\n// SIG // IwSBkDCBjYAUDqyCYEBWJ5flJRP8KuEKU5VZ5KShY6Rh\r\n// SIG // MF8xEzARBgoJkiaJk/IsZAEZFgNjb20xGTAXBgoJkiaJ\r\n// SIG // k/IsZAEZFgltaWNyb3NvZnQxLTArBgNVBAMTJE1pY3Jv\r\n// SIG // c29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eYIQ\r\n// SIG // ea0WoUqgpa1Mc1j0BxMuZTBQBgNVHR8ESTBHMEWgQ6BB\r\n// SIG // hj9odHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpL2Ny\r\n// SIG // bC9wcm9kdWN0cy9taWNyb3NvZnRyb290Y2VydC5jcmww\r\n// SIG // VAYIKwYBBQUHAQEESDBGMEQGCCsGAQUFBzAChjhodHRw\r\n// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL2NlcnRzL01p\r\n// SIG // Y3Jvc29mdFJvb3RDZXJ0LmNydDATBgNVHSUEDDAKBggr\r\n// SIG // BgEFBQcDCDANBgkqhkiG9w0BAQUFAAOCAgEAEJeKw1wD\r\n// SIG // RDbd6bStd9vOeVFNAbEudHFbbQwTq86+e4+4LtQSooxt\r\n// SIG // YrhXAstOIBNQmd16QOJXu69YmhzhHQGGrLt48ovQ7DsB\r\n// SIG // 7uK+jwoFyI1I4vBTFd1Pq5Lk541q1YDB5pTyBi+FA+mR\r\n// SIG // KiQicPv2/OR4mS4N9wficLwYTp2OawpylbihOZxnLcVR\r\n// SIG // DupiXD8WmIsgP+IHGjL5zDFKdjE9K3ILyOpwPf+FChPf\r\n// SIG // wgphjvDXuBfrTot/xTUrXqO/67x9C0J71FNyIe4wyrt4\r\n// SIG // ZVxbARcKFA7S2hSY9Ty5ZlizLS/n+YWGzFFW6J1wlGys\r\n// SIG // OUzU9nm/qhh6YinvopspNAZ3GmLJPR5tH4LwC8csu89D\r\n// SIG // s+X57H2146SodDW4TsVxIxImdgs8UoxxWkZDFLyzs7BN\r\n// SIG // Z8ifQv+AeSGAnhUwZuhCEl4ayJ4iIdBD6Svpu/RIzCzU\r\n// SIG // 2DKATCYqSCRfWupW76bemZ3KOm+9gSd0BhHudiG/m4LB\r\n// SIG // J1S2sWo9iaF2YbRuoROmv6pH8BJv/YoybLL+31HIjCPJ\r\n// SIG // Zr2dHYcSZAI9La9Zj7jkIeW1sMpjtHhUBdRBLlCslLCl\r\n// SIG // eKuzoJZ1GtmShxN1Ii8yqAhuoFuMJb+g74TKIdbrHk/J\r\n// SIG // mu5J4PcBZW+JC33Iacjmbuqnl84xKf8OxVtc2E0bodj6\r\n// SIG // L54/LlUWa8kTo/0xggSPMIIEiwIBATCBkDB5MQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMSMwIQYDVQQDExpNaWNyb3NvZnQg\r\n// SIG // Q29kZSBTaWduaW5nIFBDQQITMwAAAMps1TISNcThVQAB\r\n// SIG // AAAAyjAJBgUrDgMCGgUAoIGoMBkGCSqGSIb3DQEJAzEM\r\n// SIG // BgorBgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAMBgor\r\n// SIG // BgEEAYI3AgEVMCMGCSqGSIb3DQEJBDEWBBQ262Td1fHx\r\n// SIG // D1jk3xJin4PSYYJv4jBIBgorBgEEAYI3AgEMMTowOKAW\r\n// SIG // gBQAZQBtAHUAbABhAHQAZQAuAGoAc6EegBxodHRwOi8v\r\n// SIG // ZXhwcmVzc2lvbi9lbXVsYXRlLmpzMA0GCSqGSIb3DQEB\r\n// SIG // AQUABIIBAGBEUxuH9HkgjscogGcHOn7VLUmQUU9EH/UY\r\n// SIG // 4oFsL3fwBHwTLGgchMJZTg+EQvkMNC8Q3+r4uYrDEsNY\r\n// SIG // qYj/Hcol67MC5Lv2ef6NdSKrexztj+ep7jFYa6V5ZHEm\r\n// SIG // Pnln+QoKKxGXPJRJjGXVr3uOg5PnRlMw+CbfeY0LwM7A\r\n// SIG // zCg0qER5naKL+Vu/QPyYdNPFntkJ5s50+xXnxRClxo3S\r\n// SIG // NYa0P5rYCRtnoAEBmk97qQy/zpHRzl8rCH0TB8SZoOND\r\n// SIG // OBlC7RzR8uU6cKMBJabeVKE4SpJu2gqgsjcZlPRLnIFt\r\n// SIG // CmDxS7/Jbb02Pxb8eLd3gAl0FJhJasGdLmsx2PBMkjeh\r\n// SIG // ggIoMIICJAYJKoZIhvcNAQkGMYICFTCCAhECAQEwgY4w\r\n// SIG // dzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWlj\r\n// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBAhMzAAAAb2UtWG0H\r\n// SIG // EUYoAAAAAABvMAkGBSsOAwIaBQCgXTAYBgkqhkiG9w0B\r\n// SIG // CQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0x\r\n// SIG // NTA0MjMwMTU5NTNaMCMGCSqGSIb3DQEJBDEWBBTCzoU4\r\n// SIG // QP65Kjd0unhcdDIJQDuo3TANBgkqhkiG9w0BAQUFAASC\r\n// SIG // AQDOMmyCJ748JBGBYJy8ROblcbOFB+O3tL9uVW1iJHP6\r\n// SIG // ajXLrhQs/cl52YPtULs3aP1v4YN7Jh8E/1E1sGbDlBMU\r\n// SIG // e1711+//x2en7TQvpgD5rDGDPgXDymXebmV0LCqD+siH\r\n// SIG // jbQHf369pUc5PPG/1XdKGwVJb9ETT47cn3b6Ltqe8hK8\r\n// SIG // iQGje/vcDMKRPvd+rXNl38RzuCmheYCfNd7VyFyQ3rIp\r\n// SIG // +GRs17AsR9hilzcM8w9M0vyPPJRA2wT4PHoCNkb5iBRp\r\n// SIG // o8V5owC0g2sN1pirfJJ6kSHyOP1Md4aUrFRTtfIU85dh\r\n// SIG // W5i3D6XRdJz7vsMzGgdDQbx6GdMy4fluAal8\r\n// SIG // End signature block\r\n","/home/travis/build/npmtest/node-npmtest-vs-mda-remote/node_modules/vs-mda-remote/lib/plist.js":"/********************************************************\r\n*                                                       *\r\n*   Copyright (C) Microsoft. All rights reserved.       *\r\n*                                                       *\r\n********************************************************/\r\n\"use strict\";\r\n\r\nvar util = require('./util'),\r\n    CordovaConfig = require('./CordovaConfig'),\r\n    path = require('path'),\r\n    fs = require('fs'),\r\n    pl = require('plist-with-patches');\r\n\r\nvar plist = exports = module.exports = {};\r\n\r\nvar templateContents = null;\r\n\r\nplist.createEnterprisePlist = function(cordovaConfigOrPathToConfigXml, outFilePath) {\r\n    var cfg = cordovaConfigOrPathToConfigXml;\r\n    if (typeof cordovaConfigOrPathToConfigXml === 'string') {\r\n        cfg = new CordovaConfig(cordovaConfigOrPathToConfigXml);\r\n    }\r\n    var id = cfg.id();\r\n    var version = cfg.version();\r\n    var name = cfg.name();\r\n\r\n    var plistContents = getTemplateContents();\r\n    plistContents = plistContents.replace('${BUNDLE_IDENTIFIER}', id);\r\n    plistContents = plistContents.replace('${APPLICATION_VERSION}', version);\r\n    plistContents = plistContents.replace('${DISPLAY_NAME}', name);\r\n    util.writeFileContentsSync(outFilePath, plistContents);\r\n    console.info('Created plist file %s from template with [%s, %s, %s]', outFilePath, id, version, name);\r\n};\r\n\r\nplist.updateAppBundleVersion = function(pathToAppPlist, buildNumber) {\r\n    var plistInfo = pl.parseFileSync(pathToAppPlist);\r\n    var version = plistInfo['CFBundleVersion'];\r\n    version = version ? version + '.' + buildNumber : ''+buildNumber;\r\n    plistInfo['CFBundleVersion'] = version;\r\n    var updatedPlistContents = pl.build(plistInfo);\r\n    updatedPlistContents = updatedPlistContents.replace(/<string>[\\s\\r\\n]*<\\/string>/g,'<string></string>');\r\n    fs.writeFileSync(pathToAppPlist, updatedPlistContents, 'utf-8');\r\n}\r\n\r\nfunction getTemplateContents() {\r\n    if (templateContents === null) {\r\n        var templatePath = path.join(__dirname, '..', 'templates', 'EnterpriseApp.plist');\r\n        templateContents = util.readFileContentsSync(templatePath, 'utf-8');\r\n    }\r\n    return templateContents;\r\n}\r\n\r\n// SIG // Begin signature block\r\n// SIG // MIIanwYJKoZIhvcNAQcCoIIakDCCGowCAQExCzAJBgUr\r\n// SIG // DgMCGgUAMGcGCisGAQQBgjcCAQSgWTBXMDIGCisGAQQB\r\n// SIG // gjcCAR4wJAIBAQQQEODJBs441BGiowAQS9NQkAIBAAIB\r\n// SIG // AAIBAAIBAAIBADAhMAkGBSsOAwIaBQAEFCs+Q8IYdlZ6\r\n// SIG // CcymeLZv8IKOx3t9oIIVgjCCBMMwggOroAMCAQICEzMA\r\n// SIG // AABxsy6Ka4KqH04AAAAAAHEwDQYJKoZIhvcNAQEFBQAw\r\n// SIG // dzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWlj\r\n// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBMB4XDTE1MDMyMDE3\r\n// SIG // MzIwM1oXDTE2MDYyMDE3MzIwM1owgbMxCzAJBgNVBAYT\r\n// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH\r\n// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y\r\n// SIG // cG9yYXRpb24xDTALBgNVBAsTBE1PUFIxJzAlBgNVBAsT\r\n// SIG // Hm5DaXBoZXIgRFNFIEVTTjpCOEVDLTMwQTQtNzE0NDEl\r\n// SIG // MCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAgU2Vy\r\n// SIG // dmljZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\r\n// SIG // ggEBAOqRvbKI/RRvITYoA2YzOmYI+1tLpKugKDRKQzII\r\n// SIG // wIblyT3VJbx7PmKH1n3vD3RTo/GRY4h0f+gkzQNQxfHK\r\n// SIG // ABZ7pTmwBhw8RH7568SygbwXI7r9ZTgZhX/KoCn99jrA\r\n// SIG // Cy9o9OA0Tn1vF8Bumar6f2El0SZw0nR932FzXM5UKjlR\r\n// SIG // AzMJ+FCteMeJCLbUhSo/19gfUerv/GhetcHnB2gyjS9y\r\n// SIG // Uf4DMUdRxdLrcgevIJX42mr4d2fkYJpwTKtFy34Ir+WB\r\n// SIG // 1FfPOswTdZ0mzaCiaVC8OoiU37BUON6JOc2GMqWQD36/\r\n// SIG // 7cyUJaZBhmEmx903flwN6BfKN3/oJLZOtPgbI+sCAwEA\r\n// SIG // AaOCAQkwggEFMB0GA1UdDgQWBBT4/SOHBZSAVs0zpUHC\r\n// SIG // bMwINsiyojAfBgNVHSMEGDAWgBQjNPjZUkZwCu1A+3b7\r\n// SIG // syuwwzWzDzBUBgNVHR8ETTBLMEmgR6BFhkNodHRwOi8v\r\n// SIG // Y3JsLm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0\r\n// SIG // cy9NaWNyb3NvZnRUaW1lU3RhbXBQQ0EuY3JsMFgGCCsG\r\n// SIG // AQUFBwEBBEwwSjBIBggrBgEFBQcwAoY8aHR0cDovL3d3\r\n// SIG // dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3Nv\r\n// SIG // ZnRUaW1lU3RhbXBQQ0EuY3J0MBMGA1UdJQQMMAoGCCsG\r\n// SIG // AQUFBwMIMA0GCSqGSIb3DQEBBQUAA4IBAQAtBLTKKQtZ\r\n// SIG // /C7qoK9MTmgE+JLtKcJmzGtwyYfovof8XfTdT6Uab3iX\r\n// SIG // rWsFOFFBcp055Bobw21x/HC208y2kFgEKD/WHu+DsxQY\r\n// SIG // DJUL96URE5jGhVZe7jO0DDe1gOr1EmjZLnuGCHI7FHvU\r\n// SIG // 2dAWT8AvCx8tyuUb0K7phLCPC11zuBaBQCNYLOphqv69\r\n// SIG // f9ONWnD8ec1mlmVjtQUSduIqOyvtgqya7CdBp5cOIxaf\r\n// SIG // QchObVMRQATMYJnamOwrrpf74H31uosA9CUXf2J6u1FX\r\n// SIG // wfDwzZwbYXOtlYwrdiKoq3A4tAEofWZCU96f9Ad8WjAO\r\n// SIG // ggNZ9oSGuRUlYrAL0s/x25ZFMIIE7DCCA9SgAwIBAgIT\r\n// SIG // MwAAAMps1TISNcThVQABAAAAyjANBgkqhkiG9w0BAQUF\r\n// SIG // ADB5MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu\r\n// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV\r\n// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSMwIQYDVQQDExpN\r\n// SIG // aWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQTAeFw0xNDA0\r\n// SIG // MjIxNzM5MDBaFw0xNTA3MjIxNzM5MDBaMIGDMQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMQ0wCwYDVQQLEwRNT1BSMR4wHAYD\r\n// SIG // VQQDExVNaWNyb3NvZnQgQ29ycG9yYXRpb24wggEiMA0G\r\n// SIG // CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCWcV3tBkb6\r\n// SIG // hMudW7dGx7DhtBE5A62xFXNgnOuntm4aPD//ZeM08aal\r\n// SIG // IV5WmWxY5JKhClzC09xSLwxlmiBhQFMxnGyPIX26+f4T\r\n// SIG // UFJglTpbuVildGFBqZTgrSZOTKGXcEknXnxnyk8ecYRG\r\n// SIG // vB1LtuIPxcYnyQfmegqlFwAZTHBFOC2BtFCqxWfR+nm8\r\n// SIG // xcyhcpv0JTSY+FTfEjk4Ei+ka6Wafsdi0dzP7T00+Lnf\r\n// SIG // NTC67HkyqeGprFVNTH9MVsMTC3bxB/nMR6z7iNVSpR4o\r\n// SIG // +j0tz8+EmIZxZRHPhckJRIbhb+ex/KxARKWpiyM/gkmd\r\n// SIG // 1ZZZUBNZGHP/QwytK9R/MEBnAgMBAAGjggFgMIIBXDAT\r\n// SIG // BgNVHSUEDDAKBggrBgEFBQcDAzAdBgNVHQ4EFgQUH17i\r\n// SIG // XVCNVoa+SjzPBOinh7XLv4MwUQYDVR0RBEowSKRGMEQx\r\n// SIG // DTALBgNVBAsTBE1PUFIxMzAxBgNVBAUTKjMxNTk1K2I0\r\n// SIG // MjE4ZjEzLTZmY2EtNDkwZi05YzQ3LTNmYzU1N2RmYzQ0\r\n// SIG // MDAfBgNVHSMEGDAWgBTLEejK0rQWWAHJNy4zFha5TJoK\r\n// SIG // HzBWBgNVHR8ETzBNMEugSaBHhkVodHRwOi8vY3JsLm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0cy9NaWND\r\n// SIG // b2RTaWdQQ0FfMDgtMzEtMjAxMC5jcmwwWgYIKwYBBQUH\r\n// SIG // AQEETjBMMEoGCCsGAQUFBzAChj5odHRwOi8vd3d3Lm1p\r\n// SIG // Y3Jvc29mdC5jb20vcGtpL2NlcnRzL01pY0NvZFNpZ1BD\r\n// SIG // QV8wOC0zMS0yMDEwLmNydDANBgkqhkiG9w0BAQUFAAOC\r\n// SIG // AQEAd1zr15E9zb17g9mFqbBDnXN8F8kP7Tbbx7UsG177\r\n// SIG // VAU6g3FAgQmit3EmXtZ9tmw7yapfXQMYKh0nfgfpxWUf\r\n// SIG // tc8Nt1THKDhaiOd7wRm2VjK64szLk9uvbg9dRPXUsO8b\r\n// SIG // 1U7Brw7vIJvy4f4nXejF/2H2GdIoCiKd381wgp4Yctgj\r\n// SIG // zHosQ+7/6sDg5h2qnpczAFJvB7jTiGzepAY1p8JThmUR\r\n// SIG // dwmPNVm52IaoAP74MX0s9IwFncDB1XdybOlNWSaD8cKy\r\n// SIG // iFeTNQB8UCu8Wfz+HCk4gtPeUpdFKRhOlludul8bo/En\r\n// SIG // UOoHlehtNA04V9w3KDWVOjic1O1qhV0OIhFeezCCBbww\r\n// SIG // ggOkoAMCAQICCmEzJhoAAAAAADEwDQYJKoZIhvcNAQEF\r\n// SIG // BQAwXzETMBEGCgmSJomT8ixkARkWA2NvbTEZMBcGCgmS\r\n// SIG // JomT8ixkARkWCW1pY3Jvc29mdDEtMCsGA1UEAxMkTWlj\r\n// SIG // cm9zb2Z0IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5\r\n// SIG // MB4XDTEwMDgzMTIyMTkzMloXDTIwMDgzMTIyMjkzMlow\r\n// SIG // eTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0\r\n// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p\r\n// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEjMCEGA1UEAxMaTWlj\r\n// SIG // cm9zb2Z0IENvZGUgU2lnbmluZyBQQ0EwggEiMA0GCSqG\r\n// SIG // SIb3DQEBAQUAA4IBDwAwggEKAoIBAQCycllcGTBkvx2a\r\n// SIG // YCAgQpl2U2w+G9ZvzMvx6mv+lxYQ4N86dIMaty+gMuz/\r\n// SIG // 3sJCTiPVcgDbNVcKicquIEn08GisTUuNpb15S3GbRwfa\r\n// SIG // /SXfnXWIz6pzRH/XgdvzvfI2pMlcRdyvrT3gKGiXGqel\r\n// SIG // cnNW8ReU5P01lHKg1nZfHndFg4U4FtBzWwW6Z1KNpbJp\r\n// SIG // L9oZC/6SdCnidi9U3RQwWfjSjWL9y8lfRjFQuScT5EAw\r\n// SIG // z3IpECgixzdOPaAyPZDNoTgGhVxOVoIoKgUyt0vXT2Pn\r\n// SIG // 0i1i8UU956wIAPZGoZ7RW4wmU+h6qkryRs83PDietHdc\r\n// SIG // pReejcsRj1Y8wawJXwPTAgMBAAGjggFeMIIBWjAPBgNV\r\n// SIG // HRMBAf8EBTADAQH/MB0GA1UdDgQWBBTLEejK0rQWWAHJ\r\n// SIG // Ny4zFha5TJoKHzALBgNVHQ8EBAMCAYYwEgYJKwYBBAGC\r\n// SIG // NxUBBAUCAwEAATAjBgkrBgEEAYI3FQIEFgQU/dExTtMm\r\n// SIG // ipXhmGA7qDFvpjy82C0wGQYJKwYBBAGCNxQCBAweCgBT\r\n// SIG // AHUAYgBDAEEwHwYDVR0jBBgwFoAUDqyCYEBWJ5flJRP8\r\n// SIG // KuEKU5VZ5KQwUAYDVR0fBEkwRzBFoEOgQYY/aHR0cDov\r\n// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj\r\n// SIG // dHMvbWljcm9zb2Z0cm9vdGNlcnQuY3JsMFQGCCsGAQUF\r\n// SIG // BwEBBEgwRjBEBggrBgEFBQcwAoY4aHR0cDovL3d3dy5t\r\n// SIG // aWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNyb3NvZnRS\r\n// SIG // b290Q2VydC5jcnQwDQYJKoZIhvcNAQEFBQADggIBAFk5\r\n// SIG // Pn8mRq/rb0CxMrVq6w4vbqhJ9+tfde1MOy3XQ60L/svp\r\n// SIG // LTGjI8x8UJiAIV2sPS9MuqKoVpzjcLu4tPh5tUly9z7q\r\n// SIG // QX/K4QwXaculnCAt+gtQxFbNLeNK0rxw56gNogOlVuC4\r\n// SIG // iktX8pVCnPHz7+7jhh80PLhWmvBTI4UqpIIck+KUBx3y\r\n// SIG // 4k74jKHK6BOlkU7IG9KPcpUqcW2bGvgc8FPWZ8wi/1wd\r\n// SIG // zaKMvSeyeWNWRKJRzfnpo1hW3ZsCRUQvX/TartSCMm78\r\n// SIG // pJUT5Otp56miLL7IKxAOZY6Z2/Wi+hImCWU4lPF6H0q7\r\n// SIG // 0eFW6NB4lhhcyTUWX92THUmOLb6tNEQc7hAVGgBd3TVb\r\n// SIG // Ic6YxwnuhQ6MT20OE049fClInHLR82zKwexwo1eSV32U\r\n// SIG // jaAbSANa98+jZwp0pTbtLS8XyOZyNxL0b7E8Z4L5UrKN\r\n// SIG // MxZlHg6K3RDeZPRvzkbU0xfpecQEtNP7LN8fip6sCvsT\r\n// SIG // J0Ct5PnhqX9GuwdgR2VgQE6wQuxO7bN2edgKNAltHIAx\r\n// SIG // H+IOVN3lofvlRxCtZJj/UBYufL8FIXrilUEnacOTj5XJ\r\n// SIG // jdibIa4NXJzwoq6GaIMMai27dmsAHZat8hZ79haDJLmI\r\n// SIG // z2qoRzEvmtzjcT3XAH5iR9HOiMm4GPoOco3Boz2vAkBq\r\n// SIG // /2mbluIQqBC0N1AI1sM9MIIGBzCCA++gAwIBAgIKYRZo\r\n// SIG // NAAAAAAAHDANBgkqhkiG9w0BAQUFADBfMRMwEQYKCZIm\r\n// SIG // iZPyLGQBGRYDY29tMRkwFwYKCZImiZPyLGQBGRYJbWlj\r\n// SIG // cm9zb2Z0MS0wKwYDVQQDEyRNaWNyb3NvZnQgUm9vdCBD\r\n// SIG // ZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcNMDcwNDAzMTI1\r\n// SIG // MzA5WhcNMjEwNDAzMTMwMzA5WjB3MQswCQYDVQQGEwJV\r\n// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH\r\n// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv\r\n// SIG // cmF0aW9uMSEwHwYDVQQDExhNaWNyb3NvZnQgVGltZS1T\r\n// SIG // dGFtcCBQQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\r\n// SIG // ggEKAoIBAQCfoWyx39tIkip8ay4Z4b3i48WZUSNQrc7d\r\n// SIG // GE4kD+7Rp9FMrXQwIBHrB9VUlRVJlBtCkq6YXDAm2gBr\r\n// SIG // 6Hu97IkHD/cOBJjwicwfyzMkh53y9GccLPx754gd6udO\r\n// SIG // o6HBI1PKjfpFzwnQXq/QsEIEovmmbJNn1yjcRlOwhtDl\r\n// SIG // KEYuJ6yGT1VSDOQDLPtqkJAwbofzWTCd+n7Wl7PoIZd+\r\n// SIG // +NIT8wi3U21StEWQn0gASkdmEScpZqiX5NMGgUqi+YSn\r\n// SIG // EUcUCYKfhO1VeP4Bmh1QCIUAEDBG7bfeI0a7xC1Un68e\r\n// SIG // eEExd8yb3zuDk6FhArUdDbH895uyAc4iS1T/+QXDwiAL\r\n// SIG // AgMBAAGjggGrMIIBpzAPBgNVHRMBAf8EBTADAQH/MB0G\r\n// SIG // A1UdDgQWBBQjNPjZUkZwCu1A+3b7syuwwzWzDzALBgNV\r\n// SIG // HQ8EBAMCAYYwEAYJKwYBBAGCNxUBBAMCAQAwgZgGA1Ud\r\n// SIG // IwSBkDCBjYAUDqyCYEBWJ5flJRP8KuEKU5VZ5KShY6Rh\r\n// SIG // MF8xEzARBgoJkiaJk/IsZAEZFgNjb20xGTAXBgoJkiaJ\r\n// SIG // k/IsZAEZFgltaWNyb3NvZnQxLTArBgNVBAMTJE1pY3Jv\r\n// SIG // c29mdCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eYIQ\r\n// SIG // ea0WoUqgpa1Mc1j0BxMuZTBQBgNVHR8ESTBHMEWgQ6BB\r\n// SIG // hj9odHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpL2Ny\r\n// SIG // bC9wcm9kdWN0cy9taWNyb3NvZnRyb290Y2VydC5jcmww\r\n// SIG // VAYIKwYBBQUHAQEESDBGMEQGCCsGAQUFBzAChjhodHRw\r\n// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL2NlcnRzL01p\r\n// SIG // Y3Jvc29mdFJvb3RDZXJ0LmNydDATBgNVHSUEDDAKBggr\r\n// SIG // BgEFBQcDCDANBgkqhkiG9w0BAQUFAAOCAgEAEJeKw1wD\r\n// SIG // RDbd6bStd9vOeVFNAbEudHFbbQwTq86+e4+4LtQSooxt\r\n// SIG // YrhXAstOIBNQmd16QOJXu69YmhzhHQGGrLt48ovQ7DsB\r\n// SIG // 7uK+jwoFyI1I4vBTFd1Pq5Lk541q1YDB5pTyBi+FA+mR\r\n// SIG // KiQicPv2/OR4mS4N9wficLwYTp2OawpylbihOZxnLcVR\r\n// SIG // DupiXD8WmIsgP+IHGjL5zDFKdjE9K3ILyOpwPf+FChPf\r\n// SIG // wgphjvDXuBfrTot/xTUrXqO/67x9C0J71FNyIe4wyrt4\r\n// SIG // ZVxbARcKFA7S2hSY9Ty5ZlizLS/n+YWGzFFW6J1wlGys\r\n// SIG // OUzU9nm/qhh6YinvopspNAZ3GmLJPR5tH4LwC8csu89D\r\n// SIG // s+X57H2146SodDW4TsVxIxImdgs8UoxxWkZDFLyzs7BN\r\n// SIG // Z8ifQv+AeSGAnhUwZuhCEl4ayJ4iIdBD6Svpu/RIzCzU\r\n// SIG // 2DKATCYqSCRfWupW76bemZ3KOm+9gSd0BhHudiG/m4LB\r\n// SIG // J1S2sWo9iaF2YbRuoROmv6pH8BJv/YoybLL+31HIjCPJ\r\n// SIG // Zr2dHYcSZAI9La9Zj7jkIeW1sMpjtHhUBdRBLlCslLCl\r\n// SIG // eKuzoJZ1GtmShxN1Ii8yqAhuoFuMJb+g74TKIdbrHk/J\r\n// SIG // mu5J4PcBZW+JC33Iacjmbuqnl84xKf8OxVtc2E0bodj6\r\n// SIG // L54/LlUWa8kTo/0xggSJMIIEhQIBATCBkDB5MQswCQYD\r\n// SIG // VQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4G\r\n// SIG // A1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0\r\n// SIG // IENvcnBvcmF0aW9uMSMwIQYDVQQDExpNaWNyb3NvZnQg\r\n// SIG // Q29kZSBTaWduaW5nIFBDQQITMwAAAMps1TISNcThVQAB\r\n// SIG // AAAAyjAJBgUrDgMCGgUAoIGiMBkGCSqGSIb3DQEJAzEM\r\n// SIG // BgorBgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAMBgor\r\n// SIG // BgEEAYI3AgEVMCMGCSqGSIb3DQEJBDEWBBRqQwhZ/KH3\r\n// SIG // pWdu93vDXBBpIyeFczBCBgorBgEEAYI3AgEMMTQwMqAS\r\n// SIG // gBAAcABsAGkAcwB0AC4AagBzoRyAGmh0dHA6Ly9leHBy\r\n// SIG // ZXNzaW9uL3BsaXN0LmpzMA0GCSqGSIb3DQEBAQUABIIB\r\n// SIG // AGXCmuUhSpqgptIHfWkf/m7LWjKyeoOpxS58czhJY3+N\r\n// SIG // gQ+J0DINyotTECy/XeDkP/cJqJYe1Yc7CxA9qZYcNJSM\r\n// SIG // S4CtK9TK5HKK24Q4EEuG3MC8dPXKgYEStzGQURGoKI1l\r\n// SIG // jQ0mSAm/M/c6fCZ83ElxI5PKD/z8oFbJsbtMlCCfFjXj\r\n// SIG // BGtgAGVGX14HCyTKoOVaq83FfcEOiRRmWBwcVNgEvNX7\r\n// SIG // sPtvjDw17JzSr4jWAVd2B9QkR5HVz06zLwfoO0P3fcmQ\r\n// SIG // +JWSR2Q3icfMARIZVCepjfGxHWnRAVdayQOC2c0euU8T\r\n// SIG // g9v1zcGNNzPMSoLJyVqvx4TDbG0w2srBiNKhggIoMIIC\r\n// SIG // JAYJKoZIhvcNAQkGMYICFTCCAhECAQEwgY4wdzELMAkG\r\n// SIG // A1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAO\r\n// SIG // BgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29m\r\n// SIG // dCBDb3Jwb3JhdGlvbjEhMB8GA1UEAxMYTWljcm9zb2Z0\r\n// SIG // IFRpbWUtU3RhbXAgUENBAhMzAAAAcbMuimuCqh9OAAAA\r\n// SIG // AABxMAkGBSsOAwIaBQCgXTAYBgkqhkiG9w0BCQMxCwYJ\r\n// SIG // KoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0xNTA0MjMw\r\n// SIG // MjA4MjRaMCMGCSqGSIb3DQEJBDEWBBQv2qCfuYI8nHKU\r\n// SIG // hwIQ5GVnSfjTaDANBgkqhkiG9w0BAQUFAASCAQCskF7M\r\n// SIG // ot19MOzLYoAJ8jZOYBajgKj+hFfxExAyCK2eQqT+GGkG\r\n// SIG // WsRGk0O1epKKFj6bdv/+aqfRoH8SKtBcX2mwMslnGvEn\r\n// SIG // /23Vc0gC+LXKbHR8Ujec8fLG5H3trqnxI2gS9dyJzLdk\r\n// SIG // ZYxMxmf0Uau17Dt3f4AM7mPfYKbqtPKGTaSzP7ja5L52\r\n// SIG // jjy0+M1eegm/rqHtL6k+BRtbqwpvr8PcdZ3uRsJONgqP\r\n// SIG // 0d77FDHJXTi9nxeQX/3r0YEzxDj8HqUPx2h08KTrh5A7\r\n// SIG // 5OLkDPJ4SaY1fNlBaaTcMr58xAhaG7DbOryzWA/H8IyA\r\n// SIG // N0VHwgWjMn5q6KZfq7EZWnRtadr1\r\n// SIG // End signature block\r\n"}